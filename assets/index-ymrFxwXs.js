function xM(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function $E(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Wv={exports:{}},Wh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cI;function PM(){if(cI)return Wh;cI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,o){var u=null;if(o!==void 0&&(u=""+o),i.key!==void 0&&(u=""+i.key),"key"in i){o={};for(var h in i)h!=="key"&&(o[h]=i[h])}else o=i;return i=o.ref,{$$typeof:n,type:r,key:u,ref:i!==void 0?i:null,props:o}}return Wh.Fragment=e,Wh.jsx=t,Wh.jsxs=t,Wh}var hI;function OM(){return hI||(hI=1,Wv.exports=PM()),Wv.exports}var q=OM(),Qv={exports:{}},Qh={},Yv={exports:{}},Xv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dI;function DM(){return dI||(dI=1,function(n){function e($,J){var le=$.length;$.push(J);e:for(;0<le;){var be=le-1>>>1,j=$[be];if(0<i(j,J))$[be]=J,$[le]=j,le=be;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var J=$[0],le=$.pop();if(le!==J){$[0]=le;e:for(var be=0,j=$.length,re=j>>>1;be<re;){var ge=2*(be+1)-1,me=$[ge],Te=ge+1,ke=$[Te];if(0>i(me,le))Te<j&&0>i(ke,me)?($[be]=ke,$[Te]=le,be=Te):($[be]=me,$[ge]=le,be=ge);else if(Te<j&&0>i(ke,le))$[be]=ke,$[Te]=le,be=Te;else break e}}return J}function i($,J){var le=$.sortIndex-J.sortIndex;return le!==0?le:$.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],d=[],g=1,_=null,v=3,T=!1,b=!1,A=!1,P=!1,U=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function H($){for(var J=t(d);J!==null;){if(J.callback===null)r(d);else if(J.startTime<=$)r(d),J.sortIndex=J.expirationTime,e(f,J);else break;J=t(d)}}function F($){if(A=!1,H($),!b)if(t(f)!==null)b=!0,K||(K=!0,C());else{var J=t(d);J!==null&&B(F,J.startTime-$)}}var K=!1,M=-1,R=5,x=-1;function w(){return P?!0:!(n.unstable_now()-x<R)}function O(){if(P=!1,K){var $=n.unstable_now();x=$;var J=!0;try{e:{b=!1,A&&(A=!1,V(M),M=-1),T=!0;var le=v;try{t:{for(H($),_=t(f);_!==null&&!(_.expirationTime>$&&w());){var be=_.callback;if(typeof be=="function"){_.callback=null,v=_.priorityLevel;var j=be(_.expirationTime<=$);if($=n.unstable_now(),typeof j=="function"){_.callback=j,H($),J=!0;break t}_===t(f)&&r(f),H($)}else r(f);_=t(f)}if(_!==null)J=!0;else{var re=t(d);re!==null&&B(F,re.startTime-$),J=!1}}break e}finally{_=null,v=le,T=!1}J=void 0}}finally{J?C():K=!1}}}var C;if(typeof L=="function")C=function(){L(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,se=D.port2;D.port1.onmessage=O,C=function(){se.postMessage(null)}}else C=function(){U(O,0)};function B($,J){M=U(function(){$(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function($){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var le=v;v=J;try{return $()}finally{v=le}},n.unstable_requestPaint=function(){P=!0},n.unstable_runWithPriority=function($,J){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var le=v;v=$;try{return J()}finally{v=le}},n.unstable_scheduleCallback=function($,J,le){var be=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?be+le:be):le=be,$){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=le+j,$={id:g++,callback:J,priorityLevel:$,startTime:le,expirationTime:j,sortIndex:-1},le>be?($.sortIndex=le,e(d,$),t(f)===null&&$===t(d)&&(A?(V(M),M=-1):A=!0,B(F,le-be))):($.sortIndex=j,e(f,$),b||T||(b=!0,K||(K=!0,C()))),$},n.unstable_shouldYield=w,n.unstable_wrapCallback=function($){var J=v;return function(){var le=v;v=J;try{return $.apply(this,arguments)}finally{v=le}}}}(Xv)),Xv}var fI;function NM(){return fI||(fI=1,Yv.exports=DM()),Yv.exports}var Jv={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pI;function kM(){if(pI)return Le;pI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function v(j){return j===null||typeof j!="object"?null:(j=_&&j[_]||j["@@iterator"],typeof j=="function"?j:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,A={};function P(j,re,ge){this.props=j,this.context=re,this.refs=A,this.updater=ge||T}P.prototype.isReactComponent={},P.prototype.setState=function(j,re){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,re,"setState")},P.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function U(){}U.prototype=P.prototype;function V(j,re,ge){this.props=j,this.context=re,this.refs=A,this.updater=ge||T}var L=V.prototype=new U;L.constructor=V,b(L,P.prototype),L.isPureReactComponent=!0;var H=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function M(j,re,ge,me,Te,ke){return ge=ke.ref,{$$typeof:n,type:j,key:re,ref:ge!==void 0?ge:null,props:ke}}function R(j,re){return M(j.type,re,void 0,void 0,void 0,j.props)}function x(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function w(j){var re={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ge){return re[ge]})}var O=/\/+/g;function C(j,re){return typeof j=="object"&&j!==null&&j.key!=null?w(""+j.key):re.toString(36)}function D(){}function se(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(D,D):(j.status="pending",j.then(function(re){j.status==="pending"&&(j.status="fulfilled",j.value=re)},function(re){j.status==="pending"&&(j.status="rejected",j.reason=re)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function B(j,re,ge,me,Te){var ke=typeof j;(ke==="undefined"||ke==="boolean")&&(j=null);var xe=!1;if(j===null)xe=!0;else switch(ke){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(j.$$typeof){case n:case e:xe=!0;break;case g:return xe=j._init,B(xe(j._payload),re,ge,me,Te)}}if(xe)return Te=Te(j),xe=me===""?"."+C(j,0):me,H(Te)?(ge="",xe!=null&&(ge=xe.replace(O,"$&/")+"/"),B(Te,re,ge,"",function(Pr){return Pr})):Te!=null&&(x(Te)&&(Te=R(Te,ge+(Te.key==null||j&&j.key===Te.key?"":(""+Te.key).replace(O,"$&/")+"/")+xe)),re.push(Te)),1;xe=0;var $t=me===""?".":me+":";if(H(j))for(var rt=0;rt<j.length;rt++)me=j[rt],ke=$t+C(me,rt),xe+=B(me,re,ge,ke,Te);else if(rt=v(j),typeof rt=="function")for(j=rt.call(j),rt=0;!(me=j.next()).done;)me=me.value,ke=$t+C(me,rt++),xe+=B(me,re,ge,ke,Te);else if(ke==="object"){if(typeof j.then=="function")return B(se(j),re,ge,me,Te);throw re=String(j),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return xe}function $(j,re,ge){if(j==null)return j;var me=[],Te=0;return B(j,me,"","",function(ke){return re.call(ge,ke,Te++)}),me}function J(j){if(j._status===-1){var re=j._result;re=re(),re.then(function(ge){(j._status===0||j._status===-1)&&(j._status=1,j._result=ge)},function(ge){(j._status===0||j._status===-1)&&(j._status=2,j._result=ge)}),j._status===-1&&(j._status=0,j._result=re)}if(j._status===1)return j._result.default;throw j._result}var le=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function be(){}return Le.Children={map:$,forEach:function(j,re,ge){$(j,function(){re.apply(this,arguments)},ge)},count:function(j){var re=0;return $(j,function(){re++}),re},toArray:function(j){return $(j,function(re){return re})||[]},only:function(j){if(!x(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Le.Component=P,Le.Fragment=t,Le.Profiler=i,Le.PureComponent=V,Le.StrictMode=r,Le.Suspense=f,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Le.__COMPILER_RUNTIME={__proto__:null,c:function(j){return F.H.useMemoCache(j)}},Le.cache=function(j){return function(){return j.apply(null,arguments)}},Le.cloneElement=function(j,re,ge){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var me=b({},j.props),Te=j.key,ke=void 0;if(re!=null)for(xe in re.ref!==void 0&&(ke=void 0),re.key!==void 0&&(Te=""+re.key),re)!K.call(re,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&re.ref===void 0||(me[xe]=re[xe]);var xe=arguments.length-2;if(xe===1)me.children=ge;else if(1<xe){for(var $t=Array(xe),rt=0;rt<xe;rt++)$t[rt]=arguments[rt+2];me.children=$t}return M(j.type,Te,void 0,void 0,ke,me)},Le.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},Le.createElement=function(j,re,ge){var me,Te={},ke=null;if(re!=null)for(me in re.key!==void 0&&(ke=""+re.key),re)K.call(re,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Te[me]=re[me]);var xe=arguments.length-2;if(xe===1)Te.children=ge;else if(1<xe){for(var $t=Array(xe),rt=0;rt<xe;rt++)$t[rt]=arguments[rt+2];Te.children=$t}if(j&&j.defaultProps)for(me in xe=j.defaultProps,xe)Te[me]===void 0&&(Te[me]=xe[me]);return M(j,ke,void 0,void 0,null,Te)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(j){return{$$typeof:h,render:j}},Le.isValidElement=x,Le.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:J}},Le.memo=function(j,re){return{$$typeof:d,type:j,compare:re===void 0?null:re}},Le.startTransition=function(j){var re=F.T,ge={};F.T=ge;try{var me=j(),Te=F.S;Te!==null&&Te(ge,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(be,le)}catch(ke){le(ke)}finally{F.T=re}},Le.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Le.use=function(j){return F.H.use(j)},Le.useActionState=function(j,re,ge){return F.H.useActionState(j,re,ge)},Le.useCallback=function(j,re){return F.H.useCallback(j,re)},Le.useContext=function(j){return F.H.useContext(j)},Le.useDebugValue=function(){},Le.useDeferredValue=function(j,re){return F.H.useDeferredValue(j,re)},Le.useEffect=function(j,re,ge){var me=F.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return me.useEffect(j,re)},Le.useId=function(){return F.H.useId()},Le.useImperativeHandle=function(j,re,ge){return F.H.useImperativeHandle(j,re,ge)},Le.useInsertionEffect=function(j,re){return F.H.useInsertionEffect(j,re)},Le.useLayoutEffect=function(j,re){return F.H.useLayoutEffect(j,re)},Le.useMemo=function(j,re){return F.H.useMemo(j,re)},Le.useOptimistic=function(j,re){return F.H.useOptimistic(j,re)},Le.useReducer=function(j,re,ge){return F.H.useReducer(j,re,ge)},Le.useRef=function(j){return F.H.useRef(j)},Le.useState=function(j){return F.H.useState(j)},Le.useSyncExternalStore=function(j,re,ge){return F.H.useSyncExternalStore(j,re,ge)},Le.useTransition=function(){return F.H.useTransition()},Le.version="19.1.0",Le}var mI;function Ja(){return mI||(mI=1,Jv.exports=kM()),Jv.exports}var Zv={exports:{}},Bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gI;function MM(){if(gI)return Bn;gI=1;var n=Ja();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,d,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:f,containerInfo:d,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Bn.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,g)},Bn.flushSync=function(f){var d=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=g,r.d.f()}},Bn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Bn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Bn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,_=h(g,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,T=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:T}):g==="script"&&r.d.X(f,{crossOrigin:_,integrity:v,fetchPriority:T,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Bn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=h(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Bn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,_=h(g,d.crossOrigin);r.d.L(f,g,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Bn.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=h(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Bn.requestFormReset=function(f){r.d.r(f)},Bn.unstable_batchedUpdates=function(f,d){return f(d)},Bn.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},Bn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Bn.version="19.1.0",Bn}var yI;function VM(){if(yI)return Zv.exports;yI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Zv.exports=MM(),Zv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _I;function LM(){if(_I)return Qh;_I=1;var n=NM(),e=Ja(),t=VM();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function u(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(r(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(r(188));return a!==s?null:s}for(var l=s,c=a;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return h(m),s;if(y===c)return h(m),a;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=y;else{for(var I=!1,N=m.child;N;){if(N===l){I=!0,l=m,c=y;break}if(N===c){I=!0,c=m,l=y;break}N=N.sibling}if(!I){for(N=y.child;N;){if(N===l){I=!0,l=y,c=m;break}if(N===c){I=!0,c=y,l=m;break}N=N.sibling}if(!I)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:a}function d(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=d(s),a!==null)return a;s=s.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),L=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),w=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function C(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var D=Symbol.for("react.client.reference");function se(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===D?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case b:return"Fragment";case P:return"Profiler";case A:return"StrictMode";case F:return"Suspense";case K:return"SuspenseList";case x:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case L:return(s.displayName||"Context")+".Provider";case V:return(s._context.displayName||"Context")+".Consumer";case H:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return a=s.displayName||null,a!==null?a:se(s.type)||"Memo";case R:a=s._payload,s=s._init;try{return se(s(a))}catch{}}return null}var B=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},be=[],j=-1;function re(s){return{current:s}}function ge(s){0>j||(s.current=be[j],be[j]=null,j--)}function me(s,a){j++,be[j]=s.current,s.current=a}var Te=re(null),ke=re(null),xe=re(null),$t=re(null);function rt(s,a){switch(me(xe,a),me(ke,s),me(Te,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?UA(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=UA(a),s=BA(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ge(Te),me(Te,s)}function Pr(){ge(Te),ge(ke),ge(xe)}function ci(s){s.memoizedState!==null&&me($t,s);var a=Te.current,l=BA(a,s.type);a!==l&&(me(ke,s),me(Te,l))}function Or(s){ke.current===s&&(ge(Te),ge(ke)),$t.current===s&&(ge($t),qh._currentValue=le)}var dr=Object.prototype.hasOwnProperty,Ln=n.unstable_scheduleCallback,Qr=n.unstable_cancelCallback,lo=n.unstable_shouldYield,xl=n.unstable_requestPaint,tr=n.unstable_now,jc=n.unstable_getCurrentPriorityLevel,uo=n.unstable_ImmediatePriority,Ji=n.unstable_UserBlockingPriority,Fe=n.unstable_NormalPriority,_t=n.unstable_LowPriority,wt=n.unstable_IdlePriority,hi=n.log,Yr=n.unstable_setDisableYieldValue,st=null,Ue=null;function Gt(s){if(typeof hi=="function"&&Yr(s),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(st,s)}catch{}}var en=Math.clz32?Math.clz32:co,Kf=Math.log,Yy=Math.LN2;function co(s){return s>>>=0,s===0?32:31-(Kf(s)/Yy|0)|0}var ho=256,fo=4194304;function Xr(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Pl(s,a,l){var c=s.pendingLanes;if(c===0)return 0;var m=0,y=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var N=c&134217727;return N!==0?(c=N&~y,c!==0?m=Xr(c):(I&=N,I!==0?m=Xr(I):l||(l=N&~s,l!==0&&(m=Xr(l))))):(N=c&~y,N!==0?m=Xr(N):I!==0?m=Xr(I):l||(l=c&~s,l!==0&&(m=Xr(l)))),m===0?0:a!==0&&a!==m&&(a&y)===0&&(y=m&-m,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:m}function po(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function qc(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hc(){var s=ho;return ho<<=1,(ho&4194048)===0&&(ho=256),s}function $c(){var s=fo;return fo<<=1,(fo&62914560)===0&&(fo=4194304),s}function Zi(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function es(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Gc(s,a,l,c,m,y){var I=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var N=s.entanglements,z=s.expirationTimes,ee=s.hiddenUpdates;for(l=I&~l;0<l;){var ce=31-en(l),de=1<<ce;N[ce]=0,z[ce]=-1;var te=ee[ce];if(te!==null)for(ee[ce]=null,ce=0;ce<te.length;ce++){var ne=te[ce];ne!==null&&(ne.lane&=-536870913)}l&=~de}c!==0&&di(s,c,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(I&~a))}function di(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var c=31-en(a);s.entangledLanes|=a,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194090}function Kc(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var c=31-en(l),m=1<<c;m&a|s[c]&a&&(s[c]|=a),l&=~m}}function Ks(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ol(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ws(){var s=J.p;return s!==0?s:(s=window.event,s===void 0?32:iI(s.type))}function Wf(s,a){var l=J.p;try{return J.p=s,a()}finally{J.p=l}}var Tt=Math.random().toString(36).slice(2),dn="__reactFiber$"+Tt,tn="__reactProps$"+Tt,Dr="__reactContainer$"+Tt,Wc="__reactEvents$"+Tt,Xy="__reactListeners$"+Tt,Qs="__reactHandles$"+Tt,Qf="__reactResources$"+Tt,mo="__reactMarker$"+Tt;function Ys(s){delete s[dn],delete s[tn],delete s[Wc],delete s[Xy],delete s[Qs]}function ts(s){var a=s[dn];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Dr]||l[dn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=qA(s);s!==null;){if(l=s[dn])return l;s=qA(s)}return a}s=l,l=s.parentNode}return null}function fi(s){if(s=s[dn]||s[Dr]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function pi(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function Gn(s){var a=s[Qf];return a||(a=s[Qf]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Kt(s){s[mo]=!0}var Qc=new Set,Dl={};function Jr(s,a){ns(s,a),ns(s+"Capture",a)}function ns(s,a){for(Dl[s]=a,s=0;s<a.length;s++)Qc.add(a[s])}var Yf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xf={},go={};function Jf(s){return dr.call(go,s)?!0:dr.call(Xf,s)?!1:Yf.test(s)?go[s]=!0:(Xf[s]=!0,!1)}function Xs(s,a,l){if(Jf(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function mi(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Cn(s,a,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+c)}}var yo,Zf;function rs(s){if(yo===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);yo=a&&a[1]||"",Zf=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yo+s+Zf}var Nl=!1;function kl(s,a){if(!s||Nl)return"";Nl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ne){var te=ne}Reflect.construct(s,[],de)}else{try{de.call()}catch(ne){te=ne}s.call(de.prototype)}}else{try{throw Error()}catch(ne){te=ne}(de=s())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),I=y[0],N=y[1];if(I&&N){var z=I.split(`
`),ee=N.split(`
`);for(m=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;m<ee.length&&!ee[m].includes("DetermineComponentFrameRoot");)m++;if(c===z.length||m===ee.length)for(c=z.length-1,m=ee.length-1;1<=c&&0<=m&&z[c]!==ee[m];)m--;for(;1<=c&&0<=m;c--,m--)if(z[c]!==ee[m]){if(c!==1||m!==1)do if(c--,m--,0>m||z[c]!==ee[m]){var ce=`
`+z[c].replace(" at new "," at ");return s.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",s.displayName)),ce}while(1<=c&&0<=m);break}}}finally{Nl=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?rs(l):""}function Yc(s){switch(s.tag){case 26:case 27:case 5:return rs(s.type);case 16:return rs("Lazy");case 13:return rs("Suspense");case 19:return rs("SuspenseList");case 0:case 15:return kl(s.type,!1);case 11:return kl(s.type.render,!1);case 1:return kl(s.type,!0);case 31:return rs("Activity");default:return""}}function Ml(s){try{var a="";do a+=Yc(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Kn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Xc(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Jy(s){var a=Xc(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),c=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(I){c=""+I,y.call(this,I)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(I){c=""+I},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Vl(s){s._valueTracker||(s._valueTracker=Jy(s))}function Jc(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return s&&(c=Xc(s)?s.checked?"true":"false":s.value),s=c,s!==l?(a.setValue(s),!0):!1}function _o(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Zy=/[\n"\\]/g;function nn(s){return s.replace(Zy,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function fr(s,a,l,c,m,y,I,N){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),a!=null?I==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Kn(a)):s.value!==""+Kn(a)&&(s.value=""+Kn(a)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),a!=null?Js(s,I,Kn(a)):l!=null?Js(s,I,Kn(l)):c!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?s.name=""+Kn(N):s.removeAttribute("name")}function vo(s,a,l,c,m,y,I,N){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+Kn(l):"",a=a!=null?""+Kn(a):l,N||a===s.value||(s.value=a),s.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=N?s.checked:!!c,s.defaultChecked=!!c,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I)}function Js(s,a,l){a==="number"&&_o(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function is(s,a,l,c){if(s=s.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=a.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&c&&(s[l].defaultSelected=!0)}else{for(l=""+Kn(l),a=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function ct(s,a,l){if(a!=null&&(a=""+Kn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Kn(l):""}function Eo(s,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(B(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Kn(a),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function Nr(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var bo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ep(s,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":c?s.setProperty(a,l):typeof l!="number"||l===0||bo.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Zc(s,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&ep(s,m,c)}else for(var y in a)a.hasOwnProperty(y)&&ep(s,y,a[y])}function eh(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var e_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),t_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ll(s){return t_.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var ss=null;function kr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var as=null,os=null;function th(s){var a=fi(s);if(a&&(s=a.stateNode)){var l=s[tn]||null;e:switch(s=a.stateNode,a.type){case"input":if(fr(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+nn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==s&&c.form===s.form){var m=c[tn]||null;if(!m)throw Error(r(90));fr(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===s.form&&Jc(c)}break e;case"textarea":ct(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&is(s,!!l.multiple,a,!1)}}}var gi=!1;function tp(s,a,l){if(gi)return s(a,l);gi=!0;try{var c=s(a);return c}finally{if(gi=!1,(as!==null||os!==null)&&(Wp(),as&&(a=as,s=os,os=as=null,th(a),s)))for(a=0;a<s.length;a++)th(s[a])}}function wo(s,a){var l=s.stateNode;if(l===null)return null;var c=l[tn]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mr=!1;if(Zr)try{var To={};Object.defineProperty(To,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",To,To),window.removeEventListener("test",To,To)}catch{Mr=!1}var yi=null,Zs=null,ls=null;function nh(){if(ls)return ls;var s,a=Zs,l=a.length,c,m="value"in yi?yi.value:yi.textContent,y=m.length;for(s=0;s<l&&a[s]===m[s];s++);var I=l-s;for(c=1;c<=I&&a[l-c]===m[y-c];c++);return ls=m.slice(s,1<c?1-c:void 0)}function _i(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function vi(){return!0}function rh(){return!1}function vn(s){function a(l,c,m,y,I){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=I,this.currentTarget=null;for(var N in s)s.hasOwnProperty(N)&&(l=s[N],this[N]=l?l(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?vi:rh,this.isPropagationStopped=rh,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),a}var it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ul=vn(it),So=g({},it,{view:0,detail:0}),np=vn(So),Bl,Fl,Ei,Ao=g({},So,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Co,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ei&&(Ei&&s.type==="mousemove"?(Bl=s.screenX-Ei.screenX,Fl=s.screenY-Ei.screenY):Fl=Bl=0,Ei=s),Bl)},movementY:function(s){return"movementY"in s?s.movementY:Fl}}),Vr=vn(Ao),rp=g({},Ao,{dataTransfer:0}),n_=vn(rp),Io=g({},So,{relatedTarget:0}),zl=vn(Io),ih=g({},it,{animationName:0,elapsedTime:0,pseudoElement:0}),jl=vn(ih),ip=g({},it,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ql=vn(ip),r_=g({},it,{data:0}),sh=vn(r_),Ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ap={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ah(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=ap[s])?!!a[s]:!1}function Co(){return ah}var op=g({},So,{key:function(s){if(s.key){var a=Ro[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=_i(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?sp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Co,charCode:function(s){return s.type==="keypress"?_i(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?_i(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Hl=vn(op),lp=g({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oh=vn(lp),us=g({},So,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Co}),up=vn(us),cp=g({},it,{propertyName:0,elapsedTime:0,pseudoElement:0}),hp=vn(cp),dp=g({},Ao,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),$l=vn(dp),Wn=g({},it,{newState:0,oldState:0}),fp=vn(Wn),pp=[9,13,27,32],bi=Zr&&"CompositionEvent"in window,p=null;Zr&&"documentMode"in document&&(p=document.documentMode);var E=Zr&&"TextEvent"in window&&!p,S=Zr&&(!bi||p&&8<p&&11>=p),k=" ",Y=!1;function ae(s,a){switch(s){case"keyup":return pp.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var We=!1;function fn(s,a){switch(s){case"compositionend":return _e(a);case"keypress":return a.which!==32?null:(Y=!0,k);case"textInput":return s=a.data,s===k&&Y?null:s;default:return null}}function Qe(s,a){if(We)return s==="compositionend"||!bi&&ae(s,a)?(s=nh(),ls=Zs=yi=null,We=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return S&&a.locale!=="ko"?null:a.data;default:return null}}var En={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pn(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!En[s.type]:a==="textarea"}function cs(s,a,l,c){as?os?os.push(c):os=[c]:as=c,a=em(a,"onChange"),0<a.length&&(l=new Ul("onChange","change",null,l,c),s.push({event:l,listeners:a}))}var xn=null,wi=null;function lh(s){NA(s,0)}function mp(s){var a=pi(s);if(Jc(a))return s}function eT(s,a){if(s==="change")return a}var tT=!1;if(Zr){var i_;if(Zr){var s_="oninput"in document;if(!s_){var nT=document.createElement("div");nT.setAttribute("oninput","return;"),s_=typeof nT.oninput=="function"}i_=s_}else i_=!1;tT=i_&&(!document.documentMode||9<document.documentMode)}function rT(){xn&&(xn.detachEvent("onpropertychange",iT),wi=xn=null)}function iT(s){if(s.propertyName==="value"&&mp(wi)){var a=[];cs(a,wi,s,kr(s)),tp(lh,a)}}function s2(s,a,l){s==="focusin"?(rT(),xn=a,wi=l,xn.attachEvent("onpropertychange",iT)):s==="focusout"&&rT()}function a2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return mp(wi)}function o2(s,a){if(s==="click")return mp(a)}function l2(s,a){if(s==="input"||s==="change")return mp(a)}function u2(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var pr=typeof Object.is=="function"?Object.is:u2;function uh(s,a){if(pr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!dr.call(a,m)||!pr(s[m],a[m]))return!1}return!0}function sT(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function aT(s,a){var l=sT(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=a&&c>=a)return{node:l,offset:a-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=sT(l)}}function oT(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?oT(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function lT(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=_o(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=_o(s.document)}return a}function a_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var c2=Zr&&"documentMode"in document&&11>=document.documentMode,Gl=null,o_=null,ch=null,l_=!1;function uT(s,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;l_||Gl==null||Gl!==_o(c)||(c=Gl,"selectionStart"in c&&a_(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ch&&uh(ch,c)||(ch=c,c=em(o_,"onSelect"),0<c.length&&(a=new Ul("onSelect","select",null,a,l),s.push({event:a,listeners:c}),a.target=Gl)))}function xo(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var Kl={animationend:xo("Animation","AnimationEnd"),animationiteration:xo("Animation","AnimationIteration"),animationstart:xo("Animation","AnimationStart"),transitionrun:xo("Transition","TransitionRun"),transitionstart:xo("Transition","TransitionStart"),transitioncancel:xo("Transition","TransitionCancel"),transitionend:xo("Transition","TransitionEnd")},u_={},cT={};Zr&&(cT=document.createElement("div").style,"AnimationEvent"in window||(delete Kl.animationend.animation,delete Kl.animationiteration.animation,delete Kl.animationstart.animation),"TransitionEvent"in window||delete Kl.transitionend.transition);function Po(s){if(u_[s])return u_[s];if(!Kl[s])return s;var a=Kl[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in cT)return u_[s]=a[l];return s}var hT=Po("animationend"),dT=Po("animationiteration"),fT=Po("animationstart"),h2=Po("transitionrun"),d2=Po("transitionstart"),f2=Po("transitioncancel"),pT=Po("transitionend"),mT=new Map,c_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");c_.push("scrollEnd");function ei(s,a){mT.set(s,a),Jr(a,[s])}var gT=new WeakMap;function Lr(s,a){if(typeof s=="object"&&s!==null){var l=gT.get(s);return l!==void 0?l:(a={value:s,source:a,stack:Ml(a)},gT.set(s,a),a)}return{value:s,source:a,stack:Ml(a)}}var Ur=[],Wl=0,h_=0;function gp(){for(var s=Wl,a=h_=Wl=0;a<s;){var l=Ur[a];Ur[a++]=null;var c=Ur[a];Ur[a++]=null;var m=Ur[a];Ur[a++]=null;var y=Ur[a];if(Ur[a++]=null,c!==null&&m!==null){var I=c.pending;I===null?m.next=m:(m.next=I.next,I.next=m),c.pending=m}y!==0&&yT(l,m,y)}}function yp(s,a,l,c){Ur[Wl++]=s,Ur[Wl++]=a,Ur[Wl++]=l,Ur[Wl++]=c,h_|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function d_(s,a,l,c){return yp(s,a,l,c),_p(s)}function Ql(s,a){return yp(s,null,null,a),_p(s)}function yT(s,a,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var m=!1,y=s.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,m&&a!==null&&(m=31-en(l),s=y.hiddenUpdates,c=s[m],c===null?s[m]=[a]:c.push(a),a.lane=l|536870912),y):null}function _p(s){if(50<Mh)throw Mh=0,_v=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Yl={};function p2(s,a,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(s,a,l,c){return new p2(s,a,l,c)}function f_(s){return s=s.prototype,!(!s||!s.isReactComponent)}function hs(s,a){var l=s.alternate;return l===null?(l=mr(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function _T(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function vp(s,a,l,c,m,y){var I=0;if(c=s,typeof s=="function")f_(s)&&(I=1);else if(typeof s=="string")I=gM(s,l,Te.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case x:return s=mr(31,l,a,m),s.elementType=x,s.lanes=y,s;case b:return Oo(l.children,m,y,a);case A:I=8,m|=24;break;case P:return s=mr(12,l,a,m|2),s.elementType=P,s.lanes=y,s;case F:return s=mr(13,l,a,m),s.elementType=F,s.lanes=y,s;case K:return s=mr(19,l,a,m),s.elementType=K,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case U:case L:I=10;break e;case V:I=9;break e;case H:I=11;break e;case M:I=14;break e;case R:I=16,c=null;break e}I=29,l=Error(r(130,s===null?"null":typeof s,"")),c=null}return a=mr(I,l,a,m),a.elementType=s,a.type=c,a.lanes=y,a}function Oo(s,a,l,c){return s=mr(7,s,c,a),s.lanes=l,s}function p_(s,a,l){return s=mr(6,s,null,a),s.lanes=l,s}function m_(s,a,l){return a=mr(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Xl=[],Jl=0,Ep=null,bp=0,Br=[],Fr=0,Do=null,ds=1,fs="";function No(s,a){Xl[Jl++]=bp,Xl[Jl++]=Ep,Ep=s,bp=a}function vT(s,a,l){Br[Fr++]=ds,Br[Fr++]=fs,Br[Fr++]=Do,Do=s;var c=ds;s=fs;var m=32-en(c)-1;c&=~(1<<m),l+=1;var y=32-en(a)+m;if(30<y){var I=m-m%5;y=(c&(1<<I)-1).toString(32),c>>=I,m-=I,ds=1<<32-en(a)+m|l<<m|c,fs=y+s}else ds=1<<y|l<<m|c,fs=s}function g_(s){s.return!==null&&(No(s,1),vT(s,1,0))}function y_(s){for(;s===Ep;)Ep=Xl[--Jl],Xl[Jl]=null,bp=Xl[--Jl],Xl[Jl]=null;for(;s===Do;)Do=Br[--Fr],Br[Fr]=null,fs=Br[--Fr],Br[Fr]=null,ds=Br[--Fr],Br[Fr]=null}var Qn=null,Ut=null,et=!1,ko=null,Ti=!1,__=Error(r(519));function Mo(s){var a=Error(r(418,""));throw fh(Lr(a,s)),__}function ET(s){var a=s.stateNode,l=s.type,c=s.memoizedProps;switch(a[dn]=s,a[tn]=c,l){case"dialog":qe("cancel",a),qe("close",a);break;case"iframe":case"object":case"embed":qe("load",a);break;case"video":case"audio":for(l=0;l<Lh.length;l++)qe(Lh[l],a);break;case"source":qe("error",a);break;case"img":case"image":case"link":qe("error",a),qe("load",a);break;case"details":qe("toggle",a);break;case"input":qe("invalid",a),vo(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Vl(a);break;case"select":qe("invalid",a);break;case"textarea":qe("invalid",a),Eo(a,c.value,c.defaultValue,c.children),Vl(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||LA(a.textContent,l)?(c.popover!=null&&(qe("beforetoggle",a),qe("toggle",a)),c.onScroll!=null&&qe("scroll",a),c.onScrollEnd!=null&&qe("scrollend",a),c.onClick!=null&&(a.onclick=tm),a=!0):a=!1,a||Mo(s)}function bT(s){for(Qn=s.return;Qn;)switch(Qn.tag){case 5:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:Qn=Qn.return}}function hh(s){if(s!==Qn)return!1;if(!et)return bT(s),et=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||kv(s.type,s.memoizedProps)),l=!l),l&&Ut&&Mo(s),bT(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){Ut=ni(s.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}Ut=null}}else a===27?(a=Ut,ma(s.type)?(s=Uv,Uv=null,Ut=s):Ut=a):Ut=Qn?ni(s.stateNode.nextSibling):null;return!0}function dh(){Ut=Qn=null,et=!1}function wT(){var s=ko;return s!==null&&(ir===null?ir=s:ir.push.apply(ir,s),ko=null),s}function fh(s){ko===null?ko=[s]:ko.push(s)}var v_=re(null),Vo=null,ps=null;function ea(s,a,l){me(v_,a._currentValue),a._currentValue=l}function ms(s){s._currentValue=v_.current,ge(v_)}function E_(s,a,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),s===l)break;s=s.return}}function b_(s,a,l,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var I=m.child;y=y.firstContext;e:for(;y!==null;){var N=y;y=m;for(var z=0;z<a.length;z++)if(N.context===a[z]){y.lanes|=l,N=y.alternate,N!==null&&(N.lanes|=l),E_(y.return,l,s),c||(I=null);break e}y=N.next}}else if(m.tag===18){if(I=m.return,I===null)throw Error(r(341));I.lanes|=l,y=I.alternate,y!==null&&(y.lanes|=l),E_(I,l,s),I=null}else I=m.child;if(I!==null)I.return=m;else for(I=m;I!==null;){if(I===s){I=null;break}if(m=I.sibling,m!==null){m.return=I.return,I=m;break}I=I.return}m=I}}function ph(s,a,l,c){s=null;for(var m=a,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var I=m.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var N=m.type;pr(m.pendingProps.value,I.value)||(s!==null?s.push(N):s=[N])}}else if(m===$t.current){if(I=m.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(qh):s=[qh])}m=m.return}s!==null&&b_(a,s,l,c),a.flags|=262144}function wp(s){for(s=s.firstContext;s!==null;){if(!pr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Lo(s){Vo=s,ps=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Un(s){return TT(Vo,s)}function Tp(s,a){return Vo===null&&Lo(s),TT(s,a)}function TT(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ps===null){if(s===null)throw Error(r(308));ps=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else ps=ps.next=a;return l}var m2=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},g2=n.unstable_scheduleCallback,y2=n.unstable_NormalPriority,mn={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function w_(){return{controller:new m2,data:new Map,refCount:0}}function mh(s){s.refCount--,s.refCount===0&&g2(y2,function(){s.controller.abort()})}var gh=null,T_=0,Zl=0,eu=null;function _2(s,a){if(gh===null){var l=gh=[];T_=0,Zl=Av(),eu={status:"pending",value:void 0,then:function(c){l.push(c)}}}return T_++,a.then(ST,ST),a}function ST(){if(--T_===0&&gh!==null){eu!==null&&(eu.status="fulfilled");var s=gh;gh=null,Zl=0,eu=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function v2(s,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var AT=$.S;$.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&_2(s,a),AT!==null&&AT(s,a)};var Uo=re(null);function S_(){var s=Uo.current;return s!==null?s:vt.pooledCache}function Sp(s,a){a===null?me(Uo,Uo.current):me(Uo,a.pool)}function IT(){var s=S_();return s===null?null:{parent:mn._currentValue,pool:s}}var yh=Error(r(460)),RT=Error(r(474)),Ap=Error(r(542)),A_={then:function(){}};function CT(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Ip(){}function xT(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Ip,Ip),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,OT(s),s;default:if(typeof a.status=="string")a.then(Ip,Ip);else{if(s=vt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,OT(s),s}throw _h=a,yh}}var _h=null;function PT(){if(_h===null)throw Error(r(459));var s=_h;return _h=null,s}function OT(s){if(s===yh||s===Ap)throw Error(r(483))}var ta=!1;function I_(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function R_(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function na(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ra(s,a,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(at&2)!==0){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=_p(s),yT(s,null,l),a}return yp(s,c,a,l),_p(s)}function vh(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,Kc(s,l)}}function C_(s,a){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var I={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=I:y=y.next=I,l=l.next}while(l!==null);y===null?m=y=a:y=y.next=a}else m=y=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var x_=!1;function Eh(){if(x_){var s=eu;if(s!==null)throw s}}function bh(s,a,l,c){x_=!1;var m=s.updateQueue;ta=!1;var y=m.firstBaseUpdate,I=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var z=N,ee=z.next;z.next=null,I===null?y=ee:I.next=ee,I=z;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,N=ce.lastBaseUpdate,N!==I&&(N===null?ce.firstBaseUpdate=ee:N.next=ee,ce.lastBaseUpdate=z))}if(y!==null){var de=m.baseState;I=0,ce=ee=z=null,N=y;do{var te=N.lane&-536870913,ne=te!==N.lane;if(ne?(Ye&te)===te:(c&te)===te){te!==0&&te===Zl&&(x_=!0),ce!==null&&(ce=ce.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ne=s,Pe=N;te=a;var ft=l;switch(Pe.tag){case 1:if(Ne=Pe.payload,typeof Ne=="function"){de=Ne.call(ft,de,te);break e}de=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Pe.payload,te=typeof Ne=="function"?Ne.call(ft,de,te):Ne,te==null)break e;de=g({},de,te);break e;case 2:ta=!0}}te=N.callback,te!==null&&(s.flags|=64,ne&&(s.flags|=8192),ne=m.callbacks,ne===null?m.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ce===null?(ee=ce=ne,z=de):ce=ce.next=ne,I|=te;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;ne=N,N=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);ce===null&&(z=de),m.baseState=z,m.firstBaseUpdate=ee,m.lastBaseUpdate=ce,y===null&&(m.shared.lanes=0),ha|=I,s.lanes=I,s.memoizedState=de}}function DT(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function NT(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)DT(l[s],a)}var tu=re(null),Rp=re(0);function kT(s,a){s=ws,me(Rp,s),me(tu,a),ws=s|a.baseLanes}function P_(){me(Rp,ws),me(tu,tu.current)}function O_(){ws=Rp.current,ge(tu),ge(Rp)}var ia=0,Be=null,ht=null,rn=null,Cp=!1,nu=!1,Bo=!1,xp=0,wh=0,ru=null,E2=0;function Wt(){throw Error(r(321))}function D_(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!pr(s[l],a[l]))return!1;return!0}function N_(s,a,l,c,m,y){return ia=y,Be=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,$.H=s===null||s.memoizedState===null?yS:_S,Bo=!1,y=l(c,m),Bo=!1,nu&&(y=VT(a,l,c,m)),MT(s),y}function MT(s){$.H=Mp;var a=ht!==null&&ht.next!==null;if(ia=0,rn=ht=Be=null,Cp=!1,wh=0,ru=null,a)throw Error(r(300));s===null||bn||(s=s.dependencies,s!==null&&wp(s)&&(bn=!0))}function VT(s,a,l,c){Be=s;var m=0;do{if(nu&&(ru=null),wh=0,nu=!1,25<=m)throw Error(r(301));if(m+=1,rn=ht=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}$.H=R2,y=a(l,c)}while(nu);return y}function b2(){var s=$.H,a=s.useState()[0];return a=typeof a.then=="function"?Th(a):a,s=s.useState()[0],(ht!==null?ht.memoizedState:null)!==s&&(Be.flags|=1024),a}function k_(){var s=xp!==0;return xp=0,s}function M_(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function V_(s){if(Cp){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Cp=!1}ia=0,rn=ht=Be=null,nu=!1,wh=xp=0,ru=null}function nr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Be.memoizedState=rn=s:rn=rn.next=s,rn}function sn(){if(ht===null){var s=Be.alternate;s=s!==null?s.memoizedState:null}else s=ht.next;var a=rn===null?Be.memoizedState:rn.next;if(a!==null)rn=a,ht=s;else{if(s===null)throw Be.alternate===null?Error(r(467)):Error(r(310));ht=s,s={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},rn===null?Be.memoizedState=rn=s:rn=rn.next=s}return rn}function L_(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Th(s){var a=wh;return wh+=1,ru===null&&(ru=[]),s=xT(ru,s,a),a=Be,(rn===null?a.memoizedState:rn.next)===null&&(a=a.alternate,$.H=a===null||a.memoizedState===null?yS:_S),s}function Pp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Th(s);if(s.$$typeof===L)return Un(s)}throw Error(r(438,String(s)))}function U_(s){var a=null,l=Be.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Be.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=L_(),Be.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),c=0;c<s;c++)l[c]=w;return a.index++,l}function gs(s,a){return typeof a=="function"?a(s):a}function Op(s){var a=sn();return B_(a,ht,s)}function B_(s,a,l){var c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=s.baseQueue,y=c.pending;if(y!==null){if(m!==null){var I=m.next;m.next=y.next,y.next=I}a.baseQueue=m=y,c.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{a=m.next;var N=I=null,z=null,ee=a,ce=!1;do{var de=ee.lane&-536870913;if(de!==ee.lane?(Ye&de)===de:(ia&de)===de){var te=ee.revertLane;if(te===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),de===Zl&&(ce=!0);else if((ia&te)===te){ee=ee.next,te===Zl&&(ce=!0);continue}else de={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},z===null?(N=z=de,I=y):z=z.next=de,Be.lanes|=te,ha|=te;de=ee.action,Bo&&l(y,de),y=ee.hasEagerState?ee.eagerState:l(y,de)}else te={lane:de,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},z===null?(N=z=te,I=y):z=z.next=te,Be.lanes|=de,ha|=de;ee=ee.next}while(ee!==null&&ee!==a);if(z===null?I=y:z.next=N,!pr(y,s.memoizedState)&&(bn=!0,ce&&(l=eu,l!==null)))throw l;s.memoizedState=y,s.baseState=I,s.baseQueue=z,c.lastRenderedState=y}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function F_(s){var a=sn(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=l.dispatch,m=l.pending,y=a.memoizedState;if(m!==null){l.pending=null;var I=m=m.next;do y=s(y,I.action),I=I.next;while(I!==m);pr(y,a.memoizedState)||(bn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function LT(s,a,l){var c=Be,m=sn(),y=et;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var I=!pr((ht||m).memoizedState,l);I&&(m.memoizedState=l,bn=!0),m=m.queue;var N=FT.bind(null,c,m,s);if(Sh(2048,8,N,[s]),m.getSnapshot!==a||I||rn!==null&&rn.memoizedState.tag&1){if(c.flags|=2048,iu(9,Dp(),BT.bind(null,c,m,l,a),null),vt===null)throw Error(r(349));y||(ia&124)!==0||UT(c,a,l)}return l}function UT(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Be.updateQueue,a===null?(a=L_(),Be.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function BT(s,a,l,c){a.value=l,a.getSnapshot=c,zT(a)&&jT(s)}function FT(s,a,l){return l(function(){zT(a)&&jT(s)})}function zT(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!pr(s,l)}catch{return!0}}function jT(s){var a=Ql(s,2);a!==null&&Er(a,s,2)}function z_(s){var a=nr();if(typeof s=="function"){var l=s;if(s=l(),Bo){Gt(!0);try{l()}finally{Gt(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:s},a}function qT(s,a,l,c){return s.baseState=l,B_(s,ht,typeof c=="function"?c:gs)}function w2(s,a,l,c,m){if(kp(s))throw Error(r(485));if(s=a.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){y.listeners.push(I)}};$.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,HT(a,y)):(y.next=l.next,a.pending=l.next=y)}}function HT(s,a){var l=a.action,c=a.payload,m=s.state;if(a.isTransition){var y=$.T,I={};$.T=I;try{var N=l(m,c),z=$.S;z!==null&&z(I,N),$T(s,a,N)}catch(ee){j_(s,a,ee)}finally{$.T=y}}else try{y=l(m,c),$T(s,a,y)}catch(ee){j_(s,a,ee)}}function $T(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){GT(s,a,c)},function(c){return j_(s,a,c)}):GT(s,a,l)}function GT(s,a,l){a.status="fulfilled",a.value=l,KT(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,HT(s,l)))}function j_(s,a,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,KT(a),a=a.next;while(a!==c)}s.action=null}function KT(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function WT(s,a){return a}function QT(s,a){if(et){var l=vt.formState;if(l!==null){e:{var c=Be;if(et){if(Ut){t:{for(var m=Ut,y=Ti;m.nodeType!==8;){if(!y){m=null;break t}if(m=ni(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Ut=ni(m.nextSibling),c=m.data==="F!";break e}}Mo(c)}c=!1}c&&(a=l[0])}}return l=nr(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:WT,lastRenderedState:a},l.queue=c,l=pS.bind(null,Be,c),c.dispatch=l,c=z_(!1),y=K_.bind(null,Be,!1,c.queue),c=nr(),m={state:a,dispatch:null,action:s,pending:null},c.queue=m,l=w2.bind(null,Be,m,y,l),m.dispatch=l,c.memoizedState=s,[a,l,!1]}function YT(s){var a=sn();return XT(a,ht,s)}function XT(s,a,l){if(a=B_(s,a,WT)[0],s=Op(gs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Th(a)}catch(I){throw I===yh?Ap:I}else c=a;a=sn();var m=a.queue,y=m.dispatch;return l!==a.memoizedState&&(Be.flags|=2048,iu(9,Dp(),T2.bind(null,m,l),null)),[c,y,s]}function T2(s,a){s.action=a}function JT(s){var a=sn(),l=ht;if(l!==null)return XT(a,l,s);sn(),a=a.memoizedState,l=sn();var c=l.queue.dispatch;return l.memoizedState=s,[a,c,!1]}function iu(s,a,l,c){return s={tag:s,create:l,deps:c,inst:a,next:null},a=Be.updateQueue,a===null&&(a=L_(),Be.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,a.lastEffect=s),s}function Dp(){return{destroy:void 0,resource:void 0}}function ZT(){return sn().memoizedState}function Np(s,a,l,c){var m=nr();c=c===void 0?null:c,Be.flags|=s,m.memoizedState=iu(1|a,Dp(),l,c)}function Sh(s,a,l,c){var m=sn();c=c===void 0?null:c;var y=m.memoizedState.inst;ht!==null&&c!==null&&D_(c,ht.memoizedState.deps)?m.memoizedState=iu(a,y,l,c):(Be.flags|=s,m.memoizedState=iu(1|a,y,l,c))}function eS(s,a){Np(8390656,8,s,a)}function tS(s,a){Sh(2048,8,s,a)}function nS(s,a){return Sh(4,2,s,a)}function rS(s,a){return Sh(4,4,s,a)}function iS(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function sS(s,a,l){l=l!=null?l.concat([s]):null,Sh(4,4,iS.bind(null,a,s),l)}function q_(){}function aS(s,a){var l=sn();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&D_(a,c[1])?c[0]:(l.memoizedState=[s,a],s)}function oS(s,a){var l=sn();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&D_(a,c[1]))return c[0];if(c=s(),Bo){Gt(!0);try{s()}finally{Gt(!1)}}return l.memoizedState=[c,a],c}function H_(s,a,l){return l===void 0||(ia&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=cA(),Be.lanes|=s,ha|=s,l)}function lS(s,a,l,c){return pr(l,a)?l:tu.current!==null?(s=H_(s,l,c),pr(s,a)||(bn=!0),s):(ia&42)===0?(bn=!0,s.memoizedState=l):(s=cA(),Be.lanes|=s,ha|=s,a)}function uS(s,a,l,c,m){var y=J.p;J.p=y!==0&&8>y?y:8;var I=$.T,N={};$.T=N,K_(s,!1,a,l);try{var z=m(),ee=$.S;if(ee!==null&&ee(N,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ce=v2(z,c);Ah(s,a,ce,vr(s))}else Ah(s,a,c,vr(s))}catch(de){Ah(s,a,{then:function(){},status:"rejected",reason:de},vr())}finally{J.p=y,$.T=I}}function S2(){}function $_(s,a,l,c){if(s.tag!==5)throw Error(r(476));var m=cS(s).queue;uS(s,m,a,le,l===null?S2:function(){return hS(s),l(c)})}function cS(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:le},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function hS(s){var a=cS(s).next.queue;Ah(s,a,{},vr())}function G_(){return Un(qh)}function dS(){return sn().memoizedState}function fS(){return sn().memoizedState}function A2(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=vr();s=na(l);var c=ra(a,s,l);c!==null&&(Er(c,a,l),vh(c,a,l)),a={cache:w_()},s.payload=a;return}a=a.return}}function I2(s,a,l){var c=vr();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},kp(s)?mS(a,l):(l=d_(s,a,l,c),l!==null&&(Er(l,s,c),gS(l,a,c)))}function pS(s,a,l){var c=vr();Ah(s,a,l,c)}function Ah(s,a,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(kp(s))mS(a,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var I=a.lastRenderedState,N=y(I,l);if(m.hasEagerState=!0,m.eagerState=N,pr(N,I))return yp(s,a,m,0),vt===null&&gp(),!1}catch{}finally{}if(l=d_(s,a,m,c),l!==null)return Er(l,s,c),gS(l,a,c),!0}return!1}function K_(s,a,l,c){if(c={lane:2,revertLane:Av(),action:c,hasEagerState:!1,eagerState:null,next:null},kp(s)){if(a)throw Error(r(479))}else a=d_(s,l,c,2),a!==null&&Er(a,s,2)}function kp(s){var a=s.alternate;return s===Be||a!==null&&a===Be}function mS(s,a){nu=Cp=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function gS(s,a,l){if((l&4194048)!==0){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,Kc(s,l)}}var Mp={readContext:Un,use:Pp,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt},yS={readContext:Un,use:Pp,useCallback:function(s,a){return nr().memoizedState=[s,a===void 0?null:a],s},useContext:Un,useEffect:eS,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Np(4194308,4,iS.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Np(4194308,4,s,a)},useInsertionEffect:function(s,a){Np(4,2,s,a)},useMemo:function(s,a){var l=nr();a=a===void 0?null:a;var c=s();if(Bo){Gt(!0);try{s()}finally{Gt(!1)}}return l.memoizedState=[c,a],c},useReducer:function(s,a,l){var c=nr();if(l!==void 0){var m=l(a);if(Bo){Gt(!0);try{l(a)}finally{Gt(!1)}}}else m=a;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=I2.bind(null,Be,s),[c.memoizedState,s]},useRef:function(s){var a=nr();return s={current:s},a.memoizedState=s},useState:function(s){s=z_(s);var a=s.queue,l=pS.bind(null,Be,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:q_,useDeferredValue:function(s,a){var l=nr();return H_(l,s,a)},useTransition:function(){var s=z_(!1);return s=uS.bind(null,Be,s.queue,!0,!1),nr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var c=Be,m=nr();if(et){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),vt===null)throw Error(r(349));(Ye&124)!==0||UT(c,a,l)}m.memoizedState=l;var y={value:l,getSnapshot:a};return m.queue=y,eS(FT.bind(null,c,y,s),[s]),c.flags|=2048,iu(9,Dp(),BT.bind(null,c,y,l,a),null),l},useId:function(){var s=nr(),a=vt.identifierPrefix;if(et){var l=fs,c=ds;l=(c&~(1<<32-en(c)-1)).toString(32)+l,a=""+a+"R"+l,l=xp++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=E2++,a=""+a+"r"+l.toString(32)+"";return s.memoizedState=a},useHostTransitionStatus:G_,useFormState:QT,useActionState:QT,useOptimistic:function(s){var a=nr();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=K_.bind(null,Be,!0,l),l.dispatch=a,[s,a]},useMemoCache:U_,useCacheRefresh:function(){return nr().memoizedState=A2.bind(null,Be)}},_S={readContext:Un,use:Pp,useCallback:aS,useContext:Un,useEffect:tS,useImperativeHandle:sS,useInsertionEffect:nS,useLayoutEffect:rS,useMemo:oS,useReducer:Op,useRef:ZT,useState:function(){return Op(gs)},useDebugValue:q_,useDeferredValue:function(s,a){var l=sn();return lS(l,ht.memoizedState,s,a)},useTransition:function(){var s=Op(gs)[0],a=sn().memoizedState;return[typeof s=="boolean"?s:Th(s),a]},useSyncExternalStore:LT,useId:dS,useHostTransitionStatus:G_,useFormState:YT,useActionState:YT,useOptimistic:function(s,a){var l=sn();return qT(l,ht,s,a)},useMemoCache:U_,useCacheRefresh:fS},R2={readContext:Un,use:Pp,useCallback:aS,useContext:Un,useEffect:tS,useImperativeHandle:sS,useInsertionEffect:nS,useLayoutEffect:rS,useMemo:oS,useReducer:F_,useRef:ZT,useState:function(){return F_(gs)},useDebugValue:q_,useDeferredValue:function(s,a){var l=sn();return ht===null?H_(l,s,a):lS(l,ht.memoizedState,s,a)},useTransition:function(){var s=F_(gs)[0],a=sn().memoizedState;return[typeof s=="boolean"?s:Th(s),a]},useSyncExternalStore:LT,useId:dS,useHostTransitionStatus:G_,useFormState:JT,useActionState:JT,useOptimistic:function(s,a){var l=sn();return ht!==null?qT(l,ht,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:U_,useCacheRefresh:fS},su=null,Ih=0;function Vp(s){var a=Ih;return Ih+=1,su===null&&(su=[]),xT(su,s,a)}function Rh(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Lp(s,a){throw a.$$typeof===_?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function vS(s){var a=s._init;return a(s._payload)}function ES(s){function a(Q,G){if(s){var Z=Q.deletions;Z===null?(Q.deletions=[G],Q.flags|=16):Z.push(G)}}function l(Q,G){if(!s)return null;for(;G!==null;)a(Q,G),G=G.sibling;return null}function c(Q){for(var G=new Map;Q!==null;)Q.key!==null?G.set(Q.key,Q):G.set(Q.index,Q),Q=Q.sibling;return G}function m(Q,G){return Q=hs(Q,G),Q.index=0,Q.sibling=null,Q}function y(Q,G,Z){return Q.index=Z,s?(Z=Q.alternate,Z!==null?(Z=Z.index,Z<G?(Q.flags|=67108866,G):Z):(Q.flags|=67108866,G)):(Q.flags|=1048576,G)}function I(Q){return s&&Q.alternate===null&&(Q.flags|=67108866),Q}function N(Q,G,Z,he){return G===null||G.tag!==6?(G=p_(Z,Q.mode,he),G.return=Q,G):(G=m(G,Z),G.return=Q,G)}function z(Q,G,Z,he){var Se=Z.type;return Se===b?ce(Q,G,Z.props.children,he,Z.key):G!==null&&(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&vS(Se)===G.type)?(G=m(G,Z.props),Rh(G,Z),G.return=Q,G):(G=vp(Z.type,Z.key,Z.props,null,Q.mode,he),Rh(G,Z),G.return=Q,G)}function ee(Q,G,Z,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=m_(Z,Q.mode,he),G.return=Q,G):(G=m(G,Z.children||[]),G.return=Q,G)}function ce(Q,G,Z,he,Se){return G===null||G.tag!==7?(G=Oo(Z,Q.mode,he,Se),G.return=Q,G):(G=m(G,Z),G.return=Q,G)}function de(Q,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=p_(""+G,Q.mode,Z),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case v:return Z=vp(G.type,G.key,G.props,null,Q.mode,Z),Rh(Z,G),Z.return=Q,Z;case T:return G=m_(G,Q.mode,Z),G.return=Q,G;case R:var he=G._init;return G=he(G._payload),de(Q,G,Z)}if(B(G)||C(G))return G=Oo(G,Q.mode,Z,null),G.return=Q,G;if(typeof G.then=="function")return de(Q,Vp(G),Z);if(G.$$typeof===L)return de(Q,Tp(Q,G),Z);Lp(Q,G)}return null}function te(Q,G,Z,he){var Se=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Se!==null?null:N(Q,G,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return Z.key===Se?z(Q,G,Z,he):null;case T:return Z.key===Se?ee(Q,G,Z,he):null;case R:return Se=Z._init,Z=Se(Z._payload),te(Q,G,Z,he)}if(B(Z)||C(Z))return Se!==null?null:ce(Q,G,Z,he,null);if(typeof Z.then=="function")return te(Q,G,Vp(Z),he);if(Z.$$typeof===L)return te(Q,G,Tp(Q,Z),he);Lp(Q,Z)}return null}function ne(Q,G,Z,he,Se){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Q=Q.get(Z)||null,N(G,Q,""+he,Se);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case v:return Q=Q.get(he.key===null?Z:he.key)||null,z(G,Q,he,Se);case T:return Q=Q.get(he.key===null?Z:he.key)||null,ee(G,Q,he,Se);case R:var ze=he._init;return he=ze(he._payload),ne(Q,G,Z,he,Se)}if(B(he)||C(he))return Q=Q.get(Z)||null,ce(G,Q,he,Se,null);if(typeof he.then=="function")return ne(Q,G,Z,Vp(he),Se);if(he.$$typeof===L)return ne(Q,G,Z,Tp(G,he),Se);Lp(G,he)}return null}function Ne(Q,G,Z,he){for(var Se=null,ze=null,Re=G,Oe=G=0,Tn=null;Re!==null&&Oe<Z.length;Oe++){Re.index>Oe?(Tn=Re,Re=null):Tn=Re.sibling;var Je=te(Q,Re,Z[Oe],he);if(Je===null){Re===null&&(Re=Tn);break}s&&Re&&Je.alternate===null&&a(Q,Re),G=y(Je,G,Oe),ze===null?Se=Je:ze.sibling=Je,ze=Je,Re=Tn}if(Oe===Z.length)return l(Q,Re),et&&No(Q,Oe),Se;if(Re===null){for(;Oe<Z.length;Oe++)Re=de(Q,Z[Oe],he),Re!==null&&(G=y(Re,G,Oe),ze===null?Se=Re:ze.sibling=Re,ze=Re);return et&&No(Q,Oe),Se}for(Re=c(Re);Oe<Z.length;Oe++)Tn=ne(Re,Q,Oe,Z[Oe],he),Tn!==null&&(s&&Tn.alternate!==null&&Re.delete(Tn.key===null?Oe:Tn.key),G=y(Tn,G,Oe),ze===null?Se=Tn:ze.sibling=Tn,ze=Tn);return s&&Re.forEach(function(Ea){return a(Q,Ea)}),et&&No(Q,Oe),Se}function Pe(Q,G,Z,he){if(Z==null)throw Error(r(151));for(var Se=null,ze=null,Re=G,Oe=G=0,Tn=null,Je=Z.next();Re!==null&&!Je.done;Oe++,Je=Z.next()){Re.index>Oe?(Tn=Re,Re=null):Tn=Re.sibling;var Ea=te(Q,Re,Je.value,he);if(Ea===null){Re===null&&(Re=Tn);break}s&&Re&&Ea.alternate===null&&a(Q,Re),G=y(Ea,G,Oe),ze===null?Se=Ea:ze.sibling=Ea,ze=Ea,Re=Tn}if(Je.done)return l(Q,Re),et&&No(Q,Oe),Se;if(Re===null){for(;!Je.done;Oe++,Je=Z.next())Je=de(Q,Je.value,he),Je!==null&&(G=y(Je,G,Oe),ze===null?Se=Je:ze.sibling=Je,ze=Je);return et&&No(Q,Oe),Se}for(Re=c(Re);!Je.done;Oe++,Je=Z.next())Je=ne(Re,Q,Oe,Je.value,he),Je!==null&&(s&&Je.alternate!==null&&Re.delete(Je.key===null?Oe:Je.key),G=y(Je,G,Oe),ze===null?Se=Je:ze.sibling=Je,ze=Je);return s&&Re.forEach(function(CM){return a(Q,CM)}),et&&No(Q,Oe),Se}function ft(Q,G,Z,he){if(typeof Z=="object"&&Z!==null&&Z.type===b&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:e:{for(var Se=Z.key;G!==null;){if(G.key===Se){if(Se=Z.type,Se===b){if(G.tag===7){l(Q,G.sibling),he=m(G,Z.props.children),he.return=Q,Q=he;break e}}else if(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===R&&vS(Se)===G.type){l(Q,G.sibling),he=m(G,Z.props),Rh(he,Z),he.return=Q,Q=he;break e}l(Q,G);break}else a(Q,G);G=G.sibling}Z.type===b?(he=Oo(Z.props.children,Q.mode,he,Z.key),he.return=Q,Q=he):(he=vp(Z.type,Z.key,Z.props,null,Q.mode,he),Rh(he,Z),he.return=Q,Q=he)}return I(Q);case T:e:{for(Se=Z.key;G!==null;){if(G.key===Se)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){l(Q,G.sibling),he=m(G,Z.children||[]),he.return=Q,Q=he;break e}else{l(Q,G);break}else a(Q,G);G=G.sibling}he=m_(Z,Q.mode,he),he.return=Q,Q=he}return I(Q);case R:return Se=Z._init,Z=Se(Z._payload),ft(Q,G,Z,he)}if(B(Z))return Ne(Q,G,Z,he);if(C(Z)){if(Se=C(Z),typeof Se!="function")throw Error(r(150));return Z=Se.call(Z),Pe(Q,G,Z,he)}if(typeof Z.then=="function")return ft(Q,G,Vp(Z),he);if(Z.$$typeof===L)return ft(Q,G,Tp(Q,Z),he);Lp(Q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,G!==null&&G.tag===6?(l(Q,G.sibling),he=m(G,Z),he.return=Q,Q=he):(l(Q,G),he=p_(Z,Q.mode,he),he.return=Q,Q=he),I(Q)):l(Q,G)}return function(Q,G,Z,he){try{Ih=0;var Se=ft(Q,G,Z,he);return su=null,Se}catch(Re){if(Re===yh||Re===Ap)throw Re;var ze=mr(29,Re,null,Q.mode);return ze.lanes=he,ze.return=Q,ze}finally{}}}var au=ES(!0),bS=ES(!1),zr=re(null),Si=null;function sa(s){var a=s.alternate;me(gn,gn.current&1),me(zr,s),Si===null&&(a===null||tu.current!==null||a.memoizedState!==null)&&(Si=s)}function wS(s){if(s.tag===22){if(me(gn,gn.current),me(zr,s),Si===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Si=s)}}else aa()}function aa(){me(gn,gn.current),me(zr,zr.current)}function ys(s){ge(zr),Si===s&&(Si=null),ge(gn)}var gn=re(0);function Up(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Lv(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function W_(s,a,l,c){a=s.memoizedState,l=l(c,a),l=l==null?a:g({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Q_={enqueueSetState:function(s,a,l){s=s._reactInternals;var c=vr(),m=na(c);m.payload=a,l!=null&&(m.callback=l),a=ra(s,m,c),a!==null&&(Er(a,s,c),vh(a,s,c))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var c=vr(),m=na(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=ra(s,m,c),a!==null&&(Er(a,s,c),vh(a,s,c))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=vr(),c=na(l);c.tag=2,a!=null&&(c.callback=a),a=ra(s,c,l),a!==null&&(Er(a,s,l),vh(a,s,l))}};function TS(s,a,l,c,m,y,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,y,I):a.prototype&&a.prototype.isPureReactComponent?!uh(l,c)||!uh(m,y):!0}function SS(s,a,l,c){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==s&&Q_.enqueueReplaceState(a,a.state,null)}function Fo(s,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(s=s.defaultProps){l===a&&(l=g({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var Bp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function AS(s){Bp(s)}function IS(s){console.error(s)}function RS(s){Bp(s)}function Fp(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function CS(s,a,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Y_(s,a,l){return l=na(l),l.tag=3,l.payload={element:null},l.callback=function(){Fp(s,a)},l}function xS(s){return s=na(s),s.tag=3,s}function PS(s,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;s.payload=function(){return m(y)},s.callback=function(){CS(a,l,c)}}var I=l.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){CS(a,l,c),typeof m!="function"&&(da===null?da=new Set([this]):da.add(this));var N=c.stack;this.componentDidCatch(c.value,{componentStack:N!==null?N:""})})}function C2(s,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&ph(a,l,m,!0),l=zr.current,l!==null){switch(l.tag){case 13:return Si===null?Ev():l.alternate===null&&Bt===0&&(Bt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===A_?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),wv(s,c,m)),!1;case 22:return l.flags|=65536,c===A_?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),wv(s,c,m)),!1}throw Error(r(435,l.tag))}return wv(s,c,m),Ev(),!1}if(et)return a=zr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==__&&(s=Error(r(422),{cause:c}),fh(Lr(s,l)))):(c!==__&&(a=Error(r(423),{cause:c}),fh(Lr(a,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=Lr(c,l),m=Y_(s.stateNode,c,m),C_(s,m),Bt!==4&&(Bt=2)),!1;var y=Error(r(520),{cause:c});if(y=Lr(y,l),kh===null?kh=[y]:kh.push(y),Bt!==4&&(Bt=2),a===null)return!0;c=Lr(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=Y_(l.stateNode,c,s),C_(l,s),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(da===null||!da.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=xS(m),PS(m,s,l,c),C_(l,m),!1}l=l.return}while(l!==null);return!1}var OS=Error(r(461)),bn=!1;function Pn(s,a,l,c){a.child=s===null?bS(a,null,l,c):au(a,s.child,l,c)}function DS(s,a,l,c,m){l=l.render;var y=a.ref;if("ref"in c){var I={};for(var N in c)N!=="ref"&&(I[N]=c[N])}else I=c;return Lo(a),c=N_(s,a,l,I,y,m),N=k_(),s!==null&&!bn?(M_(s,a,m),_s(s,a,m)):(et&&N&&g_(a),a.flags|=1,Pn(s,a,c,m),a.child)}function NS(s,a,l,c,m){if(s===null){var y=l.type;return typeof y=="function"&&!f_(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,kS(s,a,y,c,m)):(s=vp(l.type,null,c,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!iv(s,m)){var I=y.memoizedProps;if(l=l.compare,l=l!==null?l:uh,l(I,c)&&s.ref===a.ref)return _s(s,a,m)}return a.flags|=1,s=hs(y,c),s.ref=a.ref,s.return=a,a.child=s}function kS(s,a,l,c,m){if(s!==null){var y=s.memoizedProps;if(uh(y,c)&&s.ref===a.ref)if(bn=!1,a.pendingProps=c=y,iv(s,m))(s.flags&131072)!==0&&(bn=!0);else return a.lanes=s.lanes,_s(s,a,m)}return X_(s,a,l,c,m)}function MS(s,a,l){var c=a.pendingProps,m=c.children,y=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,s!==null){for(m=a.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~c}else a.childLanes=0,a.child=null;return VS(s,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Sp(a,y!==null?y.cachePool:null),y!==null?kT(a,y):P_(),wS(a);else return a.lanes=a.childLanes=536870912,VS(s,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(Sp(a,y.cachePool),kT(a,y),aa(),a.memoizedState=null):(s!==null&&Sp(a,null),P_(),aa());return Pn(s,a,m,l),a.child}function VS(s,a,l,c){var m=S_();return m=m===null?null:{parent:mn._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},s!==null&&Sp(a,null),P_(),wS(a),s!==null&&ph(s,a,c,!0),null}function zp(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function X_(s,a,l,c,m){return Lo(a),l=N_(s,a,l,c,void 0,m),c=k_(),s!==null&&!bn?(M_(s,a,m),_s(s,a,m)):(et&&c&&g_(a),a.flags|=1,Pn(s,a,l,m),a.child)}function LS(s,a,l,c,m,y){return Lo(a),a.updateQueue=null,l=VT(a,c,l,m),MT(s),c=k_(),s!==null&&!bn?(M_(s,a,y),_s(s,a,y)):(et&&c&&g_(a),a.flags|=1,Pn(s,a,l,y),a.child)}function US(s,a,l,c,m){if(Lo(a),a.stateNode===null){var y=Yl,I=l.contextType;typeof I=="object"&&I!==null&&(y=Un(I)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Q_,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},I_(a),I=l.contextType,y.context=typeof I=="object"&&I!==null?Un(I):Yl,y.state=a.memoizedState,I=l.getDerivedStateFromProps,typeof I=="function"&&(W_(a,l,I,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(I=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),I!==y.state&&Q_.enqueueReplaceState(y,y.state,null),bh(a,c,y,m),Eh(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(s===null){y=a.stateNode;var N=a.memoizedProps,z=Fo(l,N);y.props=z;var ee=y.context,ce=l.contextType;I=Yl,typeof ce=="object"&&ce!==null&&(I=Un(ce));var de=l.getDerivedStateFromProps;ce=typeof de=="function"||typeof y.getSnapshotBeforeUpdate=="function",N=a.pendingProps!==N,ce||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N||ee!==I)&&SS(a,y,c,I),ta=!1;var te=a.memoizedState;y.state=te,bh(a,c,y,m),Eh(),ee=a.memoizedState,N||te!==ee||ta?(typeof de=="function"&&(W_(a,l,de,c),ee=a.memoizedState),(z=ta||TS(a,l,z,c,te,ee,I))?(ce||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=ee),y.props=c,y.state=ee,y.context=I,c=z):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,R_(s,a),I=a.memoizedProps,ce=Fo(l,I),y.props=ce,de=a.pendingProps,te=y.context,ee=l.contextType,z=Yl,typeof ee=="object"&&ee!==null&&(z=Un(ee)),N=l.getDerivedStateFromProps,(ee=typeof N=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(I!==de||te!==z)&&SS(a,y,c,z),ta=!1,te=a.memoizedState,y.state=te,bh(a,c,y,m),Eh();var ne=a.memoizedState;I!==de||te!==ne||ta||s!==null&&s.dependencies!==null&&wp(s.dependencies)?(typeof N=="function"&&(W_(a,l,N,c),ne=a.memoizedState),(ce=ta||TS(a,l,ce,c,te,ne,z)||s!==null&&s.dependencies!==null&&wp(s.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,ne,z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,ne,z)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||I===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=ne),y.props=c,y.state=ne,y.context=z,c=ce):(typeof y.componentDidUpdate!="function"||I===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),c=!1)}return y=c,zp(s,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&c?(a.child=au(a,s.child,null,m),a.child=au(a,null,l,m)):Pn(s,a,l,m),a.memoizedState=y.state,s=a.child):s=_s(s,a,m),s}function BS(s,a,l,c){return dh(),a.flags|=256,Pn(s,a,l,c),a.child}var J_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Z_(s){return{baseLanes:s,cachePool:IT()}}function ev(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=jr),s}function FS(s,a,l){var c=a.pendingProps,m=!1,y=(a.flags&128)!==0,I;if((I=y)||(I=s!==null&&s.memoizedState===null?!1:(gn.current&2)!==0),I&&(m=!0,a.flags&=-129),I=(a.flags&32)!==0,a.flags&=-33,s===null){if(et){if(m?sa(a):aa(),et){var N=Ut,z;if(z=N){e:{for(z=N,N=Ti;z.nodeType!==8;){if(!N){N=null;break e}if(z=ni(z.nextSibling),z===null){N=null;break e}}N=z}N!==null?(a.memoizedState={dehydrated:N,treeContext:Do!==null?{id:ds,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},z=mr(18,null,null,0),z.stateNode=N,z.return=a,a.child=z,Qn=a,Ut=null,z=!0):z=!1}z||Mo(a)}if(N=a.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return Lv(N)?a.lanes=32:a.lanes=536870912,null;ys(a)}return N=c.children,c=c.fallback,m?(aa(),m=a.mode,N=jp({mode:"hidden",children:N},m),c=Oo(c,m,l,null),N.return=a,c.return=a,N.sibling=c,a.child=N,m=a.child,m.memoizedState=Z_(l),m.childLanes=ev(s,I,l),a.memoizedState=J_,c):(sa(a),tv(a,N))}if(z=s.memoizedState,z!==null&&(N=z.dehydrated,N!==null)){if(y)a.flags&256?(sa(a),a.flags&=-257,a=nv(s,a,l)):a.memoizedState!==null?(aa(),a.child=s.child,a.flags|=128,a=null):(aa(),m=c.fallback,N=a.mode,c=jp({mode:"visible",children:c.children},N),m=Oo(m,N,l,null),m.flags|=2,c.return=a,m.return=a,c.sibling=m,a.child=c,au(a,s.child,null,l),c=a.child,c.memoizedState=Z_(l),c.childLanes=ev(s,I,l),a.memoizedState=J_,a=m);else if(sa(a),Lv(N)){if(I=N.nextSibling&&N.nextSibling.dataset,I)var ee=I.dgst;I=ee,c=Error(r(419)),c.stack="",c.digest=I,fh({value:c,source:null,stack:null}),a=nv(s,a,l)}else if(bn||ph(s,a,l,!1),I=(l&s.childLanes)!==0,bn||I){if(I=vt,I!==null&&(c=l&-l,c=(c&42)!==0?1:Ks(c),c=(c&(I.suspendedLanes|l))!==0?0:c,c!==0&&c!==z.retryLane))throw z.retryLane=c,Ql(s,c),Er(I,s,c),OS;N.data==="$?"||Ev(),a=nv(s,a,l)}else N.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=z.treeContext,Ut=ni(N.nextSibling),Qn=a,et=!0,ko=null,Ti=!1,s!==null&&(Br[Fr++]=ds,Br[Fr++]=fs,Br[Fr++]=Do,ds=s.id,fs=s.overflow,Do=a),a=tv(a,c.children),a.flags|=4096);return a}return m?(aa(),m=c.fallback,N=a.mode,z=s.child,ee=z.sibling,c=hs(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,ee!==null?m=hs(ee,m):(m=Oo(m,N,l,null),m.flags|=2),m.return=a,c.return=a,c.sibling=m,a.child=c,c=m,m=a.child,N=s.child.memoizedState,N===null?N=Z_(l):(z=N.cachePool,z!==null?(ee=mn._currentValue,z=z.parent!==ee?{parent:ee,pool:ee}:z):z=IT(),N={baseLanes:N.baseLanes|l,cachePool:z}),m.memoizedState=N,m.childLanes=ev(s,I,l),a.memoizedState=J_,c):(sa(a),l=s.child,s=l.sibling,l=hs(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,s!==null&&(I=a.deletions,I===null?(a.deletions=[s],a.flags|=16):I.push(s)),a.child=l,a.memoizedState=null,l)}function tv(s,a){return a=jp({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function jp(s,a){return s=mr(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function nv(s,a,l){return au(a,s.child,null,l),s=tv(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function zS(s,a,l){s.lanes|=a;var c=s.alternate;c!==null&&(c.lanes|=a),E_(s.return,a,l)}function rv(s,a,l,c,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=m)}function jS(s,a,l){var c=a.pendingProps,m=c.revealOrder,y=c.tail;if(Pn(s,a,c.children,l),c=gn.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&zS(s,l,a);else if(s.tag===19)zS(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(me(gn,c),m){case"forwards":for(l=a.child,m=null;l!==null;)s=l.alternate,s!==null&&Up(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),rv(a,!1,m,l,y);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&Up(s)===null){a.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}rv(a,!0,l,null,y);break;case"together":rv(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function _s(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),ha|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(ph(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,l=hs(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=hs(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function iv(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&wp(s)))}function x2(s,a,l){switch(a.tag){case 3:rt(a,a.stateNode.containerInfo),ea(a,mn,s.memoizedState.cache),dh();break;case 27:case 5:ci(a);break;case 4:rt(a,a.stateNode.containerInfo);break;case 10:ea(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(sa(a),a.flags|=128,null):(l&a.child.childLanes)!==0?FS(s,a,l):(sa(a),s=_s(s,a,l),s!==null?s.sibling:null);sa(a);break;case 19:var m=(s.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(ph(s,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return jS(s,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),me(gn,gn.current),c)break;return null;case 22:case 23:return a.lanes=0,MS(s,a,l);case 24:ea(a,mn,s.memoizedState.cache)}return _s(s,a,l)}function qS(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)bn=!0;else{if(!iv(s,l)&&(a.flags&128)===0)return bn=!1,x2(s,a,l);bn=(s.flags&131072)!==0}else bn=!1,et&&(a.flags&1048576)!==0&&vT(a,bp,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var c=a.elementType,m=c._init;if(c=m(c._payload),a.type=c,typeof c=="function")f_(c)?(s=Fo(c,s),a.tag=1,a=US(null,a,c,s,l)):(a.tag=0,a=X_(null,a,c,s,l));else{if(c!=null){if(m=c.$$typeof,m===H){a.tag=11,a=DS(null,a,c,s,l);break e}else if(m===M){a.tag=14,a=NS(null,a,c,s,l);break e}}throw a=se(c)||c,Error(r(306,a,""))}}return a;case 0:return X_(s,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=Fo(c,a.pendingProps),US(s,a,c,m,l);case 3:e:{if(rt(a,a.stateNode.containerInfo),s===null)throw Error(r(387));c=a.pendingProps;var y=a.memoizedState;m=y.element,R_(s,a),bh(a,c,null,l);var I=a.memoizedState;if(c=I.cache,ea(a,mn,c),c!==y.cache&&b_(a,[mn],l,!0),Eh(),c=I.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:I.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=BS(s,a,c,l);break e}else if(c!==m){m=Lr(Error(r(424)),a),fh(m),a=BS(s,a,c,l);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ut=ni(s.firstChild),Qn=a,et=!0,ko=null,Ti=!0,l=bS(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(dh(),c===m){a=_s(s,a,l);break e}Pn(s,a,c,l)}a=a.child}return a;case 26:return zp(s,a),s===null?(l=KA(a.type,null,a.pendingProps,null))?a.memoizedState=l:et||(l=a.type,s=a.pendingProps,c=nm(xe.current).createElement(l),c[dn]=a,c[tn]=s,Dn(c,l,s),Kt(c),a.stateNode=c):a.memoizedState=KA(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return ci(a),s===null&&et&&(c=a.stateNode=HA(a.type,a.pendingProps,xe.current),Qn=a,Ti=!0,m=Ut,ma(a.type)?(Uv=m,Ut=ni(c.firstChild)):Ut=m),Pn(s,a,a.pendingProps.children,l),zp(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&et&&((m=c=Ut)&&(c=rM(c,a.type,a.pendingProps,Ti),c!==null?(a.stateNode=c,Qn=a,Ut=ni(c.firstChild),Ti=!1,m=!0):m=!1),m||Mo(a)),ci(a),m=a.type,y=a.pendingProps,I=s!==null?s.memoizedProps:null,c=y.children,kv(m,y)?c=null:I!==null&&kv(m,I)&&(a.flags|=32),a.memoizedState!==null&&(m=N_(s,a,b2,null,null,l),qh._currentValue=m),zp(s,a),Pn(s,a,c,l),a.child;case 6:return s===null&&et&&((s=l=Ut)&&(l=iM(l,a.pendingProps,Ti),l!==null?(a.stateNode=l,Qn=a,Ut=null,s=!0):s=!1),s||Mo(a)),null;case 13:return FS(s,a,l);case 4:return rt(a,a.stateNode.containerInfo),c=a.pendingProps,s===null?a.child=au(a,null,c,l):Pn(s,a,c,l),a.child;case 11:return DS(s,a,a.type,a.pendingProps,l);case 7:return Pn(s,a,a.pendingProps,l),a.child;case 8:return Pn(s,a,a.pendingProps.children,l),a.child;case 12:return Pn(s,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,ea(a,a.type,c.value),Pn(s,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,Lo(a),m=Un(m),c=c(m),a.flags|=1,Pn(s,a,c,l),a.child;case 14:return NS(s,a,a.type,a.pendingProps,l);case 15:return kS(s,a,a.type,a.pendingProps,l);case 19:return jS(s,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},s===null?(l=jp(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=hs(s.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return MS(s,a,l);case 24:return Lo(a),c=Un(mn),s===null?(m=S_(),m===null&&(m=vt,y=w_(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),a.memoizedState={parent:c,cache:m},I_(a),ea(a,mn,m)):((s.lanes&l)!==0&&(R_(s,a),bh(a,null,null,l),Eh()),m=s.memoizedState,y=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),ea(a,mn,c)):(c=y.cache,ea(a,mn,c),c!==m.cache&&b_(a,[mn],l,!0))),Pn(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function vs(s){s.flags|=4}function HS(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!JA(a)){if(a=zr.current,a!==null&&((Ye&4194048)===Ye?Si!==null:(Ye&62914560)!==Ye&&(Ye&536870912)===0||a!==Si))throw _h=A_,RT;s.flags|=8192}}function qp(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?$c():536870912,s.lanes|=a,cu|=a)}function Ch(s,a){if(!et)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function Dt(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(a)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=l,a}function P2(s,a,l){var c=a.pendingProps;switch(y_(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(a),null;case 1:return Dt(a),null;case 3:return l=a.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),ms(mn),Pr(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(hh(a)?vs(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,wT())),Dt(a),null;case 26:return l=a.memoizedState,s===null?(vs(a),l!==null?(Dt(a),HS(a,l)):(Dt(a),a.flags&=-16777217)):l?l!==s.memoizedState?(vs(a),Dt(a),HS(a,l)):(Dt(a),a.flags&=-16777217):(s.memoizedProps!==c&&vs(a),Dt(a),a.flags&=-16777217),null;case 27:Or(a),l=xe.current;var m=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==c&&vs(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Dt(a),null}s=Te.current,hh(a)?ET(a):(s=HA(m,c,l),a.stateNode=s,vs(a))}return Dt(a),null;case 5:if(Or(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==c&&vs(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Dt(a),null}if(s=Te.current,hh(a))ET(a);else{switch(m=nm(xe.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}s[dn]=a,s[tn]=c;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=s;e:switch(Dn(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&vs(a)}}return Dt(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==c&&vs(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(s=xe.current,hh(a)){if(s=a.stateNode,l=a.memoizedProps,c=null,m=Qn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[dn]=a,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||LA(s.nodeValue,l)),s||Mo(a)}else s=nm(s).createTextNode(c),s[dn]=a,a.stateNode=s}return Dt(a),null;case 13:if(c=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=hh(a),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[dn]=a}else dh(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Dt(a),m=!1}else m=wT(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(ys(a),a):(ys(a),null)}if(ys(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),qp(a,a.updateQueue),Dt(a),null;case 4:return Pr(),s===null&&xv(a.stateNode.containerInfo),Dt(a),null;case 10:return ms(a.type),Dt(a),null;case 19:if(ge(gn),m=a.memoizedState,m===null)return Dt(a),null;if(c=(a.flags&128)!==0,y=m.rendering,y===null)if(c)Ch(m,!1);else{if(Bt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=Up(s),y!==null){for(a.flags|=128,Ch(m,!1),s=y.updateQueue,a.updateQueue=s,qp(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)_T(l,s),l=l.sibling;return me(gn,gn.current&1|2),a.child}s=s.sibling}m.tail!==null&&tr()>Gp&&(a.flags|=128,c=!0,Ch(m,!1),a.lanes=4194304)}else{if(!c)if(s=Up(y),s!==null){if(a.flags|=128,c=!0,s=s.updateQueue,a.updateQueue=s,qp(a,s),Ch(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!et)return Dt(a),null}else 2*tr()-m.renderingStartTime>Gp&&l!==536870912&&(a.flags|=128,c=!0,Ch(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(s=m.last,s!==null?s.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=tr(),a.sibling=null,s=gn.current,me(gn,c?s&1|2:s&1),a):(Dt(a),null);case 22:case 23:return ys(a),O_(),c=a.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(Dt(a),a.subtreeFlags&6&&(a.flags|=8192)):Dt(a),l=a.updateQueue,l!==null&&qp(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),s!==null&&ge(Uo),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ms(mn),Dt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function O2(s,a){switch(y_(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ms(mn),Pr(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Or(a),null;case 13:if(ys(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));dh()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ge(gn),null;case 4:return Pr(),null;case 10:return ms(a.type),null;case 22:case 23:return ys(a),O_(),s!==null&&ge(Uo),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return ms(mn),null;case 25:return null;default:return null}}function $S(s,a){switch(y_(a),a.tag){case 3:ms(mn),Pr();break;case 26:case 27:case 5:Or(a);break;case 4:Pr();break;case 13:ys(a);break;case 19:ge(gn);break;case 10:ms(a.type);break;case 22:case 23:ys(a),O_(),s!==null&&ge(Uo);break;case 24:ms(mn)}}function xh(s,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&s)===s){c=void 0;var y=l.create,I=l.inst;c=y(),I.destroy=c}l=l.next}while(l!==m)}}catch(N){mt(a,a.return,N)}}function oa(s,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&s)===s){var I=c.inst,N=I.destroy;if(N!==void 0){I.destroy=void 0,m=a;var z=l,ee=N;try{ee()}catch(ce){mt(m,z,ce)}}}c=c.next}while(c!==y)}}catch(ce){mt(a,a.return,ce)}}function GS(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{NT(a,l)}catch(c){mt(s,s.return,c)}}}function KS(s,a,l){l.props=Fo(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){mt(s,a,c)}}function Ph(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(m){mt(s,a,m)}}function Ai(s,a){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){mt(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){mt(s,a,m)}else l.current=null}function WS(s){var a=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){mt(s,s.return,m)}}function sv(s,a,l){try{var c=s.stateNode;J2(c,s.type,l,a),c[tn]=a}catch(m){mt(s,s.return,m)}}function QS(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ma(s.type)||s.tag===4}function av(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||QS(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ma(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ov(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=tm));else if(c!==4&&(c===27&&ma(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(ov(s,a,l),s=s.sibling;s!==null;)ov(s,a,l),s=s.sibling}function Hp(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(c!==4&&(c===27&&ma(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Hp(s,a,l),s=s.sibling;s!==null;)Hp(s,a,l),s=s.sibling}function YS(s){var a=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);Dn(a,c,l),a[dn]=s,a[tn]=l}catch(y){mt(s,s.return,y)}}var Es=!1,Qt=!1,lv=!1,XS=typeof WeakSet=="function"?WeakSet:Set,wn=null;function D2(s,a){if(s=s.containerInfo,Dv=lm,s=lT(s),a_(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var I=0,N=-1,z=-1,ee=0,ce=0,de=s,te=null;t:for(;;){for(var ne;de!==l||m!==0&&de.nodeType!==3||(N=I+m),de!==y||c!==0&&de.nodeType!==3||(z=I+c),de.nodeType===3&&(I+=de.nodeValue.length),(ne=de.firstChild)!==null;)te=de,de=ne;for(;;){if(de===s)break t;if(te===l&&++ee===m&&(N=I),te===y&&++ce===c&&(z=I),(ne=de.nextSibling)!==null)break;de=te,te=de.parentNode}de=ne}l=N===-1||z===-1?null:{start:N,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(Nv={focusedElem:s,selectionRange:l},lm=!1,wn=a;wn!==null;)if(a=wn,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,wn=s;else for(;wn!==null;){switch(a=wn,y=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=a,m=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Ne=Fo(l.type,m,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(Ne,y),c.__reactInternalSnapshotBeforeUpdate=s}catch(Pe){mt(l,l.return,Pe)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)Vv(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Vv(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,wn=s;break}wn=a.return}}function JS(s,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:la(s,l),c&4&&xh(5,l);break;case 1:if(la(s,l),c&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(I){mt(l,l.return,I)}else{var m=Fo(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(I){mt(l,l.return,I)}}c&64&&GS(l),c&512&&Ph(l,l.return);break;case 3:if(la(s,l),c&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{NT(s,a)}catch(I){mt(l,l.return,I)}}break;case 27:a===null&&c&4&&YS(l);case 26:case 5:la(s,l),a===null&&c&4&&WS(l),c&512&&Ph(l,l.return);break;case 12:la(s,l);break;case 13:la(s,l),c&4&&tA(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=z2.bind(null,l),sM(s,l))));break;case 22:if(c=l.memoizedState!==null||Es,!c){a=a!==null&&a.memoizedState!==null||Qt,m=Es;var y=Qt;Es=c,(Qt=a)&&!y?ua(s,l,(l.subtreeFlags&8772)!==0):la(s,l),Es=m,Qt=y}break;case 30:break;default:la(s,l)}}function ZS(s){var a=s.alternate;a!==null&&(s.alternate=null,ZS(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Ys(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var St=null,rr=!1;function bs(s,a,l){for(l=l.child;l!==null;)eA(s,a,l),l=l.sibling}function eA(s,a,l){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(st,l)}catch{}switch(l.tag){case 26:Qt||Ai(l,a),bs(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Qt||Ai(l,a);var c=St,m=rr;ma(l.type)&&(St=l.stateNode,rr=!1),bs(s,a,l),Bh(l.stateNode),St=c,rr=m;break;case 5:Qt||Ai(l,a);case 6:if(c=St,m=rr,St=null,bs(s,a,l),St=c,rr=m,St!==null)if(rr)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(l.stateNode)}catch(y){mt(l,a,y)}else try{St.removeChild(l.stateNode)}catch(y){mt(l,a,y)}break;case 18:St!==null&&(rr?(s=St,jA(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Kh(s)):jA(St,l.stateNode));break;case 4:c=St,m=rr,St=l.stateNode.containerInfo,rr=!0,bs(s,a,l),St=c,rr=m;break;case 0:case 11:case 14:case 15:Qt||oa(2,l,a),Qt||oa(4,l,a),bs(s,a,l);break;case 1:Qt||(Ai(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&KS(l,a,c)),bs(s,a,l);break;case 21:bs(s,a,l);break;case 22:Qt=(c=Qt)||l.memoizedState!==null,bs(s,a,l),Qt=c;break;default:bs(s,a,l)}}function tA(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Kh(s)}catch(l){mt(a,a.return,l)}}function N2(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new XS),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new XS),a;default:throw Error(r(435,s.tag))}}function uv(s,a){var l=N2(s);a.forEach(function(c){var m=j2.bind(null,s,c);l.has(c)||(l.add(c),c.then(m,m))})}function gr(s,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],y=s,I=a,N=I;e:for(;N!==null;){switch(N.tag){case 27:if(ma(N.type)){St=N.stateNode,rr=!1;break e}break;case 5:St=N.stateNode,rr=!1;break e;case 3:case 4:St=N.stateNode.containerInfo,rr=!0;break e}N=N.return}if(St===null)throw Error(r(160));eA(y,I,m),St=null,rr=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)nA(a,s),a=a.sibling}var ti=null;function nA(s,a){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:gr(a,s),yr(s),c&4&&(oa(3,s,s.return),xh(3,s),oa(5,s,s.return));break;case 1:gr(a,s),yr(s),c&512&&(Qt||l===null||Ai(l,l.return)),c&64&&Es&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=ti;if(gr(a,s),yr(s),c&512&&(Qt||l===null||Ai(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[mo]||y[dn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),Dn(y,c,l),y[dn]=s,Kt(y),c=y;break e;case"link":var I=YA("link","href",m).get(c+(l.href||""));if(I){for(var N=0;N<I.length;N++)if(y=I[N],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){I.splice(N,1);break t}}y=m.createElement(c),Dn(y,c,l),m.head.appendChild(y);break;case"meta":if(I=YA("meta","content",m).get(c+(l.content||""))){for(N=0;N<I.length;N++)if(y=I[N],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){I.splice(N,1);break t}}y=m.createElement(c),Dn(y,c,l),m.head.appendChild(y);break;default:throw Error(r(468,c))}y[dn]=s,Kt(y),c=y}s.stateNode=c}else XA(m,s.type,s.stateNode);else s.stateNode=QA(m,c,s.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?XA(m,s.type,s.stateNode):QA(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&sv(s,s.memoizedProps,l.memoizedProps)}break;case 27:gr(a,s),yr(s),c&512&&(Qt||l===null||Ai(l,l.return)),l!==null&&c&4&&sv(s,s.memoizedProps,l.memoizedProps);break;case 5:if(gr(a,s),yr(s),c&512&&(Qt||l===null||Ai(l,l.return)),s.flags&32){m=s.stateNode;try{Nr(m,"")}catch(ne){mt(s,s.return,ne)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,sv(s,m,l!==null?l.memoizedProps:m)),c&1024&&(lv=!0);break;case 6:if(gr(a,s),yr(s),c&4){if(s.stateNode===null)throw Error(r(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(ne){mt(s,s.return,ne)}}break;case 3:if(sm=null,m=ti,ti=rm(a.containerInfo),gr(a,s),ti=m,yr(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Kh(a.containerInfo)}catch(ne){mt(s,s.return,ne)}lv&&(lv=!1,rA(s));break;case 4:c=ti,ti=rm(s.stateNode.containerInfo),gr(a,s),yr(s),ti=c;break;case 12:gr(a,s),yr(s);break;case 13:gr(a,s),yr(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(mv=tr()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,uv(s,c)));break;case 22:m=s.memoizedState!==null;var z=l!==null&&l.memoizedState!==null,ee=Es,ce=Qt;if(Es=ee||m,Qt=ce||z,gr(a,s),Qt=ce,Es=ee,yr(s),c&8192)e:for(a=s.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(l===null||z||Es||Qt||zo(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){z=l=a;try{if(y=z.stateNode,m)I=y.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{N=z.stateNode;var de=z.memoizedProps.style,te=de!=null&&de.hasOwnProperty("display")?de.display:null;N.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){mt(z,z.return,ne)}}}else if(a.tag===6){if(l===null){z=a;try{z.stateNode.nodeValue=m?"":z.memoizedProps}catch(ne){mt(z,z.return,ne)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,uv(s,l))));break;case 19:gr(a,s),yr(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,uv(s,c)));break;case 30:break;case 21:break;default:gr(a,s),yr(s)}}function yr(s){var a=s.flags;if(a&2){try{for(var l,c=s.return;c!==null;){if(QS(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,y=av(s);Hp(s,y,m);break;case 5:var I=l.stateNode;l.flags&32&&(Nr(I,""),l.flags&=-33);var N=av(s);Hp(s,N,I);break;case 3:case 4:var z=l.stateNode.containerInfo,ee=av(s);ov(s,ee,z);break;default:throw Error(r(161))}}catch(ce){mt(s,s.return,ce)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function rA(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;rA(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function la(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)JS(s,a.alternate,a),a=a.sibling}function zo(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:oa(4,a,a.return),zo(a);break;case 1:Ai(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&KS(a,a.return,l),zo(a);break;case 27:Bh(a.stateNode);case 26:case 5:Ai(a,a.return),zo(a);break;case 22:a.memoizedState===null&&zo(a);break;case 30:zo(a);break;default:zo(a)}s=s.sibling}}function ua(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=s,y=a,I=y.flags;switch(y.tag){case 0:case 11:case 15:ua(m,y,l),xh(4,y);break;case 1:if(ua(m,y,l),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ee){mt(c,c.return,ee)}if(c=y,m=c.updateQueue,m!==null){var N=c.stateNode;try{var z=m.shared.hiddenCallbacks;if(z!==null)for(m.shared.hiddenCallbacks=null,m=0;m<z.length;m++)DT(z[m],N)}catch(ee){mt(c,c.return,ee)}}l&&I&64&&GS(y),Ph(y,y.return);break;case 27:YS(y);case 26:case 5:ua(m,y,l),l&&c===null&&I&4&&WS(y),Ph(y,y.return);break;case 12:ua(m,y,l);break;case 13:ua(m,y,l),l&&I&4&&tA(m,y);break;case 22:y.memoizedState===null&&ua(m,y,l),Ph(y,y.return);break;case 30:break;default:ua(m,y,l)}a=a.sibling}}function cv(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&mh(l))}function hv(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&mh(s))}function Ii(s,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)iA(s,a,l,c),a=a.sibling}function iA(s,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Ii(s,a,l,c),m&2048&&xh(9,a);break;case 1:Ii(s,a,l,c);break;case 3:Ii(s,a,l,c),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&mh(s)));break;case 12:if(m&2048){Ii(s,a,l,c),s=a.stateNode;try{var y=a.memoizedProps,I=y.id,N=y.onPostCommit;typeof N=="function"&&N(I,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(z){mt(a,a.return,z)}}else Ii(s,a,l,c);break;case 13:Ii(s,a,l,c);break;case 23:break;case 22:y=a.stateNode,I=a.alternate,a.memoizedState!==null?y._visibility&2?Ii(s,a,l,c):Oh(s,a):y._visibility&2?Ii(s,a,l,c):(y._visibility|=2,ou(s,a,l,c,(a.subtreeFlags&10256)!==0)),m&2048&&cv(I,a);break;case 24:Ii(s,a,l,c),m&2048&&hv(a.alternate,a);break;default:Ii(s,a,l,c)}}function ou(s,a,l,c,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=s,I=a,N=l,z=c,ee=I.flags;switch(I.tag){case 0:case 11:case 15:ou(y,I,N,z,m),xh(8,I);break;case 23:break;case 22:var ce=I.stateNode;I.memoizedState!==null?ce._visibility&2?ou(y,I,N,z,m):Oh(y,I):(ce._visibility|=2,ou(y,I,N,z,m)),m&&ee&2048&&cv(I.alternate,I);break;case 24:ou(y,I,N,z,m),m&&ee&2048&&hv(I.alternate,I);break;default:ou(y,I,N,z,m)}a=a.sibling}}function Oh(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,c=a,m=c.flags;switch(c.tag){case 22:Oh(l,c),m&2048&&cv(c.alternate,c);break;case 24:Oh(l,c),m&2048&&hv(c.alternate,c);break;default:Oh(l,c)}a=a.sibling}}var Dh=8192;function lu(s){if(s.subtreeFlags&Dh)for(s=s.child;s!==null;)sA(s),s=s.sibling}function sA(s){switch(s.tag){case 26:lu(s),s.flags&Dh&&s.memoizedState!==null&&_M(ti,s.memoizedState,s.memoizedProps);break;case 5:lu(s);break;case 3:case 4:var a=ti;ti=rm(s.stateNode.containerInfo),lu(s),ti=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Dh,Dh=16777216,lu(s),Dh=a):lu(s));break;default:lu(s)}}function aA(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Nh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];wn=c,lA(c,s)}aA(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)oA(s),s=s.sibling}function oA(s){switch(s.tag){case 0:case 11:case 15:Nh(s),s.flags&2048&&oa(9,s,s.return);break;case 3:Nh(s);break;case 12:Nh(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,$p(s)):Nh(s);break;default:Nh(s)}}function $p(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];wn=c,lA(c,s)}aA(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:oa(8,a,a.return),$p(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,$p(a));break;default:$p(a)}s=s.sibling}}function lA(s,a){for(;wn!==null;){var l=wn;switch(l.tag){case 0:case 11:case 15:oa(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:mh(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,wn=c;else e:for(l=s;wn!==null;){c=wn;var m=c.sibling,y=c.return;if(ZS(c),c===l){wn=null;break e}if(m!==null){m.return=y,wn=m;break e}wn=y}}}var k2={getCacheForType:function(s){var a=Un(mn),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},M2=typeof WeakMap=="function"?WeakMap:Map,at=0,vt=null,je=null,Ye=0,ot=0,_r=null,ca=!1,uu=!1,dv=!1,ws=0,Bt=0,ha=0,jo=0,fv=0,jr=0,cu=0,kh=null,ir=null,pv=!1,mv=0,Gp=1/0,Kp=null,da=null,On=0,fa=null,hu=null,du=0,gv=0,yv=null,uA=null,Mh=0,_v=null;function vr(){if((at&2)!==0&&Ye!==0)return Ye&-Ye;if($.T!==null){var s=Zl;return s!==0?s:Av()}return Ws()}function cA(){jr===0&&(jr=(Ye&536870912)===0||et?Hc():536870912);var s=zr.current;return s!==null&&(s.flags|=32),jr}function Er(s,a,l){(s===vt&&(ot===2||ot===9)||s.cancelPendingCommit!==null)&&(fu(s,0),pa(s,Ye,jr,!1)),es(s,l),((at&2)===0||s!==vt)&&(s===vt&&((at&2)===0&&(jo|=l),Bt===4&&pa(s,Ye,jr,!1)),Ri(s))}function hA(s,a,l){if((at&6)!==0)throw Error(r(327));var c=!l&&(a&124)===0&&(a&s.expiredLanes)===0||po(s,a),m=c?U2(s,a):bv(s,a,!0),y=c;do{if(m===0){uu&&!c&&pa(s,a,0,!1);break}else{if(l=s.current.alternate,y&&!V2(l)){m=bv(s,a,!1),y=!1;continue}if(m===2){if(y=a,s.errorRecoveryDisabledLanes&y)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){a=I;e:{var N=s;m=kh;var z=N.current.memoizedState.isDehydrated;if(z&&(fu(N,I).flags|=256),I=bv(N,I,!1),I!==2){if(dv&&!z){N.errorRecoveryDisabledLanes|=y,jo|=y,m=4;break e}y=ir,ir=m,y!==null&&(ir===null?ir=y:ir.push.apply(ir,y))}m=I}if(y=!1,m!==2)continue}}if(m===1){fu(s,0),pa(s,a,0,!0);break}e:{switch(c=s,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:pa(c,a,jr,!ca);break e;case 2:ir=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(m=mv+300-tr(),10<m)){if(pa(c,a,jr,!ca),Pl(c,0,!0)!==0)break e;c.timeoutHandle=FA(dA.bind(null,c,l,ir,Kp,pv,a,jr,jo,cu,ca,y,2,-0,0),m);break e}dA(c,l,ir,Kp,pv,a,jr,jo,cu,ca,y,0,-0,0)}}break}while(!0);Ri(s)}function dA(s,a,l,c,m,y,I,N,z,ee,ce,de,te,ne){if(s.timeoutHandle=-1,de=a.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(jh={stylesheets:null,count:0,unsuspend:yM},sA(a),de=vM(),de!==null)){s.cancelPendingCommit=de(vA.bind(null,s,a,y,l,c,m,I,N,z,ce,1,te,ne)),pa(s,y,I,!ee);return}vA(s,a,y,l,c,m,I,N,z)}function V2(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],y=m.getSnapshot;m=m.value;try{if(!pr(y(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function pa(s,a,l,c){a&=~fv,a&=~jo,s.suspendedLanes|=a,s.pingedLanes&=~a,c&&(s.warmLanes|=a),c=s.expirationTimes;for(var m=a;0<m;){var y=31-en(m),I=1<<y;c[y]=-1,m&=~I}l!==0&&di(s,l,a)}function Wp(){return(at&6)===0?(Vh(0),!1):!0}function vv(){if(je!==null){if(ot===0)var s=je.return;else s=je,ps=Vo=null,V_(s),su=null,Ih=0,s=je;for(;s!==null;)$S(s.alternate,s),s=s.return;je=null}}function fu(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,eM(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),vv(),vt=s,je=l=hs(s.current,null),Ye=a,ot=0,_r=null,ca=!1,uu=po(s,a),dv=!1,cu=jr=fv=jo=ha=Bt=0,ir=kh=null,pv=!1,(a&8)!==0&&(a|=a&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=a;0<c;){var m=31-en(c),y=1<<m;a|=s[m],c&=~y}return ws=a,gp(),l}function fA(s,a){Be=null,$.H=Mp,a===yh||a===Ap?(a=PT(),ot=3):a===RT?(a=PT(),ot=4):ot=a===OS?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,_r=a,je===null&&(Bt=1,Fp(s,Lr(a,s.current)))}function pA(){var s=$.H;return $.H=Mp,s===null?Mp:s}function mA(){var s=$.A;return $.A=k2,s}function Ev(){Bt=4,ca||(Ye&4194048)!==Ye&&zr.current!==null||(uu=!0),(ha&134217727)===0&&(jo&134217727)===0||vt===null||pa(vt,Ye,jr,!1)}function bv(s,a,l){var c=at;at|=2;var m=pA(),y=mA();(vt!==s||Ye!==a)&&(Kp=null,fu(s,a)),a=!1;var I=Bt;e:do try{if(ot!==0&&je!==null){var N=je,z=_r;switch(ot){case 8:vv(),I=6;break e;case 3:case 2:case 9:case 6:zr.current===null&&(a=!0);var ee=ot;if(ot=0,_r=null,pu(s,N,z,ee),l&&uu){I=0;break e}break;default:ee=ot,ot=0,_r=null,pu(s,N,z,ee)}}L2(),I=Bt;break}catch(ce){fA(s,ce)}while(!0);return a&&s.shellSuspendCounter++,ps=Vo=null,at=c,$.H=m,$.A=y,je===null&&(vt=null,Ye=0,gp()),I}function L2(){for(;je!==null;)gA(je)}function U2(s,a){var l=at;at|=2;var c=pA(),m=mA();vt!==s||Ye!==a?(Kp=null,Gp=tr()+500,fu(s,a)):uu=po(s,a);e:do try{if(ot!==0&&je!==null){a=je;var y=_r;t:switch(ot){case 1:ot=0,_r=null,pu(s,a,y,1);break;case 2:case 9:if(CT(y)){ot=0,_r=null,yA(a);break}a=function(){ot!==2&&ot!==9||vt!==s||(ot=7),Ri(s)},y.then(a,a);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:CT(y)?(ot=0,_r=null,yA(a)):(ot=0,_r=null,pu(s,a,y,7));break;case 5:var I=null;switch(je.tag){case 26:I=je.memoizedState;case 5:case 27:var N=je;if(!I||JA(I)){ot=0,_r=null;var z=N.sibling;if(z!==null)je=z;else{var ee=N.return;ee!==null?(je=ee,Qp(ee)):je=null}break t}}ot=0,_r=null,pu(s,a,y,5);break;case 6:ot=0,_r=null,pu(s,a,y,6);break;case 8:vv(),Bt=6;break e;default:throw Error(r(462))}}B2();break}catch(ce){fA(s,ce)}while(!0);return ps=Vo=null,$.H=c,$.A=m,at=l,je!==null?0:(vt=null,Ye=0,gp(),Bt)}function B2(){for(;je!==null&&!lo();)gA(je)}function gA(s){var a=qS(s.alternate,s,ws);s.memoizedProps=s.pendingProps,a===null?Qp(s):je=a}function yA(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=LS(l,a,a.pendingProps,a.type,void 0,Ye);break;case 11:a=LS(l,a,a.pendingProps,a.type.render,a.ref,Ye);break;case 5:V_(a);default:$S(l,a),a=je=_T(a,ws),a=qS(l,a,ws)}s.memoizedProps=s.pendingProps,a===null?Qp(s):je=a}function pu(s,a,l,c){ps=Vo=null,V_(a),su=null,Ih=0;var m=a.return;try{if(C2(s,m,a,l,Ye)){Bt=1,Fp(s,Lr(l,s.current)),je=null;return}}catch(y){if(m!==null)throw je=m,y;Bt=1,Fp(s,Lr(l,s.current)),je=null;return}a.flags&32768?(et||c===1?s=!0:uu||(Ye&536870912)!==0?s=!1:(ca=s=!0,(c===2||c===9||c===3||c===6)&&(c=zr.current,c!==null&&c.tag===13&&(c.flags|=16384))),_A(a,s)):Qp(a)}function Qp(s){var a=s;do{if((a.flags&32768)!==0){_A(a,ca);return}s=a.return;var l=P2(a.alternate,a,ws);if(l!==null){je=l;return}if(a=a.sibling,a!==null){je=a;return}je=a=s}while(a!==null);Bt===0&&(Bt=5)}function _A(s,a){do{var l=O2(s.alternate,s);if(l!==null){l.flags&=32767,je=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){je=s;return}je=s=l}while(s!==null);Bt=6,je=null}function vA(s,a,l,c,m,y,I,N,z){s.cancelPendingCommit=null;do Yp();while(On!==0);if((at&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(y=a.lanes|a.childLanes,y|=h_,Gc(s,l,y,I,N,z),s===vt&&(je=vt=null,Ye=0),hu=a,fa=s,du=l,gv=y,yv=m,uA=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,q2(Fe,function(){return SA(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,m=J.p,J.p=2,I=at,at|=4;try{D2(s,a,l)}finally{at=I,J.p=m,$.T=c}}On=1,EA(),bA(),wA()}}function EA(){if(On===1){On=0;var s=fa,a=hu,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var c=J.p;J.p=2;var m=at;at|=4;try{nA(a,s);var y=Nv,I=lT(s.containerInfo),N=y.focusedElem,z=y.selectionRange;if(I!==N&&N&&N.ownerDocument&&oT(N.ownerDocument.documentElement,N)){if(z!==null&&a_(N)){var ee=z.start,ce=z.end;if(ce===void 0&&(ce=ee),"selectionStart"in N)N.selectionStart=ee,N.selectionEnd=Math.min(ce,N.value.length);else{var de=N.ownerDocument||document,te=de&&de.defaultView||window;if(te.getSelection){var ne=te.getSelection(),Ne=N.textContent.length,Pe=Math.min(z.start,Ne),ft=z.end===void 0?Pe:Math.min(z.end,Ne);!ne.extend&&Pe>ft&&(I=ft,ft=Pe,Pe=I);var Q=aT(N,Pe),G=aT(N,ft);if(Q&&G&&(ne.rangeCount!==1||ne.anchorNode!==Q.node||ne.anchorOffset!==Q.offset||ne.focusNode!==G.node||ne.focusOffset!==G.offset)){var Z=de.createRange();Z.setStart(Q.node,Q.offset),ne.removeAllRanges(),Pe>ft?(ne.addRange(Z),ne.extend(G.node,G.offset)):(Z.setEnd(G.node,G.offset),ne.addRange(Z))}}}}for(de=[],ne=N;ne=ne.parentNode;)ne.nodeType===1&&de.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<de.length;N++){var he=de[N];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}lm=!!Dv,Nv=Dv=null}finally{at=m,J.p=c,$.T=l}}s.current=a,On=2}}function bA(){if(On===2){On=0;var s=fa,a=hu,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var c=J.p;J.p=2;var m=at;at|=4;try{JS(s,a.alternate,a)}finally{at=m,J.p=c,$.T=l}}On=3}}function wA(){if(On===4||On===3){On=0,xl();var s=fa,a=hu,l=du,c=uA;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?On=5:(On=0,hu=fa=null,TA(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(da=null),Ol(l),a=a.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(st,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=$.T,m=J.p,J.p=2,$.T=null;try{for(var y=s.onRecoverableError,I=0;I<c.length;I++){var N=c[I];y(N.value,{componentStack:N.stack})}}finally{$.T=a,J.p=m}}(du&3)!==0&&Yp(),Ri(s),m=s.pendingLanes,(l&4194090)!==0&&(m&42)!==0?s===_v?Mh++:(Mh=0,_v=s):Mh=0,Vh(0)}}function TA(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,mh(a)))}function Yp(s){return EA(),bA(),wA(),SA()}function SA(){if(On!==5)return!1;var s=fa,a=gv;gv=0;var l=Ol(du),c=$.T,m=J.p;try{J.p=32>l?32:l,$.T=null,l=yv,yv=null;var y=fa,I=du;if(On=0,hu=fa=null,du=0,(at&6)!==0)throw Error(r(331));var N=at;if(at|=4,oA(y.current),iA(y,y.current,I,l),at=N,Vh(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(st,y)}catch{}return!0}finally{J.p=m,$.T=c,TA(s,a)}}function AA(s,a,l){a=Lr(l,a),a=Y_(s.stateNode,a,2),s=ra(s,a,2),s!==null&&(es(s,2),Ri(s))}function mt(s,a,l){if(s.tag===3)AA(s,s,l);else for(;a!==null;){if(a.tag===3){AA(a,s,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(da===null||!da.has(c))){s=Lr(l,s),l=xS(2),c=ra(a,l,2),c!==null&&(PS(l,c,a,s),es(c,2),Ri(c));break}}a=a.return}}function wv(s,a,l){var c=s.pingCache;if(c===null){c=s.pingCache=new M2;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(dv=!0,m.add(l),s=F2.bind(null,s,a,l),a.then(s,s))}function F2(s,a,l){var c=s.pingCache;c!==null&&c.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,vt===s&&(Ye&l)===l&&(Bt===4||Bt===3&&(Ye&62914560)===Ye&&300>tr()-mv?(at&2)===0&&fu(s,0):fv|=l,cu===Ye&&(cu=0)),Ri(s)}function IA(s,a){a===0&&(a=$c()),s=Ql(s,a),s!==null&&(es(s,a),Ri(s))}function z2(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),IA(s,l)}function j2(s,a){var l=0;switch(s.tag){case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),IA(s,l)}function q2(s,a){return Ln(s,a)}var Xp=null,mu=null,Tv=!1,Jp=!1,Sv=!1,qo=0;function Ri(s){s!==mu&&s.next===null&&(mu===null?Xp=mu=s:mu=mu.next=s),Jp=!0,Tv||(Tv=!0,$2())}function Vh(s,a){if(!Sv&&Jp){Sv=!0;do for(var l=!1,c=Xp;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var I=c.suspendedLanes,N=c.pingedLanes;y=(1<<31-en(42|s)+1)-1,y&=m&~(I&~N),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,PA(c,y))}else y=Ye,y=Pl(c,c===vt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||po(c,y)||(l=!0,PA(c,y));c=c.next}while(l);Sv=!1}}function H2(){RA()}function RA(){Jp=Tv=!1;var s=0;qo!==0&&(Z2()&&(s=qo),qo=0);for(var a=tr(),l=null,c=Xp;c!==null;){var m=c.next,y=CA(c,a);y===0?(c.next=null,l===null?Xp=m:l.next=m,m===null&&(mu=l)):(l=c,(s!==0||(y&3)!==0)&&(Jp=!0)),c=m}Vh(s)}function CA(s,a){for(var l=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var I=31-en(y),N=1<<I,z=m[I];z===-1?((N&l)===0||(N&c)!==0)&&(m[I]=qc(N,a)):z<=a&&(s.expiredLanes|=N),y&=~N}if(a=vt,l=Ye,l=Pl(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===a&&(ot===2||ot===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Qr(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||po(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(c!==null&&Qr(c),Ol(l)){case 2:case 8:l=Ji;break;case 32:l=Fe;break;case 268435456:l=wt;break;default:l=Fe}return c=xA.bind(null,s),l=Ln(l,c),s.callbackPriority=a,s.callbackNode=l,a}return c!==null&&c!==null&&Qr(c),s.callbackPriority=2,s.callbackNode=null,2}function xA(s,a){if(On!==0&&On!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Yp()&&s.callbackNode!==l)return null;var c=Ye;return c=Pl(s,s===vt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(hA(s,c,a),CA(s,tr()),s.callbackNode!=null&&s.callbackNode===l?xA.bind(null,s):null)}function PA(s,a){if(Yp())return null;hA(s,a,!0)}function $2(){tM(function(){(at&6)!==0?Ln(uo,H2):RA()})}function Av(){return qo===0&&(qo=Hc()),qo}function OA(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ll(""+s)}function DA(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function G2(s,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var y=OA((m[tn]||null).action),I=c.submitter;I&&(a=(a=I[tn]||null)?OA(a.formAction):I.getAttribute("formAction"),a!==null&&(y=a,I=null));var N=new Ul("action","action",null,c,m);s.push({event:N,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(qo!==0){var z=I?DA(m,I):new FormData(m);$_(l,{pending:!0,data:z,method:m.method,action:y},null,z)}}else typeof y=="function"&&(N.preventDefault(),z=I?DA(m,I):new FormData(m),$_(l,{pending:!0,data:z,method:m.method,action:y},y,z))},currentTarget:m}]})}}for(var Iv=0;Iv<c_.length;Iv++){var Rv=c_[Iv],K2=Rv.toLowerCase(),W2=Rv[0].toUpperCase()+Rv.slice(1);ei(K2,"on"+W2)}ei(hT,"onAnimationEnd"),ei(dT,"onAnimationIteration"),ei(fT,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(h2,"onTransitionRun"),ei(d2,"onTransitionStart"),ei(f2,"onTransitionCancel"),ei(pT,"onTransitionEnd"),ns("onMouseEnter",["mouseout","mouseover"]),ns("onMouseLeave",["mouseout","mouseover"]),ns("onPointerEnter",["pointerout","pointerover"]),ns("onPointerLeave",["pointerout","pointerover"]),Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lh));function NA(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],m=c.event;c=c.listeners;e:{var y=void 0;if(a)for(var I=c.length-1;0<=I;I--){var N=c[I],z=N.instance,ee=N.currentTarget;if(N=N.listener,z!==y&&m.isPropagationStopped())break e;y=N,m.currentTarget=ee;try{y(m)}catch(ce){Bp(ce)}m.currentTarget=null,y=z}else for(I=0;I<c.length;I++){if(N=c[I],z=N.instance,ee=N.currentTarget,N=N.listener,z!==y&&m.isPropagationStopped())break e;y=N,m.currentTarget=ee;try{y(m)}catch(ce){Bp(ce)}m.currentTarget=null,y=z}}}}function qe(s,a){var l=a[Wc];l===void 0&&(l=a[Wc]=new Set);var c=s+"__bubble";l.has(c)||(kA(a,s,2,!1),l.add(c))}function Cv(s,a,l){var c=0;a&&(c|=4),kA(l,s,c,a)}var Zp="_reactListening"+Math.random().toString(36).slice(2);function xv(s){if(!s[Zp]){s[Zp]=!0,Qc.forEach(function(l){l!=="selectionchange"&&(Q2.has(l)||Cv(l,!1,s),Cv(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Zp]||(a[Zp]=!0,Cv("selectionchange",!1,a))}}function kA(s,a,l,c){switch(iI(a)){case 2:var m=wM;break;case 8:m=TM;break;default:m=qv}l=m.bind(null,a,l,s),m=void 0,!Mr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(a,l,{capture:!0,passive:m}):s.addEventListener(a,l,!0):m!==void 0?s.addEventListener(a,l,{passive:m}):s.addEventListener(a,l,!1)}function Pv(s,a,l,c,m){var y=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var I=c.tag;if(I===3||I===4){var N=c.stateNode.containerInfo;if(N===m)break;if(I===4)for(I=c.return;I!==null;){var z=I.tag;if((z===3||z===4)&&I.stateNode.containerInfo===m)return;I=I.return}for(;N!==null;){if(I=ts(N),I===null)return;if(z=I.tag,z===5||z===6||z===26||z===27){c=y=I;continue e}N=N.parentNode}}c=c.return}tp(function(){var ee=y,ce=kr(l),de=[];e:{var te=mT.get(s);if(te!==void 0){var ne=Ul,Ne=s;switch(s){case"keypress":if(_i(l)===0)break e;case"keydown":case"keyup":ne=Hl;break;case"focusin":Ne="focus",ne=zl;break;case"focusout":Ne="blur",ne=zl;break;case"beforeblur":case"afterblur":ne=zl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Vr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=n_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=up;break;case hT:case dT:case fT:ne=jl;break;case pT:ne=hp;break;case"scroll":case"scrollend":ne=np;break;case"wheel":ne=$l;break;case"copy":case"cut":case"paste":ne=ql;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=oh;break;case"toggle":case"beforetoggle":ne=fp}var Pe=(a&4)!==0,ft=!Pe&&(s==="scroll"||s==="scrollend"),Q=Pe?te!==null?te+"Capture":null:te;Pe=[];for(var G=ee,Z;G!==null;){var he=G;if(Z=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||Z===null||Q===null||(he=wo(G,Q),he!=null&&Pe.push(Uh(G,he,Z))),ft)break;G=G.return}0<Pe.length&&(te=new ne(te,Ne,null,l,ce),de.push({event:te,listeners:Pe}))}}if((a&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ne=s==="mouseout"||s==="pointerout",te&&l!==ss&&(Ne=l.relatedTarget||l.fromElement)&&(ts(Ne)||Ne[Dr]))break e;if((ne||te)&&(te=ce.window===ce?ce:(te=ce.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(Ne=l.relatedTarget||l.toElement,ne=ee,Ne=Ne?ts(Ne):null,Ne!==null&&(ft=o(Ne),Pe=Ne.tag,Ne!==ft||Pe!==5&&Pe!==27&&Pe!==6)&&(Ne=null)):(ne=null,Ne=ee),ne!==Ne)){if(Pe=Vr,he="onMouseLeave",Q="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Pe=oh,he="onPointerLeave",Q="onPointerEnter",G="pointer"),ft=ne==null?te:pi(ne),Z=Ne==null?te:pi(Ne),te=new Pe(he,G+"leave",ne,l,ce),te.target=ft,te.relatedTarget=Z,he=null,ts(ce)===ee&&(Pe=new Pe(Q,G+"enter",Ne,l,ce),Pe.target=Z,Pe.relatedTarget=ft,he=Pe),ft=he,ne&&Ne)t:{for(Pe=ne,Q=Ne,G=0,Z=Pe;Z;Z=gu(Z))G++;for(Z=0,he=Q;he;he=gu(he))Z++;for(;0<G-Z;)Pe=gu(Pe),G--;for(;0<Z-G;)Q=gu(Q),Z--;for(;G--;){if(Pe===Q||Q!==null&&Pe===Q.alternate)break t;Pe=gu(Pe),Q=gu(Q)}Pe=null}else Pe=null;ne!==null&&MA(de,te,ne,Pe,!1),Ne!==null&&ft!==null&&MA(de,ft,Ne,Pe,!0)}}e:{if(te=ee?pi(ee):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Se=eT;else if(pn(te))if(tT)Se=l2;else{Se=a2;var ze=s2}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&eh(ee.elementType)&&(Se=eT):Se=o2;if(Se&&(Se=Se(s,ee))){cs(de,Se,l,ce);break e}ze&&ze(s,te,ee),s==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&Js(te,"number",te.value)}switch(ze=ee?pi(ee):window,s){case"focusin":(pn(ze)||ze.contentEditable==="true")&&(Gl=ze,o_=ee,ch=null);break;case"focusout":ch=o_=Gl=null;break;case"mousedown":l_=!0;break;case"contextmenu":case"mouseup":case"dragend":l_=!1,uT(de,l,ce);break;case"selectionchange":if(c2)break;case"keydown":case"keyup":uT(de,l,ce)}var Re;if(bi)e:{switch(s){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else We?ae(s,l)&&(Oe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Oe="onCompositionStart");Oe&&(S&&l.locale!=="ko"&&(We||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&We&&(Re=nh()):(yi=ce,Zs="value"in yi?yi.value:yi.textContent,We=!0)),ze=em(ee,Oe),0<ze.length&&(Oe=new sh(Oe,s,null,l,ce),de.push({event:Oe,listeners:ze}),Re?Oe.data=Re:(Re=_e(l),Re!==null&&(Oe.data=Re)))),(Re=E?fn(s,l):Qe(s,l))&&(Oe=em(ee,"onBeforeInput"),0<Oe.length&&(ze=new sh("onBeforeInput","beforeinput",null,l,ce),de.push({event:ze,listeners:Oe}),ze.data=Re)),G2(de,s,ee,l,ce)}NA(de,a)})}function Uh(s,a,l){return{instance:s,listener:a,currentTarget:l}}function em(s,a){for(var l=a+"Capture",c=[];s!==null;){var m=s,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=wo(s,l),m!=null&&c.unshift(Uh(s,m,y)),m=wo(s,a),m!=null&&c.push(Uh(s,m,y))),s.tag===3)return c;s=s.return}return[]}function gu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function MA(s,a,l,c,m){for(var y=a._reactName,I=[];l!==null&&l!==c;){var N=l,z=N.alternate,ee=N.stateNode;if(N=N.tag,z!==null&&z===c)break;N!==5&&N!==26&&N!==27||ee===null||(z=ee,m?(ee=wo(l,y),ee!=null&&I.unshift(Uh(l,ee,z))):m||(ee=wo(l,y),ee!=null&&I.push(Uh(l,ee,z)))),l=l.return}I.length!==0&&s.push({event:a,listeners:I})}var Y2=/\r\n?/g,X2=/\u0000|\uFFFD/g;function VA(s){return(typeof s=="string"?s:""+s).replace(Y2,`
`).replace(X2,"")}function LA(s,a){return a=VA(a),VA(s)===a}function tm(){}function dt(s,a,l,c,m,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Nr(s,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Nr(s,""+c);break;case"className":mi(s,"class",c);break;case"tabIndex":mi(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":mi(s,l,c);break;case"style":Zc(s,c,y);break;case"data":if(a!=="object"){mi(s,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Ll(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&dt(s,a,"name",m.name,m,null),dt(s,a,"formEncType",m.formEncType,m,null),dt(s,a,"formMethod",m.formMethod,m,null),dt(s,a,"formTarget",m.formTarget,m,null)):(dt(s,a,"encType",m.encType,m,null),dt(s,a,"method",m.method,m,null),dt(s,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Ll(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=tm);break;case"onScroll":c!=null&&qe("scroll",s);break;case"onScrollEnd":c!=null&&qe("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Ll(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":qe("beforetoggle",s),qe("toggle",s),Xs(s,"popover",c);break;case"xlinkActuate":Cn(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Cn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Cn(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Cn(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Cn(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Cn(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Cn(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Cn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Cn(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Xs(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=e_.get(l)||l,Xs(s,l,c))}}function Ov(s,a,l,c,m,y){switch(l){case"style":Zc(s,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof c=="string"?Nr(s,c):(typeof c=="number"||typeof c=="bigint")&&Nr(s,""+c);break;case"onScroll":c!=null&&qe("scroll",s);break;case"onScrollEnd":c!=null&&qe("scrollend",s);break;case"onClick":c!=null&&(s.onclick=tm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dl.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),y=s[tn]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(a,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,c,m);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):Xs(s,l,c)}}}function Dn(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",s),qe("load",s);var c=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var I=l[y];if(I!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:dt(s,a,y,I,l,null)}}m&&dt(s,a,"srcSet",l.srcSet,l,null),c&&dt(s,a,"src",l.src,l,null);return;case"input":qe("invalid",s);var N=y=I=m=null,z=null,ee=null;for(c in l)if(l.hasOwnProperty(c)){var ce=l[c];if(ce!=null)switch(c){case"name":m=ce;break;case"type":I=ce;break;case"checked":z=ce;break;case"defaultChecked":ee=ce;break;case"value":y=ce;break;case"defaultValue":N=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,a));break;default:dt(s,a,c,ce,l,null)}}vo(s,y,N,z,ee,I,m,!1),Vl(s);return;case"select":qe("invalid",s),c=I=y=null;for(m in l)if(l.hasOwnProperty(m)&&(N=l[m],N!=null))switch(m){case"value":y=N;break;case"defaultValue":I=N;break;case"multiple":c=N;default:dt(s,a,m,N,l,null)}a=y,l=I,s.multiple=!!c,a!=null?is(s,!!c,a,!1):l!=null&&is(s,!!c,l,!0);return;case"textarea":qe("invalid",s),y=m=c=null;for(I in l)if(l.hasOwnProperty(I)&&(N=l[I],N!=null))switch(I){case"value":c=N;break;case"defaultValue":m=N;break;case"children":y=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:dt(s,a,I,N,l,null)}Eo(s,c,m,y),Vl(s);return;case"option":for(z in l)if(l.hasOwnProperty(z)&&(c=l[z],c!=null))switch(z){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:dt(s,a,z,c,l,null)}return;case"dialog":qe("beforetoggle",s),qe("toggle",s),qe("cancel",s),qe("close",s);break;case"iframe":case"object":qe("load",s);break;case"video":case"audio":for(c=0;c<Lh.length;c++)qe(Lh[c],s);break;case"image":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"embed":case"source":case"link":qe("error",s),qe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in l)if(l.hasOwnProperty(ee)&&(c=l[ee],c!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:dt(s,a,ee,c,l,null)}return;default:if(eh(a)){for(ce in l)l.hasOwnProperty(ce)&&(c=l[ce],c!==void 0&&Ov(s,a,ce,c,l,void 0));return}}for(N in l)l.hasOwnProperty(N)&&(c=l[N],c!=null&&dt(s,a,N,c,l,null))}function J2(s,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,I=null,N=null,z=null,ee=null,ce=null;for(ne in l){var de=l[ne];if(l.hasOwnProperty(ne)&&de!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":z=de;default:c.hasOwnProperty(ne)||dt(s,a,ne,null,c,de)}}for(var te in c){var ne=c[te];if(de=l[te],c.hasOwnProperty(te)&&(ne!=null||de!=null))switch(te){case"type":y=ne;break;case"name":m=ne;break;case"checked":ee=ne;break;case"defaultChecked":ce=ne;break;case"value":I=ne;break;case"defaultValue":N=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,a));break;default:ne!==de&&dt(s,a,te,ne,c,de)}}fr(s,I,N,z,ee,ce,y,m);return;case"select":ne=I=N=te=null;for(y in l)if(z=l[y],l.hasOwnProperty(y)&&z!=null)switch(y){case"value":break;case"multiple":ne=z;default:c.hasOwnProperty(y)||dt(s,a,y,null,c,z)}for(m in c)if(y=c[m],z=l[m],c.hasOwnProperty(m)&&(y!=null||z!=null))switch(m){case"value":te=y;break;case"defaultValue":N=y;break;case"multiple":I=y;default:y!==z&&dt(s,a,m,y,c,z)}a=N,l=I,c=ne,te!=null?is(s,!!l,te,!1):!!c!=!!l&&(a!=null?is(s,!!l,a,!0):is(s,!!l,l?[]:"",!1));return;case"textarea":ne=te=null;for(N in l)if(m=l[N],l.hasOwnProperty(N)&&m!=null&&!c.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:dt(s,a,N,null,c,m)}for(I in c)if(m=c[I],y=l[I],c.hasOwnProperty(I)&&(m!=null||y!=null))switch(I){case"value":te=m;break;case"defaultValue":ne=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&dt(s,a,I,m,c,y)}ct(s,te,ne);return;case"option":for(var Ne in l)if(te=l[Ne],l.hasOwnProperty(Ne)&&te!=null&&!c.hasOwnProperty(Ne))switch(Ne){case"selected":s.selected=!1;break;default:dt(s,a,Ne,null,c,te)}for(z in c)if(te=c[z],ne=l[z],c.hasOwnProperty(z)&&te!==ne&&(te!=null||ne!=null))switch(z){case"selected":s.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:dt(s,a,z,te,c,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in l)te=l[Pe],l.hasOwnProperty(Pe)&&te!=null&&!c.hasOwnProperty(Pe)&&dt(s,a,Pe,null,c,te);for(ee in c)if(te=c[ee],ne=l[ee],c.hasOwnProperty(ee)&&te!==ne&&(te!=null||ne!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:dt(s,a,ee,te,c,ne)}return;default:if(eh(a)){for(var ft in l)te=l[ft],l.hasOwnProperty(ft)&&te!==void 0&&!c.hasOwnProperty(ft)&&Ov(s,a,ft,void 0,c,te);for(ce in c)te=c[ce],ne=l[ce],!c.hasOwnProperty(ce)||te===ne||te===void 0&&ne===void 0||Ov(s,a,ce,te,c,ne);return}}for(var Q in l)te=l[Q],l.hasOwnProperty(Q)&&te!=null&&!c.hasOwnProperty(Q)&&dt(s,a,Q,null,c,te);for(de in c)te=c[de],ne=l[de],!c.hasOwnProperty(de)||te===ne||te==null&&ne==null||dt(s,a,de,te,c,ne)}var Dv=null,Nv=null;function nm(s){return s.nodeType===9?s:s.ownerDocument}function UA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function BA(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function kv(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Mv=null;function Z2(){var s=window.event;return s&&s.type==="popstate"?s===Mv?!1:(Mv=s,!0):(Mv=null,!1)}var FA=typeof setTimeout=="function"?setTimeout:void 0,eM=typeof clearTimeout=="function"?clearTimeout:void 0,zA=typeof Promise=="function"?Promise:void 0,tM=typeof queueMicrotask=="function"?queueMicrotask:typeof zA<"u"?function(s){return zA.resolve(null).then(s).catch(nM)}:FA;function nM(s){setTimeout(function(){throw s})}function ma(s){return s==="head"}function jA(s,a){var l=a,c=0,m=0;do{var y=l.nextSibling;if(s.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var I=s.ownerDocument;if(l&1&&Bh(I.documentElement),l&2&&Bh(I.body),l&4)for(l=I.head,Bh(l),I=l.firstChild;I;){var N=I.nextSibling,z=I.nodeName;I[mo]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&I.rel.toLowerCase()==="stylesheet"||l.removeChild(I),I=N}}if(m===0){s.removeChild(y),Kh(a);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);Kh(a)}function Vv(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Vv(l),Ys(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function rM(s,a,l,c){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[mo])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=ni(s.nextSibling),s===null)break}return null}function iM(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=ni(s.nextSibling),s===null))return null;return s}function Lv(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function sM(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function ni(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var Uv=null;function qA(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function HA(s,a,l){switch(a=nm(l),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Bh(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Ys(s)}var qr=new Map,$A=new Set;function rm(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ts=J.d;J.d={f:aM,r:oM,D:lM,C:uM,L:cM,m:hM,X:fM,S:dM,M:pM};function aM(){var s=Ts.f(),a=Wp();return s||a}function oM(s){var a=fi(s);a!==null&&a.tag===5&&a.type==="form"?hS(a):Ts.r(s)}var yu=typeof document>"u"?null:document;function GA(s,a,l){var c=yu;if(c&&typeof a=="string"&&a){var m=nn(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),$A.has(m)||($A.add(m),s={rel:s,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),Dn(a,"link",s),Kt(a),c.head.appendChild(a)))}}function lM(s){Ts.D(s),GA("dns-prefetch",s,null)}function uM(s,a){Ts.C(s,a),GA("preconnect",s,a)}function cM(s,a,l){Ts.L(s,a,l);var c=yu;if(c&&s&&a){var m='link[rel="preload"][as="'+nn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+nn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+nn(l.imageSizes)+'"]')):m+='[href="'+nn(s)+'"]';var y=m;switch(a){case"style":y=_u(s);break;case"script":y=vu(s)}qr.has(y)||(s=g({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),qr.set(y,s),c.querySelector(m)!==null||a==="style"&&c.querySelector(Fh(y))||a==="script"&&c.querySelector(zh(y))||(a=c.createElement("link"),Dn(a,"link",s),Kt(a),c.head.appendChild(a)))}}function hM(s,a){Ts.m(s,a);var l=yu;if(l&&s){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+nn(c)+'"][href="'+nn(s)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=vu(s)}if(!qr.has(y)&&(s=g({rel:"modulepreload",href:s},a),qr.set(y,s),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(zh(y)))return}c=l.createElement("link"),Dn(c,"link",s),Kt(c),l.head.appendChild(c)}}}function dM(s,a,l){Ts.S(s,a,l);var c=yu;if(c&&s){var m=Gn(c).hoistableStyles,y=_u(s);a=a||"default";var I=m.get(y);if(!I){var N={loading:0,preload:null};if(I=c.querySelector(Fh(y)))N.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":a},l),(l=qr.get(y))&&Bv(s,l);var z=I=c.createElement("link");Kt(z),Dn(z,"link",s),z._p=new Promise(function(ee,ce){z.onload=ee,z.onerror=ce}),z.addEventListener("load",function(){N.loading|=1}),z.addEventListener("error",function(){N.loading|=2}),N.loading|=4,im(I,a,c)}I={type:"stylesheet",instance:I,count:1,state:N},m.set(y,I)}}}function fM(s,a){Ts.X(s,a);var l=yu;if(l&&s){var c=Gn(l).hoistableScripts,m=vu(s),y=c.get(m);y||(y=l.querySelector(zh(m)),y||(s=g({src:s,async:!0},a),(a=qr.get(m))&&Fv(s,a),y=l.createElement("script"),Kt(y),Dn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function pM(s,a){Ts.M(s,a);var l=yu;if(l&&s){var c=Gn(l).hoistableScripts,m=vu(s),y=c.get(m);y||(y=l.querySelector(zh(m)),y||(s=g({src:s,async:!0,type:"module"},a),(a=qr.get(m))&&Fv(s,a),y=l.createElement("script"),Kt(y),Dn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function KA(s,a,l,c){var m=(m=xe.current)?rm(m):null;if(!m)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=_u(l.href),l=Gn(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=_u(l.href);var y=Gn(m).hoistableStyles,I=y.get(s);if(I||(m=m.ownerDocument||m,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,I),(y=m.querySelector(Fh(s)))&&!y._p&&(I.instance=y,I.state.loading=5),qr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},qr.set(s,l),y||mM(m,s,l,I.state))),a&&c===null)throw Error(r(528,""));return I}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=vu(l),l=Gn(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function _u(s){return'href="'+nn(s)+'"'}function Fh(s){return'link[rel="stylesheet"]['+s+"]"}function WA(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function mM(s,a,l,c){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=s.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Dn(a,"link",l),Kt(a),s.head.appendChild(a))}function vu(s){return'[src="'+nn(s)+'"]'}function zh(s){return"script[async]"+s}function QA(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=s.querySelector('style[data-href~="'+nn(l.href)+'"]');if(c)return a.instance=c,Kt(c),c;var m=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Kt(c),Dn(c,"style",m),im(c,l.precedence,s),a.instance=c;case"stylesheet":m=_u(l.href);var y=s.querySelector(Fh(m));if(y)return a.state.loading|=4,a.instance=y,Kt(y),y;c=WA(l),(m=qr.get(m))&&Bv(c,m),y=(s.ownerDocument||s).createElement("link"),Kt(y);var I=y;return I._p=new Promise(function(N,z){I.onload=N,I.onerror=z}),Dn(y,"link",c),a.state.loading|=4,im(y,l.precedence,s),a.instance=y;case"script":return y=vu(l.src),(m=s.querySelector(zh(y)))?(a.instance=m,Kt(m),m):(c=l,(m=qr.get(y))&&(c=g({},l),Fv(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),Kt(m),Dn(m,"link",c),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,im(c,l.precedence,s));return a.instance}function im(s,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,I=0;I<c.length;I++){var N=c[I];if(N.dataset.precedence===a)y=N;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function Bv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Fv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var sm=null;function YA(s,a,l){if(sm===null){var c=new Map,m=sm=new Map;m.set(l,c)}else m=sm,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var y=l[m];if(!(y[mo]||y[dn]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var I=y.getAttribute(a)||"";I=s+I;var N=c.get(I);N?N.push(y):c.set(I,[y])}}return c}function XA(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function gM(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function JA(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var jh=null;function yM(){}function _M(s,a,l){if(jh===null)throw Error(r(475));var c=jh;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=_u(l.href),y=s.querySelector(Fh(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=am.bind(c),s.then(c,c)),a.state.loading|=4,a.instance=y,Kt(y);return}y=s.ownerDocument||s,l=WA(l),(m=qr.get(m))&&Bv(l,m),y=y.createElement("link"),Kt(y);var I=y;I._p=new Promise(function(N,z){I.onload=N,I.onerror=z}),Dn(y,"link",l),a.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=am.bind(c),s.addEventListener("load",a),s.addEventListener("error",a))}}function vM(){if(jh===null)throw Error(r(475));var s=jh;return s.stylesheets&&s.count===0&&zv(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&zv(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function am(){if(this.count--,this.count===0){if(this.stylesheets)zv(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var om=null;function zv(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,om=new Map,a.forEach(EM,s),om=null,am.call(s))}function EM(s,a){if(!(a.state.loading&4)){var l=om.get(s);if(l)var c=l.get(null);else{l=new Map,om.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var I=m[y];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(l.set(I.dataset.precedence,I),c=I)}c&&l.set(null,c)}m=a.instance,I=m.getAttribute("data-precedence"),y=l.get(I)||c,y===c&&l.set(null,m),l.set(I,m),this.count++,c=am.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var qh={$$typeof:L,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function bM(s,a,l,c,m,y,I,N){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zi(0),this.hiddenUpdates=Zi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function ZA(s,a,l,c,m,y,I,N,z,ee,ce,de){return s=new bM(s,a,l,I,N,z,ee,de),a=1,y===!0&&(a|=24),y=mr(3,null,null,a),s.current=y,y.stateNode=s,a=w_(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},I_(y),s}function eI(s){return s?(s=Yl,s):Yl}function tI(s,a,l,c,m,y){m=eI(m),c.context===null?c.context=m:c.pendingContext=m,c=na(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=ra(s,c,a),l!==null&&(Er(l,s,a),vh(l,s,a))}function nI(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function jv(s,a){nI(s,a),(s=s.alternate)&&nI(s,a)}function rI(s){if(s.tag===13){var a=Ql(s,67108864);a!==null&&Er(a,s,67108864),jv(s,67108864)}}var lm=!0;function wM(s,a,l,c){var m=$.T;$.T=null;var y=J.p;try{J.p=2,qv(s,a,l,c)}finally{J.p=y,$.T=m}}function TM(s,a,l,c){var m=$.T;$.T=null;var y=J.p;try{J.p=8,qv(s,a,l,c)}finally{J.p=y,$.T=m}}function qv(s,a,l,c){if(lm){var m=Hv(c);if(m===null)Pv(s,a,c,um,l),sI(s,c);else if(AM(m,s,a,l,c))c.stopPropagation();else if(sI(s,c),a&4&&-1<SM.indexOf(s)){for(;m!==null;){var y=fi(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var I=Xr(y.pendingLanes);if(I!==0){var N=y;for(N.pendingLanes|=2,N.entangledLanes|=2;I;){var z=1<<31-en(I);N.entanglements[1]|=z,I&=~z}Ri(y),(at&6)===0&&(Gp=tr()+500,Vh(0))}}break;case 13:N=Ql(y,2),N!==null&&Er(N,y,2),Wp(),jv(y,2)}if(y=Hv(c),y===null&&Pv(s,a,c,um,l),y===m)break;m=y}m!==null&&c.stopPropagation()}else Pv(s,a,c,null,l)}}function Hv(s){return s=kr(s),$v(s)}var um=null;function $v(s){if(um=null,s=ts(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=u(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return um=s,null}function iI(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jc()){case uo:return 2;case Ji:return 8;case Fe:case _t:return 32;case wt:return 268435456;default:return 32}default:return 32}}var Gv=!1,ga=null,ya=null,_a=null,Hh=new Map,$h=new Map,va=[],SM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sI(s,a){switch(s){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":Hh.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":$h.delete(a.pointerId)}}function Gh(s,a,l,c,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},a!==null&&(a=fi(a),a!==null&&rI(a)),s):(s.eventSystemFlags|=c,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function AM(s,a,l,c,m){switch(a){case"focusin":return ga=Gh(ga,s,a,l,c,m),!0;case"dragenter":return ya=Gh(ya,s,a,l,c,m),!0;case"mouseover":return _a=Gh(_a,s,a,l,c,m),!0;case"pointerover":var y=m.pointerId;return Hh.set(y,Gh(Hh.get(y)||null,s,a,l,c,m)),!0;case"gotpointercapture":return y=m.pointerId,$h.set(y,Gh($h.get(y)||null,s,a,l,c,m)),!0}return!1}function aI(s){var a=ts(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){s.blockedOn=a,Wf(s.priority,function(){if(l.tag===13){var c=vr();c=Ks(c);var m=Ql(l,c);m!==null&&Er(m,l,c),jv(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function cm(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Hv(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);ss=c,l.target.dispatchEvent(c),ss=null}else return a=fi(l),a!==null&&rI(a),s.blockedOn=l,!1;a.shift()}return!0}function oI(s,a,l){cm(s)&&l.delete(a)}function IM(){Gv=!1,ga!==null&&cm(ga)&&(ga=null),ya!==null&&cm(ya)&&(ya=null),_a!==null&&cm(_a)&&(_a=null),Hh.forEach(oI),$h.forEach(oI)}function hm(s,a){s.blockedOn===a&&(s.blockedOn=null,Gv||(Gv=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,IM)))}var dm=null;function lI(s){dm!==s&&(dm=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){dm===s&&(dm=null);for(var a=0;a<s.length;a+=3){var l=s[a],c=s[a+1],m=s[a+2];if(typeof c!="function"){if($v(c||l)===null)continue;break}var y=fi(l);y!==null&&(s.splice(a,3),a-=3,$_(y,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function Kh(s){function a(z){return hm(z,s)}ga!==null&&hm(ga,s),ya!==null&&hm(ya,s),_a!==null&&hm(_a,s),Hh.forEach(a),$h.forEach(a);for(var l=0;l<va.length;l++){var c=va[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<va.length&&(l=va[0],l.blockedOn===null);)aI(l),l.blockedOn===null&&va.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],y=l[c+1],I=m[tn]||null;if(typeof y=="function")I||lI(l);else if(I){var N=null;if(y&&y.hasAttribute("formAction")){if(m=y,I=y[tn]||null)N=I.formAction;else if($v(m)!==null)continue}else N=I.action;typeof N=="function"?l[c+1]=N:(l.splice(c,3),c-=3),lI(l)}}}function Kv(s){this._internalRoot=s}fm.prototype.render=Kv.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=vr();tI(l,c,s,a,null,null)},fm.prototype.unmount=Kv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;tI(s.current,2,null,s,null,null),Wp(),a[Dr]=null}};function fm(s){this._internalRoot=s}fm.prototype.unstable_scheduleHydration=function(s){if(s){var a=Ws();s={blockedOn:null,target:s,priority:a};for(var l=0;l<va.length&&a!==0&&a<va[l].priority;l++);va.splice(l,0,s),l===0&&aI(s)}};var uI=e.version;if(uI!=="19.1.0")throw Error(r(527,uI,"19.1.0"));J.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(a),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var RM={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pm.isDisabled&&pm.supportsFiber)try{st=pm.inject(RM),Ue=pm}catch{}}return Qh.createRoot=function(s,a){if(!i(s))throw Error(r(299));var l=!1,c="",m=AS,y=IS,I=RS,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(I=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks)),a=ZA(s,1,!1,null,null,l,c,m,y,I,N,null),s[Dr]=a.current,xv(s),new Kv(a)},Qh.hydrateRoot=function(s,a,l){if(!i(s))throw Error(r(299));var c=!1,m="",y=AS,I=IS,N=RS,z=null,ee=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(I=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(z=l.unstable_transitionCallbacks),l.formState!==void 0&&(ee=l.formState)),a=ZA(s,1,!0,a,l??null,c,m,y,I,N,z,ee),a.context=eI(null),l=a.current,c=vr(),c=Ks(c),m=na(c),m.callback=null,ra(l,m,c),l=c,a.current.lanes=l,es(a,l),Ri(a),s[Dr]=a.current,xv(s),new fm(a)},Qh.version="19.1.0",Qh}var vI;function UM(){if(vI)return Qv.exports;vI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qv.exports=LM(),Qv.exports}var BM=UM(),W=Ja();const $e=$E(W),V0=xM({__proto__:null,default:$e},[W]);var Yh={},EI;function FM(){if(EI)return Yh;EI=1,Object.defineProperty(Yh,"__esModule",{value:!0}),Yh.parse=u,Yh.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,T){const b=new o,A=v.length;if(A<2)return b;const P=(T==null?void 0:T.decode)||g;let U=0;do{const V=v.indexOf("=",U);if(V===-1)break;const L=v.indexOf(";",U),H=L===-1?A:L;if(V>H){U=v.lastIndexOf(";",V-1)+1;continue}const F=h(v,U,V),K=f(v,V,F),M=v.slice(F,K);if(b[M]===void 0){let R=h(v,V+1,H),x=f(v,H,R);const w=P(v.slice(R,x));b[M]=w}U=H+1}while(U<A);return b}function h(v,T,b){do{const A=v.charCodeAt(T);if(A!==32&&A!==9)return T}while(++T<b);return b}function f(v,T,b){for(;T>b;){const A=v.charCodeAt(--T);if(A!==32&&A!==9)return T+1}return b}function d(v,T,b){const A=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const P=A(T);if(!e.test(P))throw new TypeError(`argument val is invalid: ${T}`);let U=v+"="+P;if(!b)return U;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);U+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);U+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);U+="; Path="+b.path}if(b.expires){if(!_(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);U+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(U+="; HttpOnly"),b.secure&&(U+="; Secure"),b.partitioned&&(U+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return U}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return i.call(v)==="[object Date]"}return Yh}FM();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bI="popstate";function zM(n={}){function e(r,i){let{pathname:o,search:u,hash:h}=r.location;return L0("",{pathname:o,search:u,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:jd(i)}return qM(e,t,null,n)}function kt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Hi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jM(){return Math.random().toString(36).substring(2,10)}function wI(n,e){return{usr:n.state,key:n.key,idx:e}}function L0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?bc(e):e,state:t,key:e&&e.key||r||jM()}}function jd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function bc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function qM(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,u=i.history,h="POP",f=null,d=g();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function g(){return(u.state||{idx:null}).idx}function _(){h="POP";let P=g(),U=P==null?null:P-d;d=P,f&&f({action:h,location:A.location,delta:U})}function v(P,U){h="PUSH";let V=L0(A.location,P,U);d=g()+1;let L=wI(V,d),H=A.createHref(V);try{u.pushState(L,"",H)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(H)}o&&f&&f({action:h,location:A.location,delta:1})}function T(P,U){h="REPLACE";let V=L0(A.location,P,U);d=g();let L=wI(V,d),H=A.createHref(V);u.replaceState(L,"",H),o&&f&&f({action:h,location:A.location,delta:0})}function b(P){let U=i.location.origin!=="null"?i.location.origin:i.location.href,V=typeof P=="string"?P:jd(P);return V=V.replace(/ $/,"%20"),kt(U,`No window.location.(origin|href) available to create URL for href: ${V}`),new URL(V,U)}let A={get action(){return h},get location(){return n(i,u)},listen(P){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(bI,_),f=P,()=>{i.removeEventListener(bI,_),f=null}},createHref(P){return e(i,P)},createURL:b,encodeLocation(P){let U=b(P);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:v,replace:T,go(P){return u.go(P)}};return A}function JC(n,e,t="/"){return HM(n,e,t,!1)}function HM(n,e,t,r){let i=typeof e=="string"?bc(e):e,o=Ns(i.pathname||"/",t);if(o==null)return null;let u=ZC(n);$M(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let d=nV(o);h=eV(u[f],d,r)}return h}function ZC(n,e=[],t=[],r=""){let i=(o,u,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(kt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let d=Os([r,f.relativePath]),g=t.concat(f);o.children&&o.children.length>0&&(kt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),ZC(o.children,e,g,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:JM(d,o.index),routesMeta:g})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))i(o,u);else for(let f of ex(o.path))i(o,u,f)}),e}function ex(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=ex(r.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),i&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function $M(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:ZM(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var GM=/^:[\w-]+$/,KM=3,WM=2,QM=1,YM=10,XM=-2,TI=n=>n==="*";function JM(n,e){let t=n.split("/"),r=t.length;return t.some(TI)&&(r+=XM),e&&(r+=WM),t.filter(i=>!TI(i)).reduce((i,o)=>i+(GM.test(o)?KM:o===""?QM:YM),r)}function ZM(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function eV(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],d=h===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=rg({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),v=f.route;if(!_&&d&&t&&!r[r.length-1].route.index&&(_=rg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),u.push({params:i,pathname:Os([o,_.pathname]),pathnameBase:aV(Os([o,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(o=Os([o,_.pathnameBase]))}return u}function rg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=tV(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((d,{paramName:g,isOptional:_},v)=>{if(g==="*"){let b=h[v]||"";u=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const T=h[v];return _&&!T?d[g]=void 0:d[g]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:u,pattern:n}}function tV(n,e=!1,t=!0){Hi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function nV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ns(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function rV(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?bc(n):n;return{pathname:t?t.startsWith("/")?t:iV(t,e):e,search:oV(r),hash:lV(i)}}function iV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function e0(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function tx(n){let e=sV(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function nx(n,e,t,r=!1){let i;typeof n=="string"?i=bc(n):(i={...n},kt(!i.pathname||!i.pathname.includes("?"),e0("?","pathname","search",i)),kt(!i.pathname||!i.pathname.includes("#"),e0("#","pathname","hash",i)),kt(!i.search||!i.search.includes("#"),e0("#","search","hash",i)));let o=n===""||i.pathname==="",u=o?"/":i.pathname,h;if(u==null)h=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),_-=1;i.pathname=v.join("/")}h=_>=0?e[_]:"/"}let f=rV(i,h),d=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}var Os=n=>n.join("/").replace(/\/\/+/g,"/"),aV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),oV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,lV=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function uV(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var rx=["POST","PUT","PATCH","DELETE"];new Set(rx);var cV=["GET",...rx];new Set(cV);var wc=W.createContext(null);wc.displayName="DataRouter";var Bg=W.createContext(null);Bg.displayName="DataRouterState";var ix=W.createContext({isTransitioning:!1});ix.displayName="ViewTransition";var hV=W.createContext(new Map);hV.displayName="Fetchers";var dV=W.createContext(null);dV.displayName="Await";var Yi=W.createContext(null);Yi.displayName="Navigation";var yf=W.createContext(null);yf.displayName="Location";var Xi=W.createContext({outlet:null,matches:[],isDataRoute:!1});Xi.displayName="Route";var GE=W.createContext(null);GE.displayName="RouteError";function fV(n,{relative:e}={}){kt(_f(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=W.useContext(Yi),{hash:i,pathname:o,search:u}=vf(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Os([t,o])),r.createHref({pathname:h,search:u,hash:i})}function _f(){return W.useContext(yf)!=null}function Za(){return kt(_f(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(yf).location}var sx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ax(n){W.useContext(Yi).static||W.useLayoutEffect(n)}function Fg(){let{isDataRoute:n}=W.useContext(Xi);return n?IV():pV()}function pV(){kt(_f(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(wc),{basename:e,navigator:t}=W.useContext(Yi),{matches:r}=W.useContext(Xi),{pathname:i}=Za(),o=JSON.stringify(tx(r)),u=W.useRef(!1);return ax(()=>{u.current=!0}),W.useCallback((f,d={})=>{if(Hi(u.current,sx),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=nx(f,JSON.parse(o),i,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Os([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,o,i,n])}W.createContext(null);function ox(){let{matches:n}=W.useContext(Xi),e=n[n.length-1];return e?e.params:{}}function vf(n,{relative:e}={}){let{matches:t}=W.useContext(Xi),{pathname:r}=Za(),i=JSON.stringify(tx(t));return W.useMemo(()=>nx(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function mV(n,e){return lx(n,e)}function lx(n,e,t,r){var V;kt(_f(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=W.useContext(Yi),{matches:u}=W.useContext(Xi),h=u[u.length-1],f=h?h.params:{},d=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let L=_&&_.path||"";ux(d,!_||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let v=Za(),T;if(e){let L=typeof e=="string"?bc(e):e;kt(g==="/"||((V=L.pathname)==null?void 0:V.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),T=L}else T=v;let b=T.pathname||"/",A=b;if(g!=="/"){let L=g.replace(/^\//,"").split("/");A="/"+b.replace(/^\//,"").split("/").slice(L.length).join("/")}let P=!o&&t&&t.matches&&t.matches.length>0?t.matches:JC(n,{pathname:A});Hi(_||P!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Hi(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=EV(P&&P.map(L=>Object.assign({},L,{params:Object.assign({},f,L.params),pathname:Os([g,i.encodeLocation?i.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:Os([g,i.encodeLocation?i.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),u,t,r);return e&&U?W.createElement(yf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},U):U}function gV(){let n=AV(),e=uV(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:i},t):null,u)}var yV=W.createElement(gV,null),_V=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?W.createElement(Xi.Provider,{value:this.props.routeContext},W.createElement(GE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vV({routeContext:n,match:e,children:t}){let r=W.useContext(wc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(Xi.Provider,{value:n},t)}function EV(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let f=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);kt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<i.length;f++){let d=i[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(h=f),d.route.id){let{loaderData:g,errors:_}=t,v=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!_||_[d.route.id]===void 0);if(d.route.lazy||v){u=!0,h>=0?i=i.slice(0,h+1):i=[i[0]];break}}}return i.reduceRight((f,d,g)=>{let _,v=!1,T=null,b=null;t&&(_=o&&d.route.id?o[d.route.id]:void 0,T=d.route.errorElement||yV,u&&(h<0&&g===0?(ux("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,b=null):h===g&&(v=!0,b=d.route.hydrateFallbackElement||null)));let A=e.concat(i.slice(0,g+1)),P=()=>{let U;return _?U=T:v?U=b:d.route.Component?U=W.createElement(d.route.Component,null):d.route.element?U=d.route.element:U=f,W.createElement(vV,{match:d,routeContext:{outlet:f,matches:A,isDataRoute:t!=null},children:U})};return t&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?W.createElement(_V,{location:t.location,revalidation:t.revalidation,component:T,error:_,children:P(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):P()},null)}function KE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bV(n){let e=W.useContext(wc);return kt(e,KE(n)),e}function wV(n){let e=W.useContext(Bg);return kt(e,KE(n)),e}function TV(n){let e=W.useContext(Xi);return kt(e,KE(n)),e}function WE(n){let e=TV(n),t=e.matches[e.matches.length-1];return kt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function SV(){return WE("useRouteId")}function AV(){var r;let n=W.useContext(GE),e=wV("useRouteError"),t=WE("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function IV(){let{router:n}=bV("useNavigate"),e=WE("useNavigate"),t=W.useRef(!1);return ax(()=>{t.current=!0}),W.useCallback(async(i,o={})=>{Hi(t.current,sx),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var SI={};function ux(n,e,t){!e&&!SI[n]&&(SI[n]=!0,Hi(!1,t))}W.memo(RV);function RV({routes:n,future:e,state:t}){return lx(n,void 0,t,e)}function Ia(n){kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CV({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){kt(!_f(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=W.useMemo(()=>({basename:u,navigator:i,static:o,future:{}}),[u,i,o]);typeof t=="string"&&(t=bc(t));let{pathname:f="/",search:d="",hash:g="",state:_=null,key:v="default"}=t,T=W.useMemo(()=>{let b=Ns(f,u);return b==null?null:{location:{pathname:b,search:d,hash:g,state:_,key:v},navigationType:r}},[u,f,d,g,_,v,r]);return Hi(T!=null,`<Router basename="${u}"> is not able to match the URL "${f}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:W.createElement(Yi.Provider,{value:h},W.createElement(yf.Provider,{children:e,value:T}))}function xV({children:n,location:e}){return mV(U0(n),e)}function U0(n,e=[]){let t=[];return W.Children.forEach(n,(r,i)=>{if(!W.isValidElement(r))return;let o=[...e,i];if(r.type===W.Fragment){t.push.apply(t,U0(r.props.children,o));return}kt(r.type===Ia,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=U0(r.props.children,o)),t.push(u)}),t}var Dm="get",Nm="application/x-www-form-urlencoded";function zg(n){return n!=null&&typeof n.tagName=="string"}function PV(n){return zg(n)&&n.tagName.toLowerCase()==="button"}function OV(n){return zg(n)&&n.tagName.toLowerCase()==="form"}function DV(n){return zg(n)&&n.tagName.toLowerCase()==="input"}function NV(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function kV(n,e){return n.button===0&&(!e||e==="_self")&&!NV(n)}var mm=null;function MV(){if(mm===null)try{new FormData(document.createElement("form"),0),mm=!1}catch{mm=!0}return mm}var VV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function t0(n){return n!=null&&!VV.has(n)?(Hi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nm}"`),null):n}function LV(n,e){let t,r,i,o,u;if(OV(n)){let h=n.getAttribute("action");r=h?Ns(h,e):null,t=n.getAttribute("method")||Dm,i=t0(n.getAttribute("enctype"))||Nm,o=new FormData(n)}else if(PV(n)||DV(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?Ns(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Dm,i=t0(n.getAttribute("formenctype"))||t0(h.getAttribute("enctype"))||Nm,o=new FormData(h,n),!MV()){let{name:d,type:g,value:_}=n;if(g==="image"){let v=d?`${d}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else d&&o.append(d,_)}}else{if(zg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Dm,r=null,i=Nm,u=n}return o&&i==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:u}}function QE(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function UV(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BV(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function FV(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let u=await UV(o,t);return u.links?u.links():[]}return[]}));return HV(r.flat(1).filter(BV).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function AI(n,e,t,r,i,o){let u=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,h=(f,d)=>{var g;return t[d].pathname!==f.pathname||((g=t[d].route.path)==null?void 0:g.endsWith("*"))&&t[d].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,d)=>u(f,d)||h(f,d)):o==="data"?e.filter((f,d)=>{var _;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,d)||h(f,d))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function zV(n,e,{includeHydrateFallback:t}={}){return jV(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function jV(n){return[...new Set(n)]}function qV(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function HV(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(qV(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function $V(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ns(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function cx(){let n=W.useContext(wc);return QE(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function GV(){let n=W.useContext(Bg);return QE(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var YE=W.createContext(void 0);YE.displayName="FrameworkContext";function hx(){let n=W.useContext(YE);return QE(n,"You must render this element inside a <HydratedRouter> element"),n}function KV(n,e){let t=W.useContext(YE),[r,i]=W.useState(!1),[o,u]=W.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:d,onMouseLeave:g,onTouchStart:_}=e,v=W.useRef(null);W.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let A=U=>{U.forEach(V=>{u(V.isIntersecting)})},P=new IntersectionObserver(A,{threshold:.5});return v.current&&P.observe(v.current),()=>{P.disconnect()}}},[n]),W.useEffect(()=>{if(r){let A=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(A)}}},[r]);let T=()=>{i(!0)},b=()=>{i(!1),u(!1)};return t?n!=="intent"?[o,v,{}]:[o,v,{onFocus:Xh(h,T),onBlur:Xh(f,b),onMouseEnter:Xh(d,T),onMouseLeave:Xh(g,b),onTouchStart:Xh(_,T)}]:[!1,v,{}]}function Xh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function WV({page:n,...e}){let{router:t}=cx(),r=W.useMemo(()=>JC(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?W.createElement(YV,{page:n,matches:r,...e}):null}function QV(n){let{manifest:e,routeModules:t}=hx(),[r,i]=W.useState([]);return W.useEffect(()=>{let o=!1;return FV(n,e,t).then(u=>{o||i(u)}),()=>{o=!0}},[n,e,t]),r}function YV({page:n,matches:e,...t}){let r=Za(),{manifest:i,routeModules:o}=hx(),{basename:u}=cx(),{loaderData:h,matches:f}=GV(),d=W.useMemo(()=>AI(n,e,f,i,r,"data"),[n,e,f,i,r]),g=W.useMemo(()=>AI(n,e,f,i,r,"assets"),[n,e,f,i,r]),_=W.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,A=!1;if(e.forEach(U=>{var L;let V=i.routes[U.route.id];!V||!V.hasLoader||(!d.some(H=>H.route.id===U.route.id)&&U.route.id in h&&((L=o[U.route.id])!=null&&L.shouldRevalidate)||V.hasClientLoader?A=!0:b.add(U.route.id))}),b.size===0)return[];let P=$V(n,u);return A&&b.size>0&&P.searchParams.set("_routes",e.filter(U=>b.has(U.route.id)).map(U=>U.route.id).join(",")),[P.pathname+P.search]},[u,h,r,i,d,e,n,o]),v=W.useMemo(()=>zV(g,i),[g,i]),T=QV(g);return W.createElement(W.Fragment,null,_.map(b=>W.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),v.map(b=>W.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),T.map(({key:b,link:A})=>W.createElement("link",{key:b,...A})))}function XV(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var dx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dx&&(window.__reactRouterVersion="7.5.0")}catch{}function JV({basename:n,children:e,window:t}){let r=W.useRef();r.current==null&&(r.current=zM({window:t,v5Compat:!0}));let i=r.current,[o,u]=W.useState({action:i.action,location:i.location}),h=W.useCallback(f=>{W.startTransition(()=>u(f))},[u]);return W.useLayoutEffect(()=>i.listen(h),[i,h]),W.createElement(CV,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var fx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,si=W.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:u,state:h,target:f,to:d,preventScrollReset:g,viewTransition:_,...v},T){let{basename:b}=W.useContext(Yi),A=typeof d=="string"&&fx.test(d),P,U=!1;if(typeof d=="string"&&A&&(P=d,dx))try{let x=new URL(window.location.href),w=d.startsWith("//")?new URL(x.protocol+d):new URL(d),O=Ns(w.pathname,b);w.origin===x.origin&&O!=null?d=O+w.search+w.hash:U=!0}catch{Hi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=fV(d,{relative:i}),[L,H,F]=KV(r,v),K=nL(d,{replace:u,state:h,target:f,preventScrollReset:g,relative:i,viewTransition:_});function M(x){e&&e(x),x.defaultPrevented||K(x)}let R=W.createElement("a",{...v,...F,href:P||V,onClick:U||o?e:M,ref:XV(T,H),target:f,"data-discover":!A&&t==="render"?"true":void 0});return L&&!A?W.createElement(W.Fragment,null,R,W.createElement(WV,{page:V})):R});si.displayName="Link";var ZV=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:u,viewTransition:h,children:f,...d},g){let _=vf(u,{relative:d.relative}),v=Za(),T=W.useContext(Bg),{navigator:b,basename:A}=W.useContext(Yi),P=T!=null&&oL(_)&&h===!0,U=b.encodeLocation?b.encodeLocation(_).pathname:_.pathname,V=v.pathname,L=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(V=V.toLowerCase(),L=L?L.toLowerCase():null,U=U.toLowerCase()),L&&A&&(L=Ns(L,A)||L);const H=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let F=V===U||!i&&V.startsWith(U)&&V.charAt(H)==="/",K=L!=null&&(L===U||!i&&L.startsWith(U)&&L.charAt(U.length)==="/"),M={isActive:F,isPending:K,isTransitioning:P},R=F?e:void 0,x;typeof r=="function"?x=r(M):x=[r,F?"active":null,K?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let w=typeof o=="function"?o(M):o;return W.createElement(si,{...d,"aria-current":R,className:x,ref:g,style:w,to:u,viewTransition:h},typeof f=="function"?f(M):f)});ZV.displayName="NavLink";var eL=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:u=Dm,action:h,onSubmit:f,relative:d,preventScrollReset:g,viewTransition:_,...v},T)=>{let b=sL(),A=aL(h,{relative:d}),P=u.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&fx.test(h),V=L=>{if(f&&f(L),L.defaultPrevented)return;L.preventDefault();let H=L.nativeEvent.submitter,F=(H==null?void 0:H.getAttribute("formmethod"))||u;b(H||L.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:i,state:o,relative:d,preventScrollReset:g,viewTransition:_})};return W.createElement("form",{ref:T,method:P,action:A,onSubmit:r?f:V,...v,"data-discover":!U&&n==="render"?"true":void 0})});eL.displayName="Form";function tL(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function px(n){let e=W.useContext(wc);return kt(e,tL(n)),e}function nL(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:u}={}){let h=Fg(),f=Za(),d=vf(n,{relative:o});return W.useCallback(g=>{if(kV(g,e)){g.preventDefault();let _=t!==void 0?t:jd(f)===jd(d);h(n,{replace:_,state:r,preventScrollReset:i,relative:o,viewTransition:u})}},[f,h,d,t,r,e,n,i,o,u])}var rL=0,iL=()=>`__${String(++rL)}__`;function sL(){let{router:n}=px("useSubmit"),{basename:e}=W.useContext(Yi),t=SV();return W.useCallback(async(r,i={})=>{let{action:o,method:u,encType:h,formData:f,body:d}=LV(r,e);if(i.navigate===!1){let g=i.fetcherKey||iL();await n.fetch(g,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||u,formEncType:i.encType||h,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||u,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function aL(n,{relative:e}={}){let{basename:t}=W.useContext(Yi),r=W.useContext(Xi);kt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...vf(n||".",{relative:e})},u=Za();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Os([t,o.pathname])),jd(o)}function oL(n,e={}){let t=W.useContext(ix);kt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=px("useViewTransitionState"),i=vf(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Ns(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Ns(t.nextLocation.pathname,r)||t.nextLocation.pathname;return rg(i.pathname,u)!=null||rg(i.pathname,o)!=null}new TextEncoder;const lL="_fixed_ivcnm_9",uL="_header__container_ivcnm_19",cL="_logo__container_ivcnm_35",hL="_delivery_ivcnm_57",dL="_search_ivcnm_79",fL="_order__container_ivcnm_149",pL="_language_ivcnm_177",mL="_cart_ivcnm_203",gL="_lower__container_ivcnm_233",Is={fixed:lL,header__container:uL,logo__container:cL,delivery:hL,search:dL,order__container:fL,language:pL,cart:mL,lower__container:gL};var mx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},II=$e.createContext&&$e.createContext(mx),yL=["attr","size","title"];function _L(n,e){if(n==null)return{};var t=vL(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function vL(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function ig(){return ig=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ig.apply(this,arguments)}function RI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function sg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(t),!0).forEach(function(r){EL(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):RI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function EL(n,e,t){return e=bL(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bL(n){var e=wL(n,"string");return typeof e=="symbol"?e:e+""}function wL(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function gx(n){return n&&n.map((e,t)=>$e.createElement(e.tag,sg({key:t},e.attr),gx(e.child)))}function Tc(n){return e=>$e.createElement(TL,ig({attr:sg({},n.attr)},e),gx(n.child))}function TL(n){var e=t=>{var{attr:r,size:i,title:o}=n,u=_L(n,yL),h=i||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),$e.createElement("svg",ig({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:f,style:sg(sg({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&$e.createElement("title",null,o),n.children)};return II!==void 0?$e.createElement(II.Consumer,null,t=>e(t)):e(mx)}function SL(n){return Tc({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(n)}function AL(n){return Tc({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(n)}function IL(n){return Tc({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(n)}function RL(n){return Tc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"48",d:"M88 152h336M88 256h336M88 360h336"},child:[]}]})(n)}const CL=()=>q.jsx("div",{className:Is.lower__container,children:q.jsxs("ul",{children:[q.jsxs("li",{children:[q.jsx(RL,{}),q.jsx("p",{children:"All"})]}),q.jsx("li",{children:"Today's Deals"}),q.jsx("li",{children:"Customer Service"}),q.jsx("li",{children:"Registry"}),q.jsx("li",{children:"Gift Cards"}),q.jsx("li",{children:"Sell"})]})}),eo=W.createContext(),xL=({children:n,reducer:e,initialState:t})=>q.jsx(eo.Provider,{value:W.useReducer(e,t),children:n}),PL=()=>{};var CI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},OL=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],u=n[t++],h=n[t++],f=((i&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63)}}return e.join("")},_x={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],u=i+1<n.length,h=u?n[i+1]:0,f=i+2<n.length,d=f?n[i+2]:0,g=o>>2,_=(o&3)<<4|h>>4;let v=(h&15)<<2|d>>6,T=d&63;f||(T=64,u||(v=64)),r.push(t[g],t[_],t[v],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(yx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):OL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const d=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||h==null||d==null||_==null)throw new DL;const v=o<<2|h>>4;if(r.push(v),d!==64){const T=h<<4&240|d>>2;if(r.push(T),_!==64){const b=d<<6&192|_;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class DL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NL=function(n){const e=yx(n);return _x.encodeByteArray(e,!0)},ag=function(n){return NL(n).replace(/\./g,"")},XE=function(n){try{return _x.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function og(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!kL(t)||(n[t]=og(n[t],e[t]));return n}function kL(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=()=>JE().__FIREBASE_DEFAULTS__,VL=()=>{if(typeof process>"u"||typeof CI>"u")return;const n=CI.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},LL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&XE(n[1]);return e&&JSON.parse(e)},jg=()=>{try{return PL()||ML()||VL()||LL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},UL=n=>{var e,t;return(t=(e=jg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},vx=()=>{var n;return(n=jg())===null||n===void 0?void 0:n.config},Ex=n=>{var e;return(e=jg())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ag(JSON.stringify(t)),ag(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function ZE(){var n;const e=(n=jg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jL(){return typeof window<"u"||bx()}function bx(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function qL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wx(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function eb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Tx(){const n=Vt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Sx(){return!ZE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qd(){try{return typeof indexedDB=="object"}catch{return!1}}function HL(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="FirebaseError";class Jn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=$L,Object.setPrototypeOf(this,Jn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tl.prototype.create)}}class Tl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],u=o?GL(o,r):"Error",h=`${this.serviceName}: ${u} (${i}).`;return new Jn(i,h,r)}}function GL(n,e){return n.replace(KL,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const KL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function WL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ks(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],u=e[i];if(PI(o)&&PI(u)){if(!ks(o,u))return!1}else if(o!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function PI(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Uu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ed(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Ax(n,e){const t=new QL(n,e);return t.subscribe.bind(t)}class QL{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");YL(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=n0),i.error===void 0&&(i.error=n0),i.complete===void 0&&(i.complete=n0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YL(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function n0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n){return n&&n._delegate?n._delegate:n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(n){return n.endsWith(".cloudworkstations.dev")}async function Ix(n){return(await fetch(n,{credentials:"include"})).ok}class $i{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new BL;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZL(e))try{this.getOrInitializeService({instanceIdentifier:Go})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Go){return this.instances.has(e)}getOptions(e=Go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JL(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Go){return this.component?this.component.multipleInstances?e:Go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JL(n){return n===Go?void 0:n}function ZL(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new XL(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=[];var He;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(He||(He={}));const Cx={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},e4=He.INFO,t4={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},n4=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=t4[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hg{constructor(e){this.name=e,this._logLevel=e4,this._logHandler=n4,this._userLogHandler=null,tb.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Cx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}function r4(n){tb.forEach(e=>{e.setLogLevel(n)})}function i4(n,e){for(const t of tb){let r=null;e&&e.level&&(r=Cx[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,o,...u)=>{const h=u.map(f=>{if(f==null)return null;if(typeof f=="string")return f;if(typeof f=="number"||typeof f=="boolean")return f.toString();if(f instanceof Error)return f.message;try{return JSON.stringify(f)}catch{return null}}).filter(f=>f).join(" ");o>=(r??i.logLevel)&&n({level:He[o].toLowerCase(),message:h,args:u,type:i.name})}}}const s4=(n,e)=>e.some(t=>n instanceof t);let OI,DI;function a4(){return OI||(OI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o4(){return DI||(DI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xx=new WeakMap,B0=new WeakMap,Px=new WeakMap,r0=new WeakMap,nb=new WeakMap;function l4(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Da(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&xx.set(t,n)}).catch(()=>{}),nb.set(e,n),e}function u4(n){if(B0.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});B0.set(n,e)}let F0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return B0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Px.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Da(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function c4(n){F0=n(F0)}function h4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(i0(this),e,...t);return Px.set(r,e.sort?e.sort():[e]),Da(r)}:o4().includes(n)?function(...e){return n.apply(i0(this),e),Da(xx.get(this))}:function(...e){return Da(n.apply(i0(this),e))}}function d4(n){return typeof n=="function"?h4(n):(n instanceof IDBTransaction&&u4(n),s4(n,a4())?new Proxy(n,F0):n)}function Da(n){if(n instanceof IDBRequest)return l4(n);if(r0.has(n))return r0.get(n);const e=d4(n);return e!==n&&(r0.set(n,e),nb.set(e,n)),e}const i0=n=>nb.get(n);function f4(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const u=indexedDB.open(n,e),h=Da(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Da(u.result),f.oldVersion,f.newVersion,Da(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const p4=["get","getKey","getAll","getAllKeys","count"],m4=["put","add","delete","clear"],s0=new Map;function NI(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(s0.get(e))return s0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=m4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||p4.includes(t)))return;const o=async function(u,...h){const f=this.transaction(u,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(h.shift())),(await Promise.all([d[t](...h),i&&f.done]))[0]};return s0.set(e,o),o}c4(n=>({...n,get:(e,t,r)=>NI(e,t)||n.get(e,t,r),has:(e,t)=>!!NI(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(y4(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function y4(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lg="@firebase/app",z0="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new Hg("@firebase/app"),_4="@firebase/app-compat",v4="@firebase/analytics-compat",E4="@firebase/analytics",b4="@firebase/app-check-compat",w4="@firebase/app-check",T4="@firebase/auth",S4="@firebase/auth-compat",A4="@firebase/database",I4="@firebase/data-connect",R4="@firebase/database-compat",C4="@firebase/functions",x4="@firebase/functions-compat",P4="@firebase/installations",O4="@firebase/installations-compat",D4="@firebase/messaging",N4="@firebase/messaging-compat",k4="@firebase/performance",M4="@firebase/performance-compat",V4="@firebase/remote-config",L4="@firebase/remote-config-compat",U4="@firebase/storage",B4="@firebase/storage-compat",F4="@firebase/firestore",z4="@firebase/vertexai",j4="@firebase/firestore-compat",q4="firebase",H4="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="[DEFAULT]",$4={[lg]:"fire-core",[_4]:"fire-core-compat",[E4]:"fire-analytics",[v4]:"fire-analytics-compat",[w4]:"fire-app-check",[b4]:"fire-app-check-compat",[T4]:"fire-auth",[S4]:"fire-auth-compat",[A4]:"fire-rtdb",[I4]:"fire-data-connect",[R4]:"fire-rtdb-compat",[C4]:"fire-fn",[x4]:"fire-fn-compat",[P4]:"fire-iid",[O4]:"fire-iid-compat",[D4]:"fire-fcm",[N4]:"fire-fcm-compat",[k4]:"fire-perf",[M4]:"fire-perf-compat",[V4]:"fire-rc",[L4]:"fire-rc-compat",[U4]:"fire-gcs",[B4]:"fire-gcs-compat",[F4]:"fire-fst",[j4]:"fire-fst-compat",[z4]:"fire-vertex","fire-js":"fire-js",[q4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=new Map,Wu=new Map,Qu=new Map;function Hd(n,e){try{n.container.addComponent(e)}catch(t){Ms.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ox(n,e){n.container.addOrOverwriteComponent(e)}function Ba(n){const e=n.name;if(Qu.has(e))return Ms.debug(`There were multiple attempts to register component ${e}.`),!1;Qu.set(e,n);for(const t of Ua.values())Hd(t,n);for(const t of Wu.values())Hd(t,n);return!0}function $g(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function G4(n,e,t=La){$g(n,e).clearInstance(t)}function Dx(n){return n.options!==void 0}function Rt(n){return n==null?!1:n.settings!==void 0}function K4(){Qu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new Tl("app","Firebase",W4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nx=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(n,e){const t=XE(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,o=new Date().getTime();i-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class Q4 extends Nx{constructor(e,t,r,i){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,u={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,u,i);else{const h=e;super(h.options,u,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._serverConfig.authIdToken&&kI(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&kI(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,oi(lg,z0,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ib(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Gr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=H4;function rb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:La,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Gr.create("bad-app-name",{appName:String(i)});if(t||(t=vx()),!t)throw Gr.create("no-options");const o=Ua.get(i);if(o){if(ks(t,o.options)&&ks(r,o.config))return o;throw Gr.create("duplicate-app",{appName:i})}const u=new Rx(i);for(const f of Qu.values())u.addComponent(f);const h=new Nx(t,r,u);return Ua.set(i,h),h}function Y4(n,e){if(jL()&&!bx())throw Gr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;Dx(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=d=>[...d].reduce((g,_)=>Math.imul(31,g)+_.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Gr.create("finalization-registry-not-supported",{});const o=""+i(JSON.stringify(r)),u=Wu.get(o);if(u)return u.incRefCount(e.releaseOnDeref),u;const h=new Rx(o);for(const d of Qu.values())h.addComponent(d);const f=new Q4(t,e,o,h);return Wu.set(o,f),f}function kx(n=La){const e=Ua.get(n);if(!e&&n===La&&vx())return rb();if(!e)throw Gr.create("no-app",{appName:n});return e}function X4(){return Array.from(Ua.values())}async function ib(n){let e=!1;const t=n.name;Ua.has(t)?(e=!0,Ua.delete(t)):Wu.has(t)&&n.decRefCount()<=0&&(Wu.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function oi(n,e,t){var r;let i=(r=$4[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ms.warn(h.join(" "));return}Ba(new $i(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function Mx(n,e){if(n!==null&&typeof n!="function")throw Gr.create("invalid-log-argument");i4(n,e)}function Vx(n){r4(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="firebase-heartbeat-database",Z4=1,$d="firebase-heartbeat-store";let a0=null;function Lx(){return a0||(a0=f4(J4,Z4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore($d)}catch(t){console.warn(t)}}}}).catch(n=>{throw Gr.create("idb-open",{originalErrorMessage:n.message})})),a0}async function eU(n){try{const t=(await Lx()).transaction($d),r=await t.objectStore($d).get(Ux(n));return await t.done,r}catch(e){if(e instanceof Jn)Ms.warn(e.message);else{const t=Gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ms.warn(t.message)}}}async function MI(n,e){try{const r=(await Lx()).transaction($d,"readwrite");await r.objectStore($d).put(e,Ux(n)),await r.done}catch(t){if(t instanceof Jn)Ms.warn(t.message);else{const r=Gr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ms.warn(r.message)}}}function Ux(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU=1024,nU=30;class rU{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new sU(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=VI();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>nU){const u=aU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ms.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=VI(),{heartbeatsToSend:r,unsentEntries:i}=iU(this._heartbeatsCache.heartbeats),o=ag(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ms.warn(t),""}}}function VI(){return new Date().toISOString().substring(0,10)}function iU(n,e=tU){const t=[];let r=n.slice();for(const i of n){const o=t.find(u=>u.agent===i.agent);if(o){if(o.dates.push(i.date),LI(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),LI(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class sU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qd()?HL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await eU(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return MI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return MI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function LI(n){return ag(JSON.stringify({version:2,heartbeats:n})).length}function aU(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(n){Ba(new $i("platform-logger",e=>new g4(e),"PRIVATE")),Ba(new $i("heartbeat",e=>new rU(e),"PRIVATE")),oi(lg,z0,n),oi(lg,z0,"esm2017"),oi("fire-js","")}oU("");const lU=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Jn,SDK_VERSION:to,_DEFAULT_ENTRY_NAME:La,_addComponent:Hd,_addOrOverwriteComponent:Ox,_apps:Ua,_clearComponents:K4,_components:Qu,_getProvider:$g,_isFirebaseApp:Dx,_isFirebaseServerApp:Rt,_registerComponent:Ba,_removeServiceInstance:G4,_serverApps:Wu,deleteApp:ib,getApp:kx,getApps:X4,initializeApp:rb,initializeServerApp:Y4,onLog:Mx,registerVersion:oi,setLogLevel:Vx},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e,t){this._delegate=e,this.firebase=t,Hd(e,new $i("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),ib(this._delegate)))}_getService(e,t=La){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=La){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Hd(this._delegate,e)}_addOrOverwriteComponent(e){Ox(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},UI=new Tl("app-compat","Firebase",cU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(n){const e={},t={__esModule:!0,initializeApp:o,app:i,registerVersion:oi,setLogLevel:Vx,onLog:Mx,apps:null,SDK_VERSION:to,INTERNAL:{registerComponent:h,removeApp:r,useAsService:f,modularAPIs:lU}};t.default=t,Object.defineProperty(t,"apps",{get:u});function r(d){delete e[d]}function i(d){if(d=d||La,!xI(e,d))throw UI.create("no-app",{appName:d});return e[d]}i.App=n;function o(d,g={}){const _=rb(d,g);if(xI(e,_.name))return e[_.name];const v=new n(_,t);return e[_.name]=v,v}function u(){return Object.keys(e).map(d=>e[d])}function h(d){const g=d.name,_=g.replace("-compat","");if(Ba(d)&&d.type==="PUBLIC"){const v=(T=i())=>{if(typeof T[_]!="function")throw UI.create("invalid-app-argument",{appName:g});return T[_]()};d.serviceProps!==void 0&&og(v,d.serviceProps),t[_]=v,n.prototype[_]=function(...T){return this._getService.bind(this,g).apply(this,d.multipleInstances?T:[])}}return d.type==="PUBLIC"?t[_]:null}function f(d,g){return g==="serverAuth"?null:g}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(){const n=hU(uU);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:Bx,extendNamespace:e,createSubscribe:Ax,ErrorFactory:Tl,deepExtend:og});function e(t){og(n,t)}return n}const dU=Bx();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=new Hg("@firebase/app-compat"),fU="@firebase/app-compat",pU="0.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(n){oi(fU,pU,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=JE();if(n.firebase!==void 0){BI.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&BI.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Ac=dU;mU();var gU="firebase",yU="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ac.registerVersion(gU,yU,"app-compat");function sb(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}const Jh={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Eu={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function Fx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vU=_U,EU=Fx,zx=new Tl("auth","Firebase",Fx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug=new Hg("@firebase/auth");function bU(n,...e){ug.logLevel<=He.WARN&&ug.warn(`Auth (${to}): ${n}`,...e)}function km(n,...e){ug.logLevel<=He.ERROR&&ug.error(`Auth (${to}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(n,...e){throw ob(n,...e)}function yn(n,...e){return ob(n,...e)}function ab(n,e,t){const r=Object.assign(Object.assign({},EU()),{[e]:t});return new Tl("auth","Firebase",r).create(e,{appName:n.name})}function In(n){return ab(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ic(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Rn(n,"argument-error"),ab(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ob(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return zx.create(n,...e)}function ye(n,e,...t){if(!n)throw ob(e,...t)}function Ui(n){const e="INTERNAL ASSERTION FAILED: "+n;throw km(e),new Error(e)}function li(n,e){n||Ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function lb(){return FI()==="http:"||FI()==="https:"}function FI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lb()||wx()||"connection"in navigator)?navigator.onLine:!0}function TU(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t){this.shortDelay=e,this.longDelay=t,li(t>e,"Short delay should be less than long delay!"),this.isMobile=zL()||eb()}get(){return wU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(n,e){li(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IU=new Ef(3e4,6e4);function qt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ht(n,e,t,r,i={}){return qx(n,i,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=Sc(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:e,headers:f},o);return qL()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&qg(n.emulatorConfig.host)&&(d.credentials="include"),jx.fetch()(await Hx(n,n.config.apiHost,t,h),d)})}async function qx(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},SU),e);try{const i=new CU(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw bd(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,d]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw bd(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw bd(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw bd(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw ab(n,g,d);Rn(n,g)}}catch(i){if(i instanceof Jn)throw i;Rn(n,"network-request-failed",{message:String(i)})}}async function zs(n,e,t,r,i={}){const o=await Ht(n,e,t,r,i);return"mfaPendingCredential"in o&&Rn(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Hx(n,e,t,r){const i=`${e}${t}?${r}`,o=n,u=o.config.emulator?ub(n.config,i):`${n.config.apiScheme}://${i}`;return AU.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function RU(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(yn(this.auth,"network-request-failed")),IU.get())})}}function bd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=yn(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(n){return n!==void 0&&n.getResponse!==void 0}function jI(n){return n!==void 0&&n.enterprise!==void 0}class $x{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return RU(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xU(n){return(await Ht(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Gx(n,e){return Ht(n,"GET","/v2/recaptchaConfig",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PU(n,e){return Ht(n,"POST","/v1/accounts:delete",e)}async function OU(n,e){return Ht(n,"POST","/v1/accounts:update",e)}async function cg(n,e){return Ht(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DU(n,e=!1){const t=Ce(n),r=await t.getIdToken(e),i=Gg(r);ye(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Cd(o0(i.auth_time)),issuedAtTime:Cd(o0(i.iat)),expirationTime:Cd(o0(i.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function o0(n){return Number(n)*1e3}function Gg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return km("JWT malformed, contained fewer than 3 sections"),null;try{const i=XE(t);return i?JSON.parse(i):(km("Failed to decode base64 JWT payload"),null)}catch(i){return km("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function qI(n){const e=Gg(n);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vs(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Jn&&NU(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function NU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cd(this.lastLoginAt),this.creationTime=Cd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kd(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Vs(n,cg(t,{idToken:r}));ye(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Kx(o.providerUserInfo):[],h=VU(n.providerData,u),f=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),g=f?d:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new j0(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function MU(n){const e=Ce(n);await Kd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VU(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Kx(n){return n.map(e=>{var{providerId:t}=e,r=sb(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LU(n,e){const t=await qx(n,{},async()=>{const r=Sc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,u=await Hx(n,i,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",jx.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function UU(n,e){return Ht(n,"POST","/v2/accounts:revokeToken",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const t=qI(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await LU(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,u=new Fu;return r&&(ye(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(ye(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),o&&(ye(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fu,this.toJSON())}_performRefresh(){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(n,e){ye(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ai{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=sb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new j0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Vs(this,this.stsTokenManager.getToken(this.auth,e));return ye(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return DU(this,e)}reload(){return MU(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ai(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Kd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rt(this.auth.app))return Promise.reject(In(this.auth));const e=await this.getIdToken();return await Vs(this,PU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,u,h,f,d,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,b=(u=t.photoURL)!==null&&u!==void 0?u:void 0,A=(h=t.tenantId)!==null&&h!==void 0?h:void 0,P=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,U=(d=t.createdAt)!==null&&d!==void 0?d:void 0,V=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:L,emailVerified:H,isAnonymous:F,providerData:K,stsTokenManager:M}=t;ye(L&&M,e,"internal-error");const R=Fu.fromJSON(this.name,M);ye(typeof L=="string",e,"internal-error"),ba(_,e.name),ba(v,e.name),ye(typeof H=="boolean",e,"internal-error"),ye(typeof F=="boolean",e,"internal-error"),ba(T,e.name),ba(b,e.name),ba(A,e.name),ba(P,e.name),ba(U,e.name),ba(V,e.name);const x=new ai({uid:L,auth:e,email:v,emailVerified:H,displayName:_,isAnonymous:F,photoURL:b,phoneNumber:T,tenantId:A,stsTokenManager:R,createdAt:U,lastLoginAt:V});return K&&Array.isArray(K)&&(x.providerData=K.map(w=>Object.assign({},w))),P&&(x._redirectEventId=P),x}static async _fromIdTokenResponse(e,t,r=!1){const i=new Fu;i.updateFromServerResponse(t);const o=new ai({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Kd(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];ye(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Kx(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),h=new Fu;h.updateFromIdToken(r);const f=new ai({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:u}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new j0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=new Map;function Ir(n){li(n instanceof Function,"Expected a class definition");let e=HI.get(n);return e?(li(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,HI.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Wx.type="NONE";const Yu=Wx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(n,e,t){return`firebase:${n}:${e}:${t}`}class zu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=sl(this.userKey,i.apiKey,o),this.fullPersistenceKey=sl("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await cg(this.auth,{idToken:e}).catch(()=>{});return t?ai._fromGetAccountInfoResponse(this.auth,t,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new zu(Ir(Yu),e,r);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||Ir(Yu);const u=sl(r,e.config.apiKey,e.name);let h=null;for(const d of t)try{const g=await d._get(u);if(g){let _;if(typeof g=="string"){const v=await cg(e,{idToken:g}).catch(()=>{});if(!v)break;_=await ai._fromGetAccountInfoResponse(e,v,g)}else _=ai._fromJSON(e,g);d!==o&&(h=_),o=d;break}}catch{}const f=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new zu(o,e,r):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new zu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Jx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zx(e))return"Blackberry";if(eP(e))return"Webos";if(Yx(e))return"Safari";if((e.includes("chrome/")||Xx(e))&&!e.includes("edge/"))return"Chrome";if(bf(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Qx(n=Vt()){return/firefox\//i.test(n)}function Yx(n=Vt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xx(n=Vt()){return/crios\//i.test(n)}function Jx(n=Vt()){return/iemobile/i.test(n)}function bf(n=Vt()){return/android/i.test(n)}function Zx(n=Vt()){return/blackberry/i.test(n)}function eP(n=Vt()){return/webos/i.test(n)}function wf(n=Vt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function BU(n=Vt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function FU(n=Vt()){var e;return wf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zU(){return Tx()&&document.documentMode===10}function tP(n=Vt()){return wf(n)||bf(n)||eP(n)||Zx(n)||/windows phone/i.test(n)||Jx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(n,e=[]){let t;switch(n){case"Browser":t=$I(Vt());break;case"Worker":t=`${$I(Vt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${to}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const f=e(o);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qU(n,e={}){return Ht(n,"GET","/v2/passwordPolicy",qt(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU=6;class $U{constructor(e){var t,r,i,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:HU,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GI(this),this.idTokenSubscription=new GI(this),this.beforeStateQueue=new jU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ir(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await zu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await cg(this,{idToken:e}),r=await ai._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Rt(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(i=f.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Kd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rt(this.app))return Promise.reject(In(this));const t=e?Ce(e):null;return t&&ye(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rt(this.app)?Promise.reject(In(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rt(this.app)?Promise.reject(In(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qU(this),t=new $U(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await UU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ir(e)||this._popupRedirectResolver;ye(t,this,"argument-error"),this.redirectPersistenceManager=await zu.create(this,[Ir(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Rt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&bU(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Lt(n){return Ce(n)}class GI{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ax(t=>this.observer=t)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KU(n){Tf=n}function cb(n){return Tf.loadJS(n)}function WU(){return Tf.recaptchaV2Script}function QU(){return Tf.recaptchaEnterpriseScript}function YU(){return Tf.gapiScript}function rP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=500,JU=6e4,gm=1e12;class ZU{constructor(e){this.auth=e,this.counter=gm,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new n5(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||gm;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||gm;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||gm;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class e5{constructor(){this.enterprise=new t5}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class t5{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class n5{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;ye(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=r5(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},JU)},XU))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function r5(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const i5="recaptcha-enterprise",xd="NO_RECAPTCHA";class iP{constructor(e){this.type=i5,this.auth=Lt(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{Gx(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const d=new $x(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(f=>{h(f)})})}function i(o,u,h){const f=window.grecaptcha;jI(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{u(d)}).catch(()=>{u(xd)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new e5().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&jI(window.grecaptcha))i(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=QU();f.length!==0&&(f+=h),cb(f).then(()=>{i(h,o,u)}).catch(d=>{u(d)})}}).catch(h=>{u(h)})})}}async function Zh(n,e,t,r=!1,i=!1){const o=new iP(n);let u;if(i)u=xd;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,d=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Na(n,e,t,r,i){var o,u;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Zh(n,e,t,t==="getOobCode");return r(n,h)}else return r(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Zh(n,e,t,t==="getOobCode");return r(n,f)}else return Promise.reject(h)});else if(i==="PHONE_PROVIDER")if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("PHONE_PROVIDER")){const h=await Zh(n,e,t);return r(n,h).catch(async f=>{var d;if(((d=n._getRecaptchaConfig())===null||d===void 0?void 0:d.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(f.code==="auth/missing-recaptcha-token"||f.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const g=await Zh(n,e,t,!1,!0);return r(n,g)}return Promise.reject(f)})}else{const h=await Zh(n,e,t,!1,!0);return r(n,h)}else return Promise.reject(i+" provider is not supported.")}async function s5(n){const e=Lt(n),t=await Gx(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new $x(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new iP(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(n,e){const t=$g(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(ks(o,e??{}))return i;Rn(i,"already-initialized")}return t.initialize({options:e})}function o5(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ir);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function sP(n,e,t){const r=Lt(n);ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),o=aP(e),{host:u,port:h}=l5(e),f=h===null?"":`:${h}`,d={url:`${o}//${u}${f}/`},g=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ye(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ye(ks(d,r.config.emulator)&&ks(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,i||u5(),qg(u)&&Ix(`${o}//${u}${f}`)}function aP(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function l5(n){const e=aP(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:KI(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:KI(u)}}}function KI(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function u5(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ui("not implemented")}_getIdTokenResponse(e){return Ui("not implemented")}_linkToIdToken(e,t){return Ui("not implemented")}_getReauthenticationResolver(e){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oP(n,e){return Ht(n,"POST","/v1/accounts:resetPassword",qt(n,e))}async function c5(n,e){return Ht(n,"POST","/v1/accounts:update",e)}async function h5(n,e){return Ht(n,"POST","/v1/accounts:signUp",e)}async function d5(n,e){return Ht(n,"POST","/v1/accounts:update",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f5(n,e){return zs(n,"POST","/v1/accounts:signInWithPassword",qt(n,e))}async function Kg(n,e){return Ht(n,"POST","/v1/accounts:sendOobCode",qt(n,e))}async function p5(n,e){return Kg(n,e)}async function m5(n,e){return Kg(n,e)}async function g5(n,e){return Kg(n,e)}async function y5(n,e){return Kg(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _5(n,e){return zs(n,"POST","/v1/accounts:signInWithEmailLink",qt(n,e))}async function v5(n,e){return zs(n,"POST","/v1/accounts:signInWithEmailLink",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd extends Rc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Wd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Wd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Na(e,t,"signInWithPassword",f5,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return _5(e,{email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Na(e,r,"signUpPassword",h5,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return v5(e,{idToken:t,email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ds(n,e){return zs(n,"POST","/v1/accounts:signInWithIdp",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5="http://localhost";class Gi extends Rc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Gi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=sb(t,["providerId","signInMethod"]);if(!r||!i)return null;const u=new Gi(r,i);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ds(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ds(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ds(e,t)}buildRequest(){const e={requestUri:E5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Sc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WI(n,e){return Ht(n,"POST","/v1/accounts:sendVerificationCode",qt(n,e))}async function b5(n,e){return zs(n,"POST","/v1/accounts:signInWithPhoneNumber",qt(n,e))}async function w5(n,e){const t=await zs(n,"POST","/v1/accounts:signInWithPhoneNumber",qt(n,e));if(t.temporaryProof)throw bd(n,"account-exists-with-different-credential",t);return t}const T5={USER_NOT_FOUND:"user-not-found"};async function S5(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return zs(n,"POST","/v1/accounts:signInWithPhoneNumber",qt(n,t),T5)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends Rc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new al({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new al({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return b5(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return w5(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return S5(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!t&&!i&&!o?null:new al({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function I5(n){const e=Uu(Ed(n)).link,t=e?Uu(Ed(e)).deep_link_id:null,r=Uu(Ed(n)).deep_link_id;return(r?Uu(Ed(r)).link:null)||r||t||e||n}class Wg{constructor(e){var t,r,i,o,u,h;const f=Uu(Ed(e)),d=(t=f.apiKey)!==null&&t!==void 0?t:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,_=A5((i=f.mode)!==null&&i!==void 0?i:null);ye(d&&g&&_,"argument-error"),this.apiKey=d,this.operation=_,this.code=g,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=I5(e);try{return new Wg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.providerId=no.PROVIDER_ID}static credential(e,t){return Wd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Wg.parseLink(t);return ye(r,"argument-error"),Wd._fromEmailAndCode(e,r.code,r.tenantId)}}no.PROVIDER_ID="password";no.EMAIL_PASSWORD_SIGN_IN_METHOD="password";no.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends js{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ju extends Cc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return ye("providerId"in t&&"signInMethod"in t,"argument-error"),Gi._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ye(e.idToken||e.accessToken,"argument-error"),Gi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ju.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ju.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:u,providerId:h}=e;if(!r&&!i&&!t&&!o||!h)return null;try{return new ju(h)._credential({idToken:t,accessToken:r,nonce:u,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Cc{constructor(){super("facebook.com")}static credential(e){return Gi._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ki.credential(e.oauthAccessToken)}catch{return null}}}ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Gi._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Mi.credential(t,r)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Cc{constructor(){super("github.com")}static credential(e){return Gi._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.GITHUB_SIGN_IN_METHOD="github.com";Vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5="http://localhost";class Xu extends Rc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Ds(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ds(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ds(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=t;return!r||!i||!o||r!==i?null:new Xu(r,o)}static _create(e,t){return new Xu(e,t)}buildRequest(){return{requestUri:R5,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5="saml.";class hg extends js{constructor(e){ye(e.startsWith(C5),"argument-error"),super(e)}static credentialFromResult(e){return hg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return hg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Xu.fromJSON(e);return ye(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return Xu._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Cc{constructor(){super("twitter.com")}static credential(e,t){return Gi._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Li.credential(t,r)}catch{return null}}}Li.TWITTER_SIGN_IN_METHOD="twitter.com";Li.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lP(n,e){return zs(n,"POST","/v1/accounts:signUp",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await ai._fromIdTokenResponse(e,r,i),u=QI(r);return new Kr({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=QI(r);return new Kr({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function QI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x5(n){var e;if(Rt(n.app))return Promise.reject(In(n));const t=Lt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Kr({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await lP(t,{returnSecureToken:!0}),i=await Kr._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg extends Jn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dg.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new dg(e,t,r,i)}}function uP(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?dg._fromErrorAndOperation(n,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P5(n,e){const t=Ce(n);await Qg(!0,t,e);const{providerUserInfo:r}=await OU(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=cP(r||[]);return t.providerData=t.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function hb(n,e,t=!1){const r=await Vs(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Kr._forOperation(n,"link",r)}async function Qg(n,e,t){await Kd(e);const r=cP(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";ye(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hP(n,e,t=!1){const{auth:r}=n;if(Rt(r.app))return Promise.reject(In(r));const i="reauthenticate";try{const o=await Vs(n,uP(r,i,e,n),t);ye(o.idToken,r,"internal-error");const u=Gg(o.idToken);ye(u,r,"internal-error");const{sub:h}=u;return ye(n.uid===h,r,"user-mismatch"),Kr._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Rn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dP(n,e,t=!1){if(Rt(n.app))return Promise.reject(In(n));const r="signIn",i=await uP(n,r,e),o=await Kr._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function Yg(n,e){return dP(Lt(n),e)}async function fP(n,e){const t=Ce(n);return await Qg(!1,t,e.providerId),hb(t,e)}async function pP(n,e){return hP(Ce(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O5(n,e){return zs(n,"POST","/v1/accounts:signInWithCustomToken",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D5(n,e){if(Rt(n.app))return Promise.reject(In(n));const t=Lt(n),r=await O5(t,{token:e,returnSecureToken:!0}),i=await Kr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?db._fromServerResponse(e,t):"totpInfo"in t?fb._fromServerResponse(e,t):Rn(e,"internal-error")}}class db extends Sf{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new db(t)}}class fb extends Sf{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new fb(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(n,e,t){var r;ye(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),ye(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ye(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ye(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ye(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pb(n){const e=Lt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function N5(n,e,t){const r=Lt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Xg(r,i,t),await Na(r,i,"getOobCode",m5,"EMAIL_PASSWORD_PROVIDER")}async function k5(n,e,t){await oP(Ce(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&pb(n),r})}async function M5(n,e){await d5(Ce(n),{oobCode:e})}async function mP(n,e){const t=Ce(n),r=await oP(t,{oobCode:e}),i=r.requestType;switch(ye(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(r.mfaInfo,t,"internal-error");default:ye(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=Sf._fromServerResponse(Lt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function V5(n,e){const{data:t}=await mP(Ce(n),e);return t.email}async function gP(n,e,t){if(Rt(n.app))return Promise.reject(In(n));const r=Lt(n),u=await Na(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lP,"EMAIL_PASSWORD_PROVIDER").catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&pb(n),f}),h=await Kr._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function yP(n,e,t){return Rt(n.app)?Promise.reject(In(n)):Yg(Ce(n),no.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&pb(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L5(n,e,t){const r=Lt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(u,h){ye(h.handleCodeInApp,r,"argument-error"),h&&Xg(r,u,h)}o(i,t),await Na(r,i,"getOobCode",g5,"EMAIL_PASSWORD_PROVIDER")}function U5(n,e){const t=Wg.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function B5(n,e,t){if(Rt(n.app))return Promise.reject(In(n));const r=Ce(n),i=no.credentialWithLink(e,t||Gd());return ye(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Yg(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F5(n,e){return Ht(n,"POST","/v1/accounts:createAuthUri",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z5(n,e){const t=lb()?Gd():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await F5(Ce(n),r);return i||[]}async function j5(n,e){const t=Ce(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&Xg(t.auth,i,e);const{email:o}=await p5(t.auth,i);o!==n.email&&await n.reload()}async function q5(n,e,t){const r=Ce(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&Xg(r.auth,o,t);const{email:u}=await y5(r.auth,o);u!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H5(n,e){return Ht(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $5(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Ce(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Vs(r,H5(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function G5(n,e){const t=Ce(n);return Rt(t.auth.app)?Promise.reject(In(t.auth)):_P(t,e,null)}function K5(n,e){return _P(Ce(n),null,e)}async function _P(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const u=await Vs(n,c5(r,o));await n._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const u=(t=(e=Gg(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(u){const h=u!=="anonymous"&&u!=="custom"?u:null;return new qu(o,h)}}if(!r)return null;switch(r){case"facebook.com":return new Q5(o,i);case"github.com":return new Y5(o,i);case"google.com":return new X5(o,i);case"twitter.com":return new J5(o,i,n.screenName||null);case"custom":case"anonymous":return new qu(o,null);default:return new qu(o,r,i)}}class qu{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class vP extends qu{constructor(e,t,r,i){super(e,t,r),this.username=i}}class Q5 extends qu{constructor(e,t){super(e,"facebook.com",t)}}class Y5 extends vP{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class X5 extends qu{constructor(e,t){super(e,"google.com",t)}}class J5 extends vP{constructor(e,t,r){super(e,"twitter.com",t,r)}}function Z5(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:W5(t)}function e3(n,e,t,r){return Ce(n).onIdTokenChanged(e,t,r)}function t3(n,e,t){return Ce(n).beforeAuthStateChanged(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new el("enroll",e,t)}static _fromMfaPendingCredential(e){return new el("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return el._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return el._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Lt(e),i=t.customData._serverResponse,o=(i.mfaInfo||[]).map(h=>Sf._fromServerResponse(r,h));ye(i.mfaPendingCredential,r,"internal-error");const u=el._fromMfaPendingCredential(i.mfaPendingCredential);return new mb(u,o,async h=>{const f=await h._process(r,u);delete i.mfaInfo,delete i.mfaPendingCredential;const d=Object.assign(Object.assign({},i),{idToken:f.idToken,refreshToken:f.refreshToken});switch(t.operationType){case"signIn":const g=await Kr._fromIdTokenResponse(r,t.operationType,d);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return ye(t.user,r,"internal-error"),Kr._forOperation(t.user,t.operationType,d);default:Rn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function n3(n,e){var t;const r=Ce(n),i=e;return ye(e.customData.operationType,r,"argument-error"),ye((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),mb._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(n,e){return Ht(n,"POST","/v2/accounts/mfaEnrollment:start",qt(n,e))}function r3(n,e){return Ht(n,"POST","/v2/accounts/mfaEnrollment:finalize",qt(n,e))}function i3(n,e){return Ht(n,"POST","/v2/accounts/mfaEnrollment:withdraw",qt(n,e))}class gb{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Sf._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new gb(e)}async getSession(){return el._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),o=await Vs(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Vs(this.user,i3(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const l0=new WeakMap;function s3(n){const e=Ce(n);return l0.has(e)||l0.set(e,gb._fromUser(e)),l0.get(e)}const fg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(fg,"1"),this.storage.removeItem(fg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=1e3,o3=10;class bP extends EP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);zU()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,o3):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},a3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}bP.type="LOCAL";const Jg=bP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP extends EP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}wP.type="SESSION";const Fa=wP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Zg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(u).map(async d=>d(t.origin,o)),f=await l3(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const d=Af("",20);i.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(_){const v=_;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(v.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return window}function c3(n){ln().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(){return typeof ln().WorkerGlobalScope<"u"&&typeof ln().importScripts=="function"}async function h3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function d3(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function f3(){return yb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="firebaseLocalStorageDb",p3=1,pg="firebaseLocalStorage",SP="fbase_key";class If{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ey(n,e){return n.transaction([pg],e?"readwrite":"readonly").objectStore(pg)}function m3(){const n=indexedDB.deleteDatabase(TP);return new If(n).toPromise()}function q0(){const n=indexedDB.open(TP,p3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(pg,{keyPath:SP})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(pg)?e(r):(r.close(),await m3(),e(await q0()))})})}async function XI(n,e,t){const r=ey(n,!0).put({[SP]:e,value:t});return new If(r).toPromise()}async function g3(n,e){const t=ey(n,!1).get(e),r=await new If(t).toPromise();return r===void 0?null:r.value}function JI(n,e){const t=ey(n,!0).delete(e);return new If(t).toPromise()}const y3=800,_3=3;class AP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await q0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>_3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zg._getInstance(f3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await h3(),!this.activeServiceWorker)return;this.sender=new u3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||d3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await q0();return await XI(e,fg,"1"),await JI(e,fg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>XI(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>g3(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>JI(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=ey(i,!1).getAll();return new If(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),y3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AP.type="LOCAL";const Ju=AP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(n,e){return Ht(n,"POST","/v2/accounts/mfaSignIn:start",qt(n,e))}function v3(n,e){return Ht(n,"POST","/v2/accounts/mfaSignIn:finalize",qt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=rP("rcb"),E3=new Ef(3e4,6e4);class b3{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=ln().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return ye(w3(t),e,"argument-error"),this.shouldResolveImmediately(t)&&zI(ln().grecaptcha)?Promise.resolve(ln().grecaptcha):new Promise((r,i)=>{const o=ln().setTimeout(()=>{i(yn(e,"network-request-failed"))},E3.get());ln()[u0]=()=>{ln().clearTimeout(o),delete ln()[u0];const h=ln().grecaptcha;if(!h||!zI(h)){i(yn(e,"internal-error"));return}const f=h.render;h.render=(d,g)=>{const _=f(d,g);return this.counter++,_},this.hostLanguage=t,r(h)};const u=`${WU()}?${Sc({onload:u0,render:"explicit",hl:t})}`;cb(u).catch(()=>{clearTimeout(o),i(yn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=ln().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function w3(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class T3{async load(e){return new ZU(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="recaptcha",S3={theme:"light",type:"image"};let A3=class{constructor(e,t,r=Object.assign({},S3)){this.parameters=r,this.type=Pd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Lt(e),this.isInvisible=this.parameters.size==="invisible",ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;ye(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new T3:new b3,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const o=u=>{u&&(this.tokenChangeListeners.delete(o),i(u))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=ln()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ye(lb()&&!yb(),this.auth,"internal-error"),await I3(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await xU(this.auth);ye(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function I3(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=al._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function R3(n,e,t){if(Rt(n.app))return Promise.reject(In(n));const r=Lt(n),i=await ty(r,e,Ce(t));return new _b(i,o=>Yg(r,o))}async function C3(n,e,t){const r=Ce(n);await Qg(!1,r,"phone");const i=await ty(r.auth,e,Ce(t));return new _b(i,o=>fP(r,o))}async function x3(n,e,t){const r=Ce(n);if(Rt(r.auth.app))return Promise.reject(In(r.auth));const i=await ty(r.auth,e,Ce(t));return new _b(i,o=>pP(r,o))}async function ty(n,e,t){var r;if(!n._getRecaptchaConfig())try{await s5(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const o=i.session;if("phoneNumber"in i){ye(o.type==="enroll",n,"internal-error");const u={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Na(n,u,"mfaSmsEnrollment",async(g,_)=>{if(_.phoneEnrollmentInfo.captchaResponse===xd){ye((t==null?void 0:t.type)===Pd,g,"argument-error");const v=await c0(g,_,t);return YI(g,v)}return YI(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{ye(o.type==="signin",n,"internal-error");const u=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;ye(u,n,"missing-multi-factor-info");const h={mfaPendingCredential:o.credential,mfaEnrollmentId:u,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Na(n,h,"mfaSmsSignIn",async(_,v)=>{if(v.phoneSignInInfo.captchaResponse===xd){ye((t==null?void 0:t.type)===Pd,_,"argument-error");const T=await c0(_,v,t);return ZI(_,T)}return ZI(_,v)},"PHONE_PROVIDER").catch(_=>Promise.reject(_))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Na(n,o,"sendVerificationCode",async(d,g)=>{if(g.captchaResponse===xd){ye((t==null?void 0:t.type)===Pd,d,"argument-error");const _=await c0(d,g,t);return WI(d,_)}return WI(d,g)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).sessionInfo}}finally{t==null||t._reset()}}async function P3(n,e){const t=Ce(n);if(Rt(t.auth.app))return Promise.reject(In(t.auth));await hb(t,e)}async function c0(n,e,t){ye(t.type===Pd,n,"argument-error");const r=await t.verify();ye(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const o=i.phoneEnrollmentInfo.phoneNumber,u=i.phoneEnrollmentInfo.captchaResponse,h=i.phoneEnrollmentInfo.clientType,f=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:u,clientType:h,recaptchaVersion:f}}),i}else if("phoneSignInInfo"in i){const o=i.phoneSignInInfo.captchaResponse,u=i.phoneSignInInfo.clientType,h=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:u,recaptchaVersion:h}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl=class Mm{constructor(e){this.providerId=Mm.PROVIDER_ID,this.auth=Lt(e)}verifyPhoneNumber(e,t){return ty(this.auth,e,Ce(t))}static credential(e,t){return al._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Mm.credentialFromTaggedObject(t)}static credentialFromError(e){return Mm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?al._fromTokenResponse(t,r):null}};cl.PROVIDER_ID="phone";cl.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(n,e){return e?Ir(e):(ye(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb extends Rc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ds(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ds(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ds(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function O3(n){return dP(n.auth,new vb(n),n.bypassAuthState)}function D3(n){const{auth:e,user:t}=n;return ye(t,e,"internal-error"),hP(t,new vb(n),n.bypassAuthState)}async function N3(n){const{auth:e,user:t}=n;return ye(t,e,"internal-error"),hb(t,new vb(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return O3;case"linkViaPopup":case"linkViaRedirect":return N3;case"reauthViaPopup":case"reauthViaRedirect":return D3;default:Rn(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=new Ef(2e3,1e4);async function M3(n,e,t){if(Rt(n.app))return Promise.reject(yn(n,"operation-not-supported-in-this-environment"));const r=Lt(n);Ic(n,e,js);const i=Sl(r,t);return new Cs(r,"signInViaPopup",e,i).executeNotNull()}async function V3(n,e,t){const r=Ce(n);if(Rt(r.auth.app))return Promise.reject(yn(r.auth,"operation-not-supported-in-this-environment"));Ic(r.auth,e,js);const i=Sl(r.auth,t);return new Cs(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function L3(n,e,t){const r=Ce(n);Ic(r.auth,e,js);const i=Sl(r.auth,t);return new Cs(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Cs extends IP{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Cs.currentPopupAction&&Cs.currentPopupAction.cancel(),Cs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=Af();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,k3.get())};e()}}Cs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3="pendingRedirect",Od=new Map;class B3 extends IP{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Od.get(this.auth._key());if(!e){try{const r=await F3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Od.set(this.auth._key(),e)}return this.bypassAuthState||Od.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function F3(n,e){const t=CP(e),r=RP(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function Eb(n,e){return RP(n)._set(CP(e),"true")}function z3(){Od.clear()}function bb(n,e){Od.set(n._key(),e)}function RP(n){return Ir(n._redirectPersistence)}function CP(n){return sl(U3,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(n,e,t){return q3(n,e,t)}async function q3(n,e,t){if(Rt(n.app))return Promise.reject(In(n));const r=Lt(n);Ic(n,e,js),await r._initializationPromise;const i=Sl(r,t);return await Eb(i,r),i._openRedirect(r,e,"signInViaRedirect")}function H3(n,e,t){return $3(n,e,t)}async function $3(n,e,t){const r=Ce(n);if(Ic(r.auth,e,js),Rt(r.auth.app))return Promise.reject(In(r.auth));await r.auth._initializationPromise;const i=Sl(r.auth,t);await Eb(i,r.auth);const o=await xP(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function G3(n,e,t){return K3(n,e,t)}async function K3(n,e,t){const r=Ce(n);Ic(r.auth,e,js),await r.auth._initializationPromise;const i=Sl(r.auth,t);await Qg(!1,r,e.providerId),await Eb(i,r.auth);const o=await xP(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function W3(n,e){return await Lt(n)._initializationPromise,ny(n,e,!1)}async function ny(n,e,t=!1){if(Rt(n.app))return Promise.reject(In(n));const r=Lt(n),i=Sl(r,e),u=await new B3(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}async function xP(n){const e=Af(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=10*60*1e3;class PP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!OP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(yn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q3&&this.cachedEventUids.clear(),this.cachedEventUids.has(eR(e))}saveEventToCache(e){this.cachedEventUids.add(eR(e)),this.lastProcessedEventTime=Date.now()}}function eR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function OP({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Y3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OP(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(n,e={}){return Ht(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,J3=/^https?/;async function Z3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await DP(n);for(const t of e)try{if(eB(t))return}catch{}Rn(n,"unauthorized-domain")}function eB(n){const e=Gd(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!J3.test(t))return!1;if(X3.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tB=new Ef(3e4,6e4);function tR(){const n=ln().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function nB(n){return new Promise((e,t)=>{var r,i,o;function u(){tR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tR(),t(yn(n,"network-request-failed"))},timeout:tB.get()})}if(!((i=(r=ln().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ln().gapi)===null||o===void 0)&&o.load)u();else{const h=rP("iframefcb");return ln()[h]=()=>{gapi.load?u():t(yn(n,"network-request-failed"))},cb(`${YU()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw Vm=null,e})}let Vm=null;function rB(n){return Vm=Vm||nB(n),Vm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=new Ef(5e3,15e3),sB="__/auth/iframe",aB="emulator/auth/iframe",oB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uB(n){const e=n.config;ye(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ub(e,aB):`https://${n.config.authDomain}/${sB}`,r={apiKey:e.apiKey,appName:n.name,v:to},i=lB.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Sc(r).slice(1)}`}async function cB(n){const e=await rB(n),t=ln().gapi;return ye(t,n,"internal-error"),e.open({where:document.body,url:uB(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oB,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const u=yn(n,"network-request-failed"),h=ln().setTimeout(()=>{o(u)},iB.get());function f(){ln().clearTimeout(h),i(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dB=500,fB=600,pB="_blank",mB="http://localhost";class nR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gB(n,e,t,r=dB,i=fB){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},hB),{width:r.toString(),height:i.toString(),top:o,left:u}),d=Vt().toLowerCase();t&&(h=Xx(d)?pB:t),Qx(d)&&(e=e||mB,f.scrollbars="yes");const g=Object.entries(f).reduce((v,[T,b])=>`${v}${T}=${b},`,"");if(FU(d)&&h!=="_self")return yB(e||"",h),new nR(null);const _=window.open(e||"",h,g);ye(_,n,"popup-blocked");try{_.focus()}catch{}return new nR(_)}function yB(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B="__/auth/handler",vB="emulator/auth/handler",EB=encodeURIComponent("fac");async function H0(n,e,t,r,i,o){ye(n.config.authDomain,n,"auth-domain-config-required"),ye(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:to,eventId:i};if(e instanceof js){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",WL(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries(o||{}))u[g]=_}if(e instanceof Cc){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await n._getAppCheckToken(),d=f?`#${EB}=${encodeURIComponent(f)}`:"";return`${bB(n)}?${Sc(h).slice(1)}${d}`}function bB({config:n}){return n.emulator?ub(n,vB):`https://${n.authDomain}/${_B}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="webStorageSupport";class wB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fa,this._completeRedirectFn=ny,this._overrideRedirectResult=bb}async _openPopup(e,t,r,i){var o;li((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await H0(e,t,r,Gd(),i);return gB(e,u,Af())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await H0(e,t,r,Gd(),i);return c3(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(li(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await cB(e),r=new PP(e);return t.register("authEvent",i=>(ye(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(h0,{type:h0},i=>{var o;const u=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[h0];u!==void 0&&t(!!u),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Z3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return tP()||Yx()||wf()}}const NP=wB;class TB{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ui("unexpected MultiFactorSessionType")}}}class wb extends TB{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new wb(e)}_finalizeEnroll(e,t,r){return r3(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return v3(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class kP{constructor(){}static assertion(e){return wb._fromCredential(e)}}kP.FACTOR_ID="phone";var rR="@firebase/auth",iR="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IB(n){Ba(new $i("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;ye(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nP(n)},d=new GU(r,i,o,f);return o5(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ba(new $i("auth-internal",e=>{const t=Lt(e.getProvider("auth").getImmediate());return(r=>new SB(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),oi(rR,iR,AB(n)),oi(rR,iR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB=5*60,CB=Ex("authIdTokenMaxAge")||RB;let sR=null;const xB=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>CB)return;const i=t==null?void 0:t.token;sR!==i&&(sR=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function PB(n=kx()){const e=$g(n,"auth");if(e.isInitialized())return e.getImmediate();const t=a5(n,{popupRedirectResolver:NP,persistence:[Ju,Jg,Fa]}),r=Ex("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=xB(o.toString());t3(t,u,()=>u(t.currentUser)),e3(t,h=>u(h))}}const i=UL("auth");return i&&sP(t,`http://${i}`),t}function OB(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}KU({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=yn("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",OB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IB("Browser");var aR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ka,MP;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function x(){}x.prototype=R.prototype,M.D=R.prototype,M.prototype=new x,M.prototype.constructor=M,M.C=function(w,O,C){for(var D=Array(arguments.length-2),se=2;se<arguments.length;se++)D[se-2]=arguments[se];return R.prototype[O].apply(w,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,R,x){x||(x=0);var w=Array(16);if(typeof R=="string")for(var O=0;16>O;++O)w[O]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(O=0;16>O;++O)w[O]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=M.g[0],x=M.g[1],O=M.g[2];var C=M.g[3],D=R+(C^x&(O^C))+w[0]+3614090360&4294967295;R=x+(D<<7&4294967295|D>>>25),D=C+(O^R&(x^O))+w[1]+3905402710&4294967295,C=R+(D<<12&4294967295|D>>>20),D=O+(x^C&(R^x))+w[2]+606105819&4294967295,O=C+(D<<17&4294967295|D>>>15),D=x+(R^O&(C^R))+w[3]+3250441966&4294967295,x=O+(D<<22&4294967295|D>>>10),D=R+(C^x&(O^C))+w[4]+4118548399&4294967295,R=x+(D<<7&4294967295|D>>>25),D=C+(O^R&(x^O))+w[5]+1200080426&4294967295,C=R+(D<<12&4294967295|D>>>20),D=O+(x^C&(R^x))+w[6]+2821735955&4294967295,O=C+(D<<17&4294967295|D>>>15),D=x+(R^O&(C^R))+w[7]+4249261313&4294967295,x=O+(D<<22&4294967295|D>>>10),D=R+(C^x&(O^C))+w[8]+1770035416&4294967295,R=x+(D<<7&4294967295|D>>>25),D=C+(O^R&(x^O))+w[9]+2336552879&4294967295,C=R+(D<<12&4294967295|D>>>20),D=O+(x^C&(R^x))+w[10]+4294925233&4294967295,O=C+(D<<17&4294967295|D>>>15),D=x+(R^O&(C^R))+w[11]+2304563134&4294967295,x=O+(D<<22&4294967295|D>>>10),D=R+(C^x&(O^C))+w[12]+1804603682&4294967295,R=x+(D<<7&4294967295|D>>>25),D=C+(O^R&(x^O))+w[13]+4254626195&4294967295,C=R+(D<<12&4294967295|D>>>20),D=O+(x^C&(R^x))+w[14]+2792965006&4294967295,O=C+(D<<17&4294967295|D>>>15),D=x+(R^O&(C^R))+w[15]+1236535329&4294967295,x=O+(D<<22&4294967295|D>>>10),D=R+(O^C&(x^O))+w[1]+4129170786&4294967295,R=x+(D<<5&4294967295|D>>>27),D=C+(x^O&(R^x))+w[6]+3225465664&4294967295,C=R+(D<<9&4294967295|D>>>23),D=O+(R^x&(C^R))+w[11]+643717713&4294967295,O=C+(D<<14&4294967295|D>>>18),D=x+(C^R&(O^C))+w[0]+3921069994&4294967295,x=O+(D<<20&4294967295|D>>>12),D=R+(O^C&(x^O))+w[5]+3593408605&4294967295,R=x+(D<<5&4294967295|D>>>27),D=C+(x^O&(R^x))+w[10]+38016083&4294967295,C=R+(D<<9&4294967295|D>>>23),D=O+(R^x&(C^R))+w[15]+3634488961&4294967295,O=C+(D<<14&4294967295|D>>>18),D=x+(C^R&(O^C))+w[4]+3889429448&4294967295,x=O+(D<<20&4294967295|D>>>12),D=R+(O^C&(x^O))+w[9]+568446438&4294967295,R=x+(D<<5&4294967295|D>>>27),D=C+(x^O&(R^x))+w[14]+3275163606&4294967295,C=R+(D<<9&4294967295|D>>>23),D=O+(R^x&(C^R))+w[3]+4107603335&4294967295,O=C+(D<<14&4294967295|D>>>18),D=x+(C^R&(O^C))+w[8]+1163531501&4294967295,x=O+(D<<20&4294967295|D>>>12),D=R+(O^C&(x^O))+w[13]+2850285829&4294967295,R=x+(D<<5&4294967295|D>>>27),D=C+(x^O&(R^x))+w[2]+4243563512&4294967295,C=R+(D<<9&4294967295|D>>>23),D=O+(R^x&(C^R))+w[7]+1735328473&4294967295,O=C+(D<<14&4294967295|D>>>18),D=x+(C^R&(O^C))+w[12]+2368359562&4294967295,x=O+(D<<20&4294967295|D>>>12),D=R+(x^O^C)+w[5]+4294588738&4294967295,R=x+(D<<4&4294967295|D>>>28),D=C+(R^x^O)+w[8]+2272392833&4294967295,C=R+(D<<11&4294967295|D>>>21),D=O+(C^R^x)+w[11]+1839030562&4294967295,O=C+(D<<16&4294967295|D>>>16),D=x+(O^C^R)+w[14]+4259657740&4294967295,x=O+(D<<23&4294967295|D>>>9),D=R+(x^O^C)+w[1]+2763975236&4294967295,R=x+(D<<4&4294967295|D>>>28),D=C+(R^x^O)+w[4]+1272893353&4294967295,C=R+(D<<11&4294967295|D>>>21),D=O+(C^R^x)+w[7]+4139469664&4294967295,O=C+(D<<16&4294967295|D>>>16),D=x+(O^C^R)+w[10]+3200236656&4294967295,x=O+(D<<23&4294967295|D>>>9),D=R+(x^O^C)+w[13]+681279174&4294967295,R=x+(D<<4&4294967295|D>>>28),D=C+(R^x^O)+w[0]+3936430074&4294967295,C=R+(D<<11&4294967295|D>>>21),D=O+(C^R^x)+w[3]+3572445317&4294967295,O=C+(D<<16&4294967295|D>>>16),D=x+(O^C^R)+w[6]+76029189&4294967295,x=O+(D<<23&4294967295|D>>>9),D=R+(x^O^C)+w[9]+3654602809&4294967295,R=x+(D<<4&4294967295|D>>>28),D=C+(R^x^O)+w[12]+3873151461&4294967295,C=R+(D<<11&4294967295|D>>>21),D=O+(C^R^x)+w[15]+530742520&4294967295,O=C+(D<<16&4294967295|D>>>16),D=x+(O^C^R)+w[2]+3299628645&4294967295,x=O+(D<<23&4294967295|D>>>9),D=R+(O^(x|~C))+w[0]+4096336452&4294967295,R=x+(D<<6&4294967295|D>>>26),D=C+(x^(R|~O))+w[7]+1126891415&4294967295,C=R+(D<<10&4294967295|D>>>22),D=O+(R^(C|~x))+w[14]+2878612391&4294967295,O=C+(D<<15&4294967295|D>>>17),D=x+(C^(O|~R))+w[5]+4237533241&4294967295,x=O+(D<<21&4294967295|D>>>11),D=R+(O^(x|~C))+w[12]+1700485571&4294967295,R=x+(D<<6&4294967295|D>>>26),D=C+(x^(R|~O))+w[3]+2399980690&4294967295,C=R+(D<<10&4294967295|D>>>22),D=O+(R^(C|~x))+w[10]+4293915773&4294967295,O=C+(D<<15&4294967295|D>>>17),D=x+(C^(O|~R))+w[1]+2240044497&4294967295,x=O+(D<<21&4294967295|D>>>11),D=R+(O^(x|~C))+w[8]+1873313359&4294967295,R=x+(D<<6&4294967295|D>>>26),D=C+(x^(R|~O))+w[15]+4264355552&4294967295,C=R+(D<<10&4294967295|D>>>22),D=O+(R^(C|~x))+w[6]+2734768916&4294967295,O=C+(D<<15&4294967295|D>>>17),D=x+(C^(O|~R))+w[13]+1309151649&4294967295,x=O+(D<<21&4294967295|D>>>11),D=R+(O^(x|~C))+w[4]+4149444226&4294967295,R=x+(D<<6&4294967295|D>>>26),D=C+(x^(R|~O))+w[11]+3174756917&4294967295,C=R+(D<<10&4294967295|D>>>22),D=O+(R^(C|~x))+w[2]+718787259&4294967295,O=C+(D<<15&4294967295|D>>>17),D=x+(C^(O|~R))+w[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+C&4294967295}r.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var x=R-this.blockSize,w=this.B,O=this.h,C=0;C<R;){if(O==0)for(;C<=x;)i(this,M,C),C+=this.blockSize;if(typeof M=="string"){for(;C<R;)if(w[O++]=M.charCodeAt(C++),O==this.blockSize){i(this,w),O=0;break}}else for(;C<R;)if(w[O++]=M[C++],O==this.blockSize){i(this,w),O=0;break}}this.h=O,this.o+=R},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var x=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=x&255,x/=256;for(this.u(M),M=Array(16),R=x=0;4>R;++R)for(var w=0;32>w;w+=8)M[x++]=this.g[R]>>>w&255;return M};function o(M,R){var x=h;return Object.prototype.hasOwnProperty.call(x,M)?x[M]:x[M]=R(M)}function u(M,R){this.h=R;for(var x=[],w=!0,O=M.length-1;0<=O;O--){var C=M[O]|0;w&&C==R||(x[O]=C,w=!1)}this.g=x}var h={};function f(M){return-128<=M&&128>M?o(M,function(R){return new u([R|0],0>R?-1:0)}):new u([M|0],0>M?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return _;if(0>M)return P(d(-M));for(var R=[],x=1,w=0;M>=x;w++)R[w]=M/x|0,x*=4294967296;return new u(R,0)}function g(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return P(g(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=d(Math.pow(R,8)),w=_,O=0;O<M.length;O+=8){var C=Math.min(8,M.length-O),D=parseInt(M.substring(O,O+C),R);8>C?(C=d(Math.pow(R,C)),w=w.j(C).add(d(D))):(w=w.j(x),w=w.add(d(D)))}return w}var _=f(0),v=f(1),T=f(16777216);n=u.prototype,n.m=function(){if(A(this))return-P(this).m();for(var M=0,R=1,x=0;x<this.g.length;x++){var w=this.i(x);M+=(0<=w?w:4294967296+w)*R,R*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(b(this))return"0";if(A(this))return"-"+P(this).toString(M);for(var R=d(Math.pow(M,6)),x=this,w="";;){var O=H(x,R).g;x=U(x,O.j(R));var C=((0<x.g.length?x.g[0]:x.h)>>>0).toString(M);if(x=O,b(x))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function b(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function A(M){return M.h==-1}n.l=function(M){return M=U(this,M),A(M)?-1:b(M)?0:1};function P(M){for(var R=M.g.length,x=[],w=0;w<R;w++)x[w]=~M.g[w];return new u(x,~M.h).add(v)}n.abs=function(){return A(this)?P(this):this},n.add=function(M){for(var R=Math.max(this.g.length,M.g.length),x=[],w=0,O=0;O<=R;O++){var C=w+(this.i(O)&65535)+(M.i(O)&65535),D=(C>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);w=D>>>16,C&=65535,D&=65535,x[O]=D<<16|C}return new u(x,x[x.length-1]&-2147483648?-1:0)};function U(M,R){return M.add(P(R))}n.j=function(M){if(b(this)||b(M))return _;if(A(this))return A(M)?P(this).j(P(M)):P(P(this).j(M));if(A(M))return P(this.j(P(M)));if(0>this.l(T)&&0>M.l(T))return d(this.m()*M.m());for(var R=this.g.length+M.g.length,x=[],w=0;w<2*R;w++)x[w]=0;for(w=0;w<this.g.length;w++)for(var O=0;O<M.g.length;O++){var C=this.i(w)>>>16,D=this.i(w)&65535,se=M.i(O)>>>16,B=M.i(O)&65535;x[2*w+2*O]+=D*B,V(x,2*w+2*O),x[2*w+2*O+1]+=C*B,V(x,2*w+2*O+1),x[2*w+2*O+1]+=D*se,V(x,2*w+2*O+1),x[2*w+2*O+2]+=C*se,V(x,2*w+2*O+2)}for(w=0;w<R;w++)x[w]=x[2*w+1]<<16|x[2*w];for(w=R;w<2*R;w++)x[w]=0;return new u(x,0)};function V(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function L(M,R){this.g=M,this.h=R}function H(M,R){if(b(R))throw Error("division by zero");if(b(M))return new L(_,_);if(A(M))return R=H(P(M),R),new L(P(R.g),P(R.h));if(A(R))return R=H(M,P(R)),new L(P(R.g),R.h);if(30<M.g.length){if(A(M)||A(R))throw Error("slowDivide_ only works with positive integers.");for(var x=v,w=R;0>=w.l(M);)x=F(x),w=F(w);var O=K(x,1),C=K(w,1);for(w=K(w,2),x=K(x,2);!b(w);){var D=C.add(w);0>=D.l(M)&&(O=O.add(x),C=D),w=K(w,1),x=K(x,1)}return R=U(M,O.j(R)),new L(O,R)}for(O=_;0<=M.l(R);){for(x=Math.max(1,Math.floor(M.m()/R.m())),w=Math.ceil(Math.log(x)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=d(x),D=C.j(R);A(D)||0<D.l(M);)x-=w,C=d(x),D=C.j(R);b(C)&&(C=v),O=O.add(C),M=U(M,D)}return new L(O,M)}n.A=function(M){return H(this,M).h},n.and=function(M){for(var R=Math.max(this.g.length,M.g.length),x=[],w=0;w<R;w++)x[w]=this.i(w)&M.i(w);return new u(x,this.h&M.h)},n.or=function(M){for(var R=Math.max(this.g.length,M.g.length),x=[],w=0;w<R;w++)x[w]=this.i(w)|M.i(w);return new u(x,this.h|M.h)},n.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),x=[],w=0;w<R;w++)x[w]=this.i(w)^M.i(w);return new u(x,this.h^M.h)};function F(M){for(var R=M.g.length+1,x=[],w=0;w<R;w++)x[w]=M.i(w)<<1|M.i(w-1)>>>31;return new u(x,M.h)}function K(M,R){var x=R>>5;R%=32;for(var w=M.g.length-x,O=[],C=0;C<w;C++)O[C]=0<R?M.i(C+x)>>>R|M.i(C+x+1)<<32-R:M.i(C+x);return new u(O,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,MP=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,ka=u}).apply(typeof aR<"u"?aR:typeof self<"u"?self:typeof window<"u"?window:{});var ym=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VP,wd,LP,Lm,$0,UP,BP,FP;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,S){return p==Array.prototype||p==Object.prototype||(p[E]=S.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof ym=="object"&&ym];for(var E=0;E<p.length;++E){var S=p[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(p,E){if(E)e:{var S=r;p=p.split(".");for(var k=0;k<p.length-1;k++){var Y=p[k];if(!(Y in S))break e;S=S[Y]}p=p[p.length-1],k=S[p],E=E(k),E!=k&&E!=null&&e(S,p,{configurable:!0,writable:!0,value:E})}}function o(p,E){p instanceof String&&(p+="");var S=0,k=!1,Y={next:function(){if(!k&&S<p.length){var ae=S++;return{value:E(ae,p[ae]),done:!1}}return k=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(p){return p||function(){return o(this,function(E,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function d(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function g(p,E,S){return p.call.apply(p.bind,arguments)}function _(p,E,S){if(!p)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,k),p.apply(E,Y)}}return function(){return p.apply(E,arguments)}}function v(p,E,S){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,v.apply(null,arguments)}function T(p,E){var S=Array.prototype.slice.call(arguments,1);return function(){var k=S.slice();return k.push.apply(k,arguments),p.apply(this,k)}}function b(p,E){function S(){}S.prototype=E.prototype,p.aa=E.prototype,p.prototype=new S,p.prototype.constructor=p,p.Qb=function(k,Y,ae){for(var _e=Array(arguments.length-2),We=2;We<arguments.length;We++)_e[We-2]=arguments[We];return E.prototype[Y].apply(k,_e)}}function A(p){const E=p.length;if(0<E){const S=Array(E);for(let k=0;k<E;k++)S[k]=p[k];return S}return[]}function P(p,E){for(let S=1;S<arguments.length;S++){const k=arguments[S];if(f(k)){const Y=p.length||0,ae=k.length||0;p.length=Y+ae;for(let _e=0;_e<ae;_e++)p[Y+_e]=k[_e]}else p.push(k)}}class U{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function V(p){return/^[\s\xa0]*$/.test(p)}function L(){var p=h.navigator;return p&&(p=p.userAgent)?p:""}function H(p){return H[" "](p),p}H[" "]=function(){};var F=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function K(p,E,S){for(const k in p)E.call(S,p[k],k,p)}function M(p,E){for(const S in p)E.call(void 0,p[S],S,p)}function R(p){const E={};for(const S in p)E[S]=p[S];return E}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(p,E){let S,k;for(let Y=1;Y<arguments.length;Y++){k=arguments[Y];for(S in k)p[S]=k[S];for(let ae=0;ae<x.length;ae++)S=x[ae],Object.prototype.hasOwnProperty.call(k,S)&&(p[S]=k[S])}}function O(p){var E=1;p=p.split(":");const S=[];for(;0<E&&p.length;)S.push(p.shift()),E--;return p.length&&S.push(p.join(":")),S}function C(p){h.setTimeout(()=>{throw p},0)}function D(){var p=be;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class se{constructor(){this.h=this.g=null}add(E,S){const k=B.get();k.set(E,S),this.h?this.h.next=k:this.g=k,this.h=k}}var B=new U(()=>new $,p=>p.reset());class ${constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let J,le=!1,be=new se,j=()=>{const p=h.Promise.resolve(void 0);J=()=>{p.then(re)}};var re=()=>{for(var p;p=D();){try{p.h.call(p.g)}catch(S){C(S)}var E=B;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}le=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};h.addEventListener("test",S,E),h.removeEventListener("test",S,E)}catch{}return p}();function ke(p,E){if(me.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var S=this.type=p.type,k=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if(F){e:{try{H(E.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(E=null)}}else S=="mouseover"?E=p.fromElement:S=="mouseout"&&(E=p.toElement);this.relatedTarget=E,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:xe[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ke.aa.h.call(this)}}b(ke,me);var xe={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var $t="closure_listenable_"+(1e6*Math.random()|0),rt=0;function Pr(p,E,S,k,Y){this.listener=p,this.proxy=null,this.src=E,this.type=S,this.capture=!!k,this.ha=Y,this.key=++rt,this.da=this.fa=!1}function ci(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Or(p){this.src=p,this.g={},this.h=0}Or.prototype.add=function(p,E,S,k,Y){var ae=p.toString();p=this.g[ae],p||(p=this.g[ae]=[],this.h++);var _e=Ln(p,E,k,Y);return-1<_e?(E=p[_e],S||(E.fa=!1)):(E=new Pr(E,this.src,ae,!!k,Y),E.fa=S,p.push(E)),E};function dr(p,E){var S=E.type;if(S in p.g){var k=p.g[S],Y=Array.prototype.indexOf.call(k,E,void 0),ae;(ae=0<=Y)&&Array.prototype.splice.call(k,Y,1),ae&&(ci(E),p.g[S].length==0&&(delete p.g[S],p.h--))}}function Ln(p,E,S,k){for(var Y=0;Y<p.length;++Y){var ae=p[Y];if(!ae.da&&ae.listener==E&&ae.capture==!!S&&ae.ha==k)return Y}return-1}var Qr="closure_lm_"+(1e6*Math.random()|0),lo={};function xl(p,E,S,k,Y){if(Array.isArray(E)){for(var ae=0;ae<E.length;ae++)xl(p,E[ae],S,k,Y);return null}return S=Yr(S),p&&p[$t]?p.K(E,S,d(k)?!!k.capture:!1,Y):tr(p,E,S,!1,k,Y)}function tr(p,E,S,k,Y,ae){if(!E)throw Error("Invalid event type");var _e=d(Y)?!!Y.capture:!!Y,We=wt(p);if(We||(p[Qr]=We=new Or(p)),S=We.add(E,S,k,_e,ae),S.proxy)return S;if(k=jc(),S.proxy=k,k.src=p,k.listener=S,p.addEventListener)Te||(Y=_e),Y===void 0&&(Y=!1),p.addEventListener(E.toString(),k,Y);else if(p.attachEvent)p.attachEvent(Fe(E.toString()),k);else if(p.addListener&&p.removeListener)p.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return S}function jc(){function p(S){return E.call(p.src,p.listener,S)}const E=_t;return p}function uo(p,E,S,k,Y){if(Array.isArray(E))for(var ae=0;ae<E.length;ae++)uo(p,E[ae],S,k,Y);else k=d(k)?!!k.capture:!!k,S=Yr(S),p&&p[$t]?(p=p.i,E=String(E).toString(),E in p.g&&(ae=p.g[E],S=Ln(ae,S,k,Y),-1<S&&(ci(ae[S]),Array.prototype.splice.call(ae,S,1),ae.length==0&&(delete p.g[E],p.h--)))):p&&(p=wt(p))&&(E=p.g[E.toString()],p=-1,E&&(p=Ln(E,S,k,Y)),(S=-1<p?E[p]:null)&&Ji(S))}function Ji(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[$t])dr(E.i,p);else{var S=p.type,k=p.proxy;E.removeEventListener?E.removeEventListener(S,k,p.capture):E.detachEvent?E.detachEvent(Fe(S),k):E.addListener&&E.removeListener&&E.removeListener(k),(S=wt(E))?(dr(S,p),S.h==0&&(S.src=null,E[Qr]=null)):ci(p)}}}function Fe(p){return p in lo?lo[p]:lo[p]="on"+p}function _t(p,E){if(p.da)p=!0;else{E=new ke(E,this);var S=p.listener,k=p.ha||p.src;p.fa&&Ji(p),p=S.call(k,E)}return p}function wt(p){return p=p[Qr],p instanceof Or?p:null}var hi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yr(p){return typeof p=="function"?p:(p[hi]||(p[hi]=function(E){return p.handleEvent(E)}),p[hi])}function st(){ge.call(this),this.i=new Or(this),this.M=this,this.F=null}b(st,ge),st.prototype[$t]=!0,st.prototype.removeEventListener=function(p,E,S,k){uo(this,p,E,S,k)};function Ue(p,E){var S,k=p.F;if(k)for(S=[];k;k=k.F)S.push(k);if(p=p.M,k=E.type||E,typeof E=="string")E=new me(E,p);else if(E instanceof me)E.target=E.target||p;else{var Y=E;E=new me(k,p),w(E,Y)}if(Y=!0,S)for(var ae=S.length-1;0<=ae;ae--){var _e=E.g=S[ae];Y=Gt(_e,k,!0,E)&&Y}if(_e=E.g=p,Y=Gt(_e,k,!0,E)&&Y,Y=Gt(_e,k,!1,E)&&Y,S)for(ae=0;ae<S.length;ae++)_e=E.g=S[ae],Y=Gt(_e,k,!1,E)&&Y}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var S=p.g[E],k=0;k<S.length;k++)ci(S[k]);delete p.g[E],p.h--}}this.F=null},st.prototype.K=function(p,E,S,k){return this.i.add(String(p),E,!1,S,k)},st.prototype.L=function(p,E,S,k){return this.i.add(String(p),E,!0,S,k)};function Gt(p,E,S,k){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var Y=!0,ae=0;ae<E.length;++ae){var _e=E[ae];if(_e&&!_e.da&&_e.capture==S){var We=_e.listener,fn=_e.ha||_e.src;_e.fa&&dr(p.i,_e),Y=We.call(fn,k)!==!1&&Y}}return Y&&!k.defaultPrevented}function en(p,E,S){if(typeof p=="function")S&&(p=v(p,S));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:h.setTimeout(p,E||0)}function Kf(p){p.g=en(()=>{p.g=null,p.i&&(p.i=!1,Kf(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class Yy extends ge{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Kf(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function co(p){ge.call(this),this.h=p,this.g={}}b(co,ge);var ho=[];function fo(p){K(p.g,function(E,S){this.g.hasOwnProperty(S)&&Ji(E)},p),p.g={}}co.prototype.N=function(){co.aa.N.call(this),fo(this)},co.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xr=h.JSON.stringify,Pl=h.JSON.parse,po=class{stringify(p){return h.JSON.stringify(p,void 0)}parse(p){return h.JSON.parse(p,void 0)}};function qc(){}qc.prototype.h=null;function Hc(p){return p.h||(p.h=p.i())}function $c(){}var Zi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function es(){me.call(this,"d")}b(es,me);function Gc(){me.call(this,"c")}b(Gc,me);var di={},Kc=null;function Ks(){return Kc=Kc||new st}di.La="serverreachability";function Ol(p){me.call(this,di.La,p)}b(Ol,me);function Ws(p){const E=Ks();Ue(E,new Ol(E))}di.STAT_EVENT="statevent";function Wf(p,E){me.call(this,di.STAT_EVENT,p),this.stat=E}b(Wf,me);function Tt(p){const E=Ks();Ue(E,new Wf(E,p))}di.Ma="timingevent";function dn(p,E){me.call(this,di.Ma,p),this.size=E}b(dn,me);function tn(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){p()},E)}function Dr(){this.g=!0}Dr.prototype.xa=function(){this.g=!1};function Wc(p,E,S,k,Y,ae){p.info(function(){if(p.g)if(ae)for(var _e="",We=ae.split("&"),fn=0;fn<We.length;fn++){var Qe=We[fn].split("=");if(1<Qe.length){var En=Qe[0];Qe=Qe[1];var pn=En.split("_");_e=2<=pn.length&&pn[1]=="type"?_e+(En+"="+Qe+"&"):_e+(En+"=redacted&")}}else _e=null;else _e=ae;return"XMLHTTP REQ ("+k+") [attempt "+Y+"]: "+E+`
`+S+`
`+_e})}function Xy(p,E,S,k,Y,ae,_e){p.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Y+"]: "+E+`
`+S+`
`+ae+" "+_e})}function Qs(p,E,S,k){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+mo(p,S)+(k?" "+k:"")})}function Qf(p,E){p.info(function(){return"TIMEOUT: "+E})}Dr.prototype.info=function(){};function mo(p,E){if(!p.g)return E;if(!E)return null;try{var S=JSON.parse(E);if(S){for(p=0;p<S.length;p++)if(Array.isArray(S[p])){var k=S[p];if(!(2>k.length)){var Y=k[1];if(Array.isArray(Y)&&!(1>Y.length)){var ae=Y[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(var _e=1;_e<Y.length;_e++)Y[_e]=""}}}}return Xr(S)}catch{return E}}var Ys={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ts={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fi;function pi(){}b(pi,qc),pi.prototype.g=function(){return new XMLHttpRequest},pi.prototype.i=function(){return{}},fi=new pi;function Gn(p,E,S,k){this.j=p,this.i=E,this.l=S,this.R=k||1,this.U=new co(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kt}function Kt(){this.i=null,this.g="",this.h=!1}var Qc={},Dl={};function Jr(p,E,S){p.L=1,p.v=Eo(fr(E)),p.m=S,p.P=!0,ns(p,null)}function ns(p,E){p.F=Date.now(),go(p),p.A=fr(p.v);var S=p.A,k=p.R;Array.isArray(k)||(k=[String(k)]),th(S.i,"t",k),p.C=0,S=p.j.J,p.h=new Kt,p.g=hp(p.j,S?E:null,!p.m),0<p.O&&(p.M=new Yy(v(p.Y,p,p.g),p.O)),E=p.U,S=p.g,k=p.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ho[0]=Y.toString()),Y=ho);for(var ae=0;ae<Y.length;ae++){var _e=xl(S,Y[ae],k||E.handleEvent,!1,E.h||E);if(!_e)break;E.g[_e.key]=_e}E=p.H?R(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),Ws(),Wc(p.i,p.u,p.A,p.l,p.R,p.m)}Gn.prototype.ca=function(p){p=p.target;const E=this.M;E&&Vr(p)==3?E.j():this.Y(p)},Gn.prototype.Y=function(p){try{if(p==this.g)e:{const pn=Vr(this.g);var E=this.g.Ba();const cs=this.g.Z();if(!(3>pn)&&(pn!=3||this.g&&(this.h.h||this.g.oa()||rp(this.g)))){this.J||pn!=4||E==7||(E==8||0>=cs?Ws(3):Ws(2)),Xs(this);var S=this.g.Z();this.X=S;t:if(Yf(this)){var k=rp(this.g);p="";var Y=k.length,ae=Vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cn(this),mi(this);var _e="";break t}this.h.i=new h.TextDecoder}for(E=0;E<Y;E++)this.h.h=!0,p+=this.h.i.decode(k[E],{stream:!(ae&&E==Y-1)});k.length=0,this.h.g+=p,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=S==200,Xy(this.i,this.u,this.A,this.l,this.R,pn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var We,fn=this.g;if((We=fn.g?fn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(We)){var Qe=We;break t}}Qe=null}if(S=Qe)Qs(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yo(this,S);else{this.o=!1,this.s=3,Tt(12),Cn(this),mi(this);break e}}if(this.P){S=!0;let xn;for(;!this.J&&this.C<_e.length;)if(xn=Xf(this,_e),xn==Dl){pn==4&&(this.s=4,Tt(14),S=!1),Qs(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==Qc){this.s=4,Tt(15),Qs(this.i,this.l,_e,"[Invalid Chunk]"),S=!1;break}else Qs(this.i,this.l,xn,null),yo(this,xn);if(Yf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pn!=4||_e.length!=0||this.h.h||(this.s=1,Tt(16),S=!1),this.o=this.o&&S,!S)Qs(this.i,this.l,_e,"[Invalid Chunked Response]"),Cn(this),mi(this);else if(0<_e.length&&!this.W){this.W=!0;var En=this.j;En.g==this&&En.ba&&!En.M&&(En.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),Co(En),En.M=!0,Tt(11))}}else Qs(this.i,this.l,_e,null),yo(this,_e);pn==4&&Cn(this),this.o&&!this.J&&(pn==4?lp(this.j,this):(this.o=!1,go(this)))}else n_(this.g),S==400&&0<_e.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),Cn(this),mi(this)}}}catch{}finally{}};function Yf(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Xf(p,E){var S=p.C,k=E.indexOf(`
`,S);return k==-1?Dl:(S=Number(E.substring(S,k)),isNaN(S)?Qc:(k+=1,k+S>E.length?Dl:(E=E.slice(k,k+S),p.C=k+S,E)))}Gn.prototype.cancel=function(){this.J=!0,Cn(this)};function go(p){p.S=Date.now()+p.I,Jf(p,p.I)}function Jf(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=tn(v(p.ba,p),E)}function Xs(p){p.B&&(h.clearTimeout(p.B),p.B=null)}Gn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Qf(this.i,this.A),this.L!=2&&(Ws(),Tt(17)),Cn(this),this.s=2,mi(this)):Jf(this,this.S-p)};function mi(p){p.j.G==0||p.J||lp(p.j,p)}function Cn(p){Xs(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,fo(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function yo(p,E){try{var S=p.j;if(S.G!=0&&(S.g==p||Yc(S.h,p))){if(!p.K&&Yc(S.h,p)&&S.G==3){try{var k=S.Da.g.parse(E)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Y=k;if(Y[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<p.F)Hl(S),jl(S);else break e;ah(S),Tt(18)}}else S.za=Y[1],0<S.za-S.T&&37500>Y[2]&&S.F&&S.v==0&&!S.C&&(S.C=tn(v(S.Za,S),6e3));if(1>=kl(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else us(S,11)}else if((p.K||S.g==p)&&Hl(S),!V(E))for(Y=S.Da.g.parse(E),E=0;E<Y.length;E++){let Qe=Y[E];if(S.T=Qe[0],Qe=Qe[1],S.G==2)if(Qe[0]=="c"){S.K=Qe[1],S.ia=Qe[2];const En=Qe[3];En!=null&&(S.la=En,S.j.info("VER="+S.la));const pn=Qe[4];pn!=null&&(S.Aa=pn,S.j.info("SVER="+S.Aa));const cs=Qe[5];cs!=null&&typeof cs=="number"&&0<cs&&(k=1.5*cs,S.L=k,S.j.info("backChannelRequestTimeoutMs_="+k)),k=S;const xn=p.g;if(xn){const wi=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wi){var ae=k.h;ae.g||wi.indexOf("spdy")==-1&&wi.indexOf("quic")==-1&&wi.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(Ml(ae,ae.h),ae.h=null))}if(k.D){const lh=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;lh&&(k.ya=lh,ct(k.I,k.D,lh))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-p.F,S.j.info("Handshake RTT: "+S.R+"ms")),k=S;var _e=p;if(k.qa=cp(k,k.J?k.ia:null,k.W),_e.K){Kn(k.h,_e);var We=_e,fn=k.L;fn&&(We.I=fn),We.B&&(Xs(We),go(We)),k.g=_e}else ap(k);0<S.i.length&&ql(S)}else Qe[0]!="stop"&&Qe[0]!="close"||us(S,7);else S.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?us(S,7):ih(S):Qe[0]!="noop"&&S.l&&S.l.ta(Qe),S.v=0)}}Ws(4)}catch{}}var Zf=class{constructor(p,E){this.g=p,this.map=E}};function rs(p){this.l=p||10,h.PerformanceNavigationTiming?(p=h.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nl(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function kl(p){return p.h?1:p.g?p.g.size:0}function Yc(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function Ml(p,E){p.g?p.g.add(E):p.h=E}function Kn(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}rs.prototype.cancel=function(){if(this.i=Xc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Xc(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const S of p.g.values())E=E.concat(S.D);return E}return A(p.i)}function Jy(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var E=[],S=p.length,k=0;k<S;k++)E.push(p[k]);return E}E=[],S=0;for(k in p)E[S++]=p[k];return E}function Vl(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var E=[];p=p.length;for(var S=0;S<p;S++)E.push(S);return E}E=[],S=0;for(const k in p)E[S++]=k;return E}}}function Jc(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var S=Vl(p),k=Jy(p),Y=k.length,ae=0;ae<Y;ae++)E.call(void 0,k[ae],S&&S[ae],p)}var _o=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zy(p,E){if(p){p=p.split("&");for(var S=0;S<p.length;S++){var k=p[S].indexOf("="),Y=null;if(0<=k){var ae=p[S].substring(0,k);Y=p[S].substring(k+1)}else ae=p[S];E(ae,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function nn(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof nn){this.h=p.h,vo(this,p.j),this.o=p.o,this.g=p.g,Js(this,p.s),this.l=p.l;var E=p.i,S=new ss;S.i=E.i,E.g&&(S.g=new Map(E.g),S.h=E.h),is(this,S),this.m=p.m}else p&&(E=String(p).match(_o))?(this.h=!1,vo(this,E[1]||"",!0),this.o=Nr(E[2]||""),this.g=Nr(E[3]||"",!0),Js(this,E[4]),this.l=Nr(E[5]||"",!0),is(this,E[6]||"",!0),this.m=Nr(E[7]||"")):(this.h=!1,this.i=new ss(null,this.h))}nn.prototype.toString=function(){var p=[],E=this.j;E&&p.push(bo(E,Zc,!0),":");var S=this.g;return(S||E=="file")&&(p.push("//"),(E=this.o)&&p.push(bo(E,Zc,!0),"@"),p.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&p.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&p.push("/"),p.push(bo(S,S.charAt(0)=="/"?e_:eh,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",bo(S,Ll)),p.join("")};function fr(p){return new nn(p)}function vo(p,E,S){p.j=S?Nr(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function Js(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function is(p,E,S){E instanceof ss?(p.i=E,tp(p.i,p.h)):(S||(E=bo(E,t_)),p.i=new ss(E,p.h))}function ct(p,E,S){p.i.set(E,S)}function Eo(p){return ct(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Nr(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function bo(p,E,S){return typeof p=="string"?(p=encodeURI(p).replace(E,ep),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function ep(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Zc=/[#\/\?@]/g,eh=/[#\?:]/g,e_=/[#\?]/g,t_=/[#\?@]/g,Ll=/#/g;function ss(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function kr(p){p.g||(p.g=new Map,p.h=0,p.i&&Zy(p.i,function(E,S){p.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}n=ss.prototype,n.add=function(p,E){kr(this),this.i=null,p=gi(this,p);var S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(E),this.h+=1,this};function as(p,E){kr(p),E=gi(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function os(p,E){return kr(p),E=gi(p,E),p.g.has(E)}n.forEach=function(p,E){kr(this),this.g.forEach(function(S,k){S.forEach(function(Y){p.call(E,Y,k,this)},this)},this)},n.na=function(){kr(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),S=[];for(let k=0;k<E.length;k++){const Y=p[k];for(let ae=0;ae<Y.length;ae++)S.push(E[k])}return S},n.V=function(p){kr(this);let E=[];if(typeof p=="string")os(this,p)&&(E=E.concat(this.g.get(gi(this,p))));else{p=Array.from(this.g.values());for(let S=0;S<p.length;S++)E=E.concat(p[S])}return E},n.set=function(p,E){return kr(this),this.i=null,p=gi(this,p),os(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},n.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function th(p,E,S){as(p,E),0<S.length&&(p.i=null,p.g.set(gi(p,E),A(S)),p.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var S=0;S<E.length;S++){var k=E[S];const ae=encodeURIComponent(String(k)),_e=this.V(k);for(k=0;k<_e.length;k++){var Y=ae;_e[k]!==""&&(Y+="="+encodeURIComponent(String(_e[k]))),p.push(Y)}}return this.i=p.join("&")};function gi(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function tp(p,E){E&&!p.j&&(kr(p),p.i=null,p.g.forEach(function(S,k){var Y=k.toLowerCase();k!=Y&&(as(this,k),th(this,Y,S))},p)),p.j=E}function wo(p,E){const S=new Dr;if(h.Image){const k=new Image;k.onload=T(Mr,S,"TestLoadImage: loaded",!0,E,k),k.onerror=T(Mr,S,"TestLoadImage: error",!1,E,k),k.onabort=T(Mr,S,"TestLoadImage: abort",!1,E,k),k.ontimeout=T(Mr,S,"TestLoadImage: timeout",!1,E,k),h.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=p}else E(!1)}function Zr(p,E){const S=new Dr,k=new AbortController,Y=setTimeout(()=>{k.abort(),Mr(S,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:k.signal}).then(ae=>{clearTimeout(Y),ae.ok?Mr(S,"TestPingServer: ok",!0,E):Mr(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Y),Mr(S,"TestPingServer: error",!1,E)})}function Mr(p,E,S,k,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),k(S)}catch{}}function To(){this.g=new po}function yi(p,E,S){const k=S||"";try{Jc(p,function(Y,ae){let _e=Y;d(Y)&&(_e=Xr(Y)),E.push(k+ae+"="+encodeURIComponent(_e))})}catch(Y){throw E.push(k+"type="+encodeURIComponent("_badmap")),Y}}function Zs(p){this.l=p.Ub||null,this.j=p.eb||!1}b(Zs,qc),Zs.prototype.g=function(){return new ls(this.l,this.j)},Zs.prototype.i=function(p){return function(){return p}}({});function ls(p,E){st.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(ls,st),n=ls.prototype,n.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,vi(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||h).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nh(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function nh(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?_i(this):vi(this),this.readyState==3&&nh(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,_i(this))},n.Qa=function(p){this.g&&(this.response=p,_i(this))},n.ga=function(){this.g&&_i(this)};function _i(p){p.readyState=4,p.l=null,p.j=null,p.v=null,vi(p)}n.setRequestHeader=function(p,E){this.u.append(p,E)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,p.push(S[0]+": "+S[1]),S=E.next();return p.join(`\r
`)};function vi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function rh(p){let E="";return K(p,function(S,k){E+=k,E+=":",E+=S,E+=`\r
`}),E}function vn(p,E,S){e:{for(k in S){var k=!1;break e}k=!0}k||(S=rh(S),typeof p=="string"?S!=null&&encodeURIComponent(String(S)):ct(p,E,S))}function it(p){st.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(it,st);var Ul=/^https?$/i,So=["POST","PUT"];n=it.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,E,S,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fi.g(),this.v=this.o?Hc(this.o):Hc(fi),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(ae){np(this,ae);return}if(p=S||"",S=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Y in k)S.set(Y,k[Y]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const ae of k.keys())S.set(ae,k.get(ae));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(S.keys()).find(ae=>ae.toLowerCase()=="content-type"),Y=h.FormData&&p instanceof h.FormData,!(0<=Array.prototype.indexOf.call(So,E,void 0))||k||Y||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,_e]of S)this.g.setRequestHeader(ae,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ao(this),this.u=!0,this.g.send(p),this.u=!1}catch(ae){np(this,ae)}};function np(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,Bl(p),Ei(p)}function Bl(p){p.A||(p.A=!0,Ue(p,"complete"),Ue(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Ue(this,"complete"),Ue(this,"abort"),Ei(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Fl(this):this.bb())},n.bb=function(){Fl(this)};function Fl(p){if(p.h&&typeof u<"u"&&(!p.v[1]||Vr(p)!=4||p.Z()!=2)){if(p.u&&Vr(p)==4)en(p.Ea,0,p);else if(Ue(p,"readystatechange"),Vr(p)==4){p.h=!1;try{const _e=p.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var S;if(!(S=E)){var k;if(k=_e===0){var Y=String(p.D).match(_o)[1]||null;!Y&&h.self&&h.self.location&&(Y=h.self.location.protocol.slice(0,-1)),k=!Ul.test(Y?Y.toLowerCase():"")}S=k}if(S)Ue(p,"complete"),Ue(p,"success");else{p.m=6;try{var ae=2<Vr(p)?p.g.statusText:""}catch{ae=""}p.l=ae+" ["+p.Z()+"]",Bl(p)}}finally{Ei(p)}}}}function Ei(p,E){if(p.g){Ao(p);const S=p.g,k=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||Ue(p,"ready");try{S.onreadystatechange=k}catch{}}}function Ao(p){p.I&&(h.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Vr(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Vr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),Pl(E)}};function rp(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function n_(p){const E={};p=(p.g&&2<=Vr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<p.length;k++){if(V(p[k]))continue;var S=O(p[k]);const Y=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ae=E[Y]||[];E[Y]=ae,ae.push(S)}M(E,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Io(p,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||E}function zl(p){this.Aa=0,this.i=[],this.j=new Dr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Io("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Io("baseRetryDelayMs",5e3,p),this.cb=Io("retryDelaySeedMs",1e4,p),this.Wa=Io("forwardChannelMaxRetries",2,p),this.wa=Io("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new rs(p&&p.concurrentRequestLimit),this.Da=new To,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=zl.prototype,n.la=8,n.G=1,n.connect=function(p,E,S,k){Tt(0),this.W=p,this.H=E||{},S&&k!==void 0&&(this.H.OSID=S,this.H.OAID=k),this.F=this.X,this.I=cp(this,null,this.W),ql(this)};function ih(p){if(ip(p),p.G==3){var E=p.U++,S=fr(p.I);if(ct(S,"SID",p.K),ct(S,"RID",E),ct(S,"TYPE","terminate"),Ro(p,S),E=new Gn(p,p.j,E),E.L=2,E.v=Eo(fr(S)),S=!1,h.navigator&&h.navigator.sendBeacon)try{S=h.navigator.sendBeacon(E.v.toString(),"")}catch{}!S&&h.Image&&(new Image().src=E.v,S=!0),S||(E.g=hp(E.j,null),E.g.ea(E.v)),E.F=Date.now(),go(E)}up(p)}function jl(p){p.g&&(Co(p),p.g.cancel(),p.g=null)}function ip(p){jl(p),p.u&&(h.clearTimeout(p.u),p.u=null),Hl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&h.clearTimeout(p.s),p.s=null)}function ql(p){if(!Nl(p.h)&&!p.s){p.s=!0;var E=p.Ga;J||j(),le||(J(),le=!0),be.add(E,p),p.B=0}}function r_(p,E){return kl(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=tn(v(p.Ga,p,E),oh(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Y=new Gn(this,this.j,p);let ae=this.o;if(this.S&&(ae?(ae=R(ae),w(ae,this.S)):ae=this.S),this.m!==null||this.O||(Y.H=ae,ae=null),this.P)e:{for(var E=0,S=0;S<this.i.length;S++){t:{var k=this.i[S];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(E+=k,4096<E){E=S;break e}if(E===4096||S===this.i.length-1){E=S+1;break e}}E=1e3}else E=1e3;E=sp(this,Y,E),S=fr(this.I),ct(S,"RID",p),ct(S,"CVER",22),this.D&&ct(S,"X-HTTP-Session-Id",this.D),Ro(this,S),ae&&(this.O?E="headers="+encodeURIComponent(String(rh(ae)))+"&"+E:this.m&&vn(S,this.m,ae)),Ml(this.h,Y),this.Ua&&ct(S,"TYPE","init"),this.P?(ct(S,"$req",E),ct(S,"SID","null"),Y.T=!0,Jr(Y,S,null)):Jr(Y,S,E),this.G=2}}else this.G==3&&(p?sh(this,p):this.i.length==0||Nl(this.h)||sh(this))};function sh(p,E){var S;E?S=E.l:S=p.U++;const k=fr(p.I);ct(k,"SID",p.K),ct(k,"RID",S),ct(k,"AID",p.T),Ro(p,k),p.m&&p.o&&vn(k,p.m,p.o),S=new Gn(p,p.j,S,p.B+1),p.m===null&&(S.H=p.o),E&&(p.i=E.D.concat(p.i)),E=sp(p,S,1e3),S.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Ml(p.h,S),Jr(S,k,E)}function Ro(p,E){p.H&&K(p.H,function(S,k){ct(E,k,S)}),p.l&&Jc({},function(S,k){ct(E,k,S)})}function sp(p,E,S){S=Math.min(p.i.length,S);var k=p.l?v(p.l.Na,p.l,p):null;e:{var Y=p.i;let ae=-1;for(;;){const _e=["count="+S];ae==-1?0<S?(ae=Y[0].g,_e.push("ofs="+ae)):ae=0:_e.push("ofs="+ae);let We=!0;for(let fn=0;fn<S;fn++){let Qe=Y[fn].g;const En=Y[fn].map;if(Qe-=ae,0>Qe)ae=Math.max(0,Y[fn].g-100),We=!1;else try{yi(En,_e,"req"+Qe+"_")}catch{k&&k(En)}}if(We){k=_e.join("&");break e}}}return p=p.i.splice(0,S),E.D=p,k}function ap(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;J||j(),le||(J(),le=!0),be.add(E,p),p.v=0}}function ah(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=tn(v(p.Fa,p),oh(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,op(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=tn(v(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),jl(this),op(this))};function Co(p){p.A!=null&&(h.clearTimeout(p.A),p.A=null)}function op(p){p.g=new Gn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=fr(p.qa);ct(E,"RID","rpc"),ct(E,"SID",p.K),ct(E,"AID",p.T),ct(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&ct(E,"TO",p.ja),ct(E,"TYPE","xmlhttp"),Ro(p,E),p.m&&p.o&&vn(E,p.m,p.o),p.L&&(p.g.I=p.L);var S=p.g;p=p.ia,S.L=1,S.v=Eo(fr(E)),S.m=null,S.P=!0,ns(S,p)}n.Za=function(){this.C!=null&&(this.C=null,jl(this),ah(this),Tt(19))};function Hl(p){p.C!=null&&(h.clearTimeout(p.C),p.C=null)}function lp(p,E){var S=null;if(p.g==E){Hl(p),Co(p),p.g=null;var k=2}else if(Yc(p.h,E))S=E.D,Kn(p.h,E),k=1;else return;if(p.G!=0){if(E.o)if(k==1){S=E.m?E.m.length:0,E=Date.now()-E.F;var Y=p.B;k=Ks(),Ue(k,new dn(k,S)),ql(p)}else ap(p);else if(Y=E.s,Y==3||Y==0&&0<E.X||!(k==1&&r_(p,E)||k==2&&ah(p)))switch(S&&0<S.length&&(E=p.h,E.i=E.i.concat(S)),Y){case 1:us(p,5);break;case 4:us(p,10);break;case 3:us(p,6);break;default:us(p,2)}}}function oh(p,E){let S=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(S*=2),S*E}function us(p,E){if(p.j.info("Error code "+E),E==2){var S=v(p.fb,p),k=p.Xa;const Y=!k;k=new nn(k||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||vo(k,"https"),Eo(k),Y?wo(k.toString(),S):Zr(k.toString(),S)}else Tt(2);p.G=0,p.l&&p.l.sa(E),up(p),ip(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function up(p){if(p.G=0,p.ka=[],p.l){const E=Xc(p.h);(E.length!=0||p.i.length!=0)&&(P(p.ka,E),P(p.ka,p.i),p.h.i.length=0,A(p.i),p.i.length=0),p.l.ra()}}function cp(p,E,S){var k=S instanceof nn?fr(S):new nn(S);if(k.g!="")E&&(k.g=E+"."+k.g),Js(k,k.s);else{var Y=h.location;k=Y.protocol,E=E?E+"."+Y.hostname:Y.hostname,Y=+Y.port;var ae=new nn(null);k&&vo(ae,k),E&&(ae.g=E),Y&&Js(ae,Y),S&&(ae.l=S),k=ae}return S=p.D,E=p.ya,S&&E&&ct(k,S,E),ct(k,"VER",p.la),Ro(p,k),k}function hp(p,E,S){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new it(new Zs({eb:S})):new it(p.pa),E.Ha(p.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function dp(){}n=dp.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function $l(){}$l.prototype.g=function(p,E){return new Wn(p,E)};function Wn(p,E){st.call(this),this.g=new zl(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!V(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!V(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new bi(this)}b(Wn,st),Wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wn.prototype.close=function(){ih(this.g)},Wn.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var S={};S.__data__=p,p=S}else this.u&&(S={},S.__data__=Xr(p),p=S);E.i.push(new Zf(E.Ya++,p)),E.G==3&&ql(E)},Wn.prototype.N=function(){this.g.l=null,delete this.j,ih(this.g),delete this.g,Wn.aa.N.call(this)};function fp(p){es.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const S in E){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}b(fp,es);function pp(){Gc.call(this),this.status=1}b(pp,Gc);function bi(p){this.g=p}b(bi,dp),bi.prototype.ua=function(){Ue(this.g,"a")},bi.prototype.ta=function(p){Ue(this.g,new fp(p))},bi.prototype.sa=function(p){Ue(this.g,new pp)},bi.prototype.ra=function(){Ue(this.g,"b")},$l.prototype.createWebChannel=$l.prototype.g,Wn.prototype.send=Wn.prototype.o,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,FP=function(){return new $l},BP=function(){return Ks()},UP=di,$0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ys.NO_ERROR=0,Ys.TIMEOUT=8,Ys.HTTP_ERROR=6,Lm=Ys,ts.COMPLETE="complete",LP=ts,$c.EventType=Zi,Zi.OPEN="a",Zi.CLOSE="b",Zi.ERROR="c",Zi.MESSAGE="d",st.prototype.listen=st.prototype.K,wd=$c,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,VP=it}).apply(typeof ym<"u"?ym:typeof self<"u"?self:typeof window<"u"?window:{});const oR="@firebase/firestore",lR="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let An=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new Hg("@firebase/firestore");function Du(){return za.logLevel}function DB(n){za.setLogLevel(n)}function pe(n,...e){if(za.logLevel<=He.DEBUG){const t=e.map(Tb);za.debug(`Firestore (${xc}): ${n}`,...t)}}function Yt(n,...e){if(za.logLevel<=He.ERROR){const t=e.map(Tb);za.error(`Firestore (${xc}): ${n}`,...t)}}function Ki(n,...e){if(za.logLevel<=He.WARN){const t=e.map(Tb);za.warn(`Firestore (${xc}): ${n}`,...t)}}function Tb(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,zP(n,r,t)}function zP(n,e,t){let r=`FIRESTORE (${xc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Yt(r),new Error(r)}function Ae(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||zP(e,i,r)}function NB(n,e){n||we(57014,e)}function Ee(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Jn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(An.UNAUTHENTICATED))}shutdown(){}}class MB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class VB{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ae(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Vn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vn,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},h=f=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vn)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new jP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new An(e)}}class LB{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UB{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new LB(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BB{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ae(this.o===void 0,3512);const r=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new uR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ae(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new uR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=FB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function De(n,e){return n<e?-1:n>e?1:0}function G0(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return De(r,i);{const o=Sb(),u=zB(o.encode(cR(n,t)),o.encode(cR(e,t)));return u!==0?u:De(r,i)}}t+=r>65535?2:1}return De(n.length,e.length)}function cR(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function zB(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return De(n[t],e[t]);return De(n.length,e.length)}function Zu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function HP(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=-62135596800,dR=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*dR);return new Pt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<hR)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dR}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-hR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Pt(0,0))}static max(){return new Ie(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="__name__";class Pi{constructor(e,t,r){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&we(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Pi.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return De(e.length,t.length)}static compareSegments(e,t){const r=Pi.isNumericId(e),i=Pi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Pi.extractNumericId(e).compare(Pi.extractNumericId(t)):G0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ka.fromString(e.substring(4,e.length-2))}}class Ge extends Pi{construct(e,t,r){return new Ge(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ge(t)}static emptyPath(){return new Ge([])}}const jB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Pi{construct(e,t,r){return new Ct(e,t,r)}static isValidIdentifier(e){return jB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fR}static keyField(){return new Ct([fR])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new fe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new fe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else h==="`"?(u=!u,i++):h!=="."||u?(r+=h,i++):(o(),i++)}if(o(),u)throw new fe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(t)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(Ge.fromString(e))}static fromName(e){return new ve(Ge.fromString(e).popFirst(5))}static empty(){return new ve(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new Ge(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=-1;class mg{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function K0(n){return n.fields.find(e=>e.kind===2)}function Ko(n){return n.fields.filter(e=>e.kind!==2)}mg.UNKNOWN_ID=-1;class Um{constructor(e,t){this.fieldPath=e,this.kind=t}}class Qd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Qd(0,xr.min())}}function $P(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ie.fromTimestamp(r===1e9?new Pt(t+1,0):new Pt(t,r));return new xr(i,ve.empty(),e)}function GP(n){return new xr(n.readTime,n.key,ec)}class xr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new xr(Ie.min(),ve.empty(),ec)}static max(){return new xr(Ie.max(),ve.empty(),ec)}}function Ab(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==KP)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,r)=>{t(e)})}static reject(e){return new X((t,r)=>{r(e)})}static waitFor(e){return new X((t,r)=>{let i=0,o=0,u=!1;e.forEach(h=>{++i,h.next(()=>{++o,u&&o===i&&t()},f=>r(f))}),u=!0,o===i&&t()})}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next(i=>i?X.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new X((r,i)=>{const o=e.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next(g=>{u[d]=g,++h,h===o&&r(u)},g=>i(g))}})}static doWhile(e,t){return new X((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr="SimpleDb";class ry{static open(e,t,r,i){try{return new ry(t,e.transaction(i,r))}catch(o){throw new Dd(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Vn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Dd(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=Ib(r.target.error);this.S.reject(new Dd(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(pe(Tr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new HB(t)}}class zi{static delete(e){return pe(Tr,"Removing database:",e),Qo(JE().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!qd())return!1;if(zi.F())return!0;const e=Vt(),t=zi.M(e),r=0<t&&t<10,i=QP(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.B=r,this.L=null,zi.M(Vt())===12.2&&Yt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(pe(Tr,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const u=o.target.result;t(u)},i.onblocked=()=>{r(new Dd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const u=o.target.error;u.name==="VersionError"?r(new fe(ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new fe(ie.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new Dd(e,u))},i.onupgradeneeded=o=>{pe(Tr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;if(this.L!==null&&this.L!==o.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${o.oldVersion}, event.newVersion=${o.newVersion}, db.version=${u.version}`);this.B.q(u,i.transaction,o.oldVersion,this.version).next(()=>{pe(Tr,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",t=>{const r=t.target;this.L=r.version},{passive:!0})),this.$&&(this.db.onversionchange=t=>this.$(t)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.k(e);const h=ry.open(this.db,e,o?"readonly":"readwrite",r),f=i(h).next(d=>(h.v(),d)).catch(d=>(h.abort(d),X.reject(d))).toPromise();return f.catch(()=>{}),await h.D,f}catch(h){const f=h,d=f.name!=="FirebaseError"&&u<3;if(pe(Tr,"Transaction failed with error:",f.message,"Retrying:",d),this.close(),!d)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function QP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class qB{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return Qo(this.K.delete())}}class Dd extends fe{constructor(e,t){super(ie.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function io(n){return n.name==="IndexedDbTransactionError"}class HB{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(pe(Tr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(pe(Tr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Qo(r)}add(e){return pe(Tr,"ADD",this.store.name,e,e),Qo(this.store.add(e))}get(e){return Qo(this.store.get(e)).next(t=>(t===void 0&&(t=null),pe(Tr,"GET",this.store.name,e,t),t))}delete(e){return pe(Tr,"DELETE",this.store.name,e),Qo(this.store.delete(e))}count(){return pe(Tr,"COUNT",this.store.name),Qo(this.store.count())}J(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new X((u,h)=>{o.onerror=f=>{h(f.target.error)},o.onsuccess=f=>{u(f.target.result)}})}{const o=this.cursor(r),u=[];return this.Y(o,(h,f)=>{u.push(f)}).next(()=>u)}}Z(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new X((i,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}X(e,t){pe(Tr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.ee=!1;const i=this.cursor(r);return this.Y(i,(o,u,h)=>h.delete())}te(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Y(i,t)}ne(e){const t=this.cursor({});return new X((r,i)=>{t.onerror=o=>{const u=Ib(o.target.error);i(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}Y(e,t){const r=[];return new X((i,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void i();const f=new qB(h),d=t(h.primaryKey,h.value,f);if(d instanceof X){const g=d.catch(_=>(f.done(),X.reject(_)));r.push(g)}f.isDone?i():f.j===null?h.continue():h.continue(f.j)}}).next(()=>X.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.ee?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Qo(n){return new X((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=Ib(r.target.error);t(i)}})}let pR=!1;function Ib(n){const e=zi.M(Vt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return pR||(pR=!0,setTimeout(()=>{throw r},0)),r}}return n}const Nd="IndexBackfiller";class $B{constructor(e,t){this.asyncQueue=e,this.re=t,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){pe(Nd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.re.se();pe(Nd,`Documents written: ${t}`)}catch(t){io(t)?pe(Nd,"Ignoring IndexedDB error during index backfill: ",t):await ro(t)}await this.ie(6e4)})}}class GB{constructor(e,t){this.localStore=e,this.persistence=t}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.oe(t,e))}oe(e,t){const r=new Set;let i=t,o=!0;return X.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(u!==null&&!r.has(u))return pe(Nd,`Processing collection: ${u}`),this._e(e,u,i).next(h=>{i-=h,r.add(u)});o=!1})).next(()=>t-i)}_e(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ae(i,o)).next(h=>(pe(Nd,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}ae(e,t){let r=e;return t.changes.forEach((i,o)=>{const u=GP(o);Ab(u,r)>0&&(r=u)}),new xr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ar.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=-1;function Rf(n){return n==null}function Yd(n){return n===0&&1/n==-1/0}function YP(n){return typeof n=="number"&&Number.isInteger(n)&&!Yd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="";function Hn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=mR(e)),e=KB(n.get(t),e);return mR(e)}function KB(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case gg:t+="";break;default:t+=o}}return t}function mR(n){return n+gg+""}function Bi(n){const e=n.length;if(Ae(e>=2,64408,{path:n}),e===2)return Ae(n.charAt(0)===gg&&n.charAt(1)==="",56145,{path:n}),Ge.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const u=n.indexOf(gg,o);switch((u<0||u>t)&&we(50515,{path:n}),n.charAt(u+1)){case"":const h=n.substring(o,u);let f;i.length===0?f=h:(i+=h,f=i,i=""),r.push(f);break;case"":i+=n.substring(o,u),i+="\0";break;case"":i+=n.substring(o,u+1);break;default:we(61167,{path:n})}o=u+2}return new Ge(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="remoteDocuments",Cf="owner",bu="owner",Xd="mutationQueues",WB="userId",ii="mutations",gR="batchId",tl="userMutationsIndex",yR=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(n,e){return[n,Hn(e)]}function XP(n,e,t){return[n,Hn(e),t]}const QB={},tc="documentMutations",yg="remoteDocumentsV14",YB=["prefixPath","collectionGroup","readTime","documentId"],Fm="documentKeyIndex",XB=["prefixPath","collectionGroup","documentId"],JP="collectionGroupIndex",JB=["collectionGroup","readTime","prefixPath","documentId"],Jd="remoteDocumentGlobal",W0="remoteDocumentGlobalKey",nc="targets",ZP="queryTargetsIndex",ZB=["canonicalId","targetId"],rc="targetDocuments",e6=["targetId","path"],Rb="documentTargetsIndex",t6=["path","targetId"],_g="targetGlobalKey",ol="targetGlobal",Zd="collectionParents",n6=["collectionId","parent"],ic="clientMetadata",r6="clientId",iy="bundles",i6="bundleId",sy="namedQueries",s6="name",Cb="indexConfiguration",a6="indexId",Q0="collectionGroupIndex",o6="collectionGroup",vg="indexState",l6=["indexId","uid"],eO="sequenceNumberIndex",u6=["uid","sequenceNumber"],Eg="indexEntries",c6=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],tO="documentKeyIndex",h6=["indexId","uid","orderedDocumentKey"],ay="documentOverlays",d6=["userId","collectionPath","documentId"],Y0="collectionPathOverlayIndex",f6=["userId","collectionPath","largestBatchId"],nO="collectionGroupOverlayIndex",p6=["userId","collectionGroup","largestBatchId"],xb="globals",m6="name",rO=[Xd,ii,tc,Wo,nc,Cf,ol,rc,ic,Jd,Zd,iy,sy],g6=[...rO,ay],iO=[Xd,ii,tc,yg,nc,Cf,ol,rc,ic,Jd,Zd,iy,sy,ay],sO=iO,Pb=[...sO,Cb,vg,Eg],y6=Pb,_6=[...Pb,xb];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0 extends WP{constructor(e,t){super(),this.he=e,this.currentSequenceNumber=t}}function _n(n,e){const t=Ee(n);return zi.N(t.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function so(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function aO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,t){this.comparator=e,this.root=t||Nn.EMPTY}insert(e,t){return new Et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _m(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _m(this.root,e,this.comparator,!1)}getReverseIterator(){return new _m(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _m(this.root,e,this.comparator,!0)}}class _m{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Nn.RED,this.left=i??Nn.EMPTY,this.right=o??Nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Nn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Nn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vR(this.data.getIterator())}getIteratorFrom(e){return new vR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ut(this.comparator);return t.data=e,t}}class vR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wu(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new or([])}unionWith(e){let t=new ut(Ct.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new or(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new oO("Invalid base64 string: "+o):o}}(e);return new jt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let u=0;u<i.length;++u)o+=String.fromCharCode(i[u]);return o}(e);return new jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const E6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(n){if(Ae(!!n,39018),typeof n=="string"){let e=0;const t=E6.exec(n);if(Ae(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Us(n){return typeof n=="string"?jt.fromBase64String(n):jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="server_timestamp",uO="__type__",cO="__previous_value__",hO="__local_write_time__";function oy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[uO])===null||t===void 0?void 0:t.stringValue)===lO}function ly(n){const e=n.mapValue.fields[cO];return oy(e)?ly(e):e}function ef(n){const e=Ls(n.mapValue.fields[hO].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,t,r,i,o,u,h,f,d,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=g}}const J0="(default)";class ja{constructor(e,t){this.projectId=e,this.database=t||J0}static empty(){return new ja("","")}get isDefaultDatabase(){return this.database===J0}isEqual(e){return e instanceof ja&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="__type__",dO="__max__",Ca={mapValue:{fields:{__type__:{stringValue:dO}}}},Db="__vector__",sc="value",zm={nullValue:"NULL_VALUE"};function qa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?oy(n)?4:fO(n)?9007199254740991:uy(n)?10:11:we(28295,{value:n})}function Wi(n,e){if(n===e)return!0;const t=qa(n);if(t!==qa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ef(n).isEqual(ef(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const u=Ls(i.timestampValue),h=Ls(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Us(i.bytesValue).isEqual(Us(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return It(i.geoPointValue.latitude)===It(o.geoPointValue.latitude)&&It(i.geoPointValue.longitude)===It(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return It(i.integerValue)===It(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const u=It(i.doubleValue),h=It(o.doubleValue);return u===h?Yd(u)===Yd(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Zu(n.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:case 11:return function(i,o){const u=i.mapValue.fields||{},h=o.mapValue.fields||{};if(_R(u)!==_R(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Wi(u[f],h[f])))return!1;return!0}(n,e);default:return we(52216,{left:n})}}function tf(n,e){return(n.values||[]).find(t=>Wi(t,e))!==void 0}function Ha(n,e){if(n===e)return 0;const t=qa(n),r=qa(e);if(t!==r)return De(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=It(o.integerValue||o.doubleValue),f=It(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return ER(n.timestampValue,e.timestampValue);case 4:return ER(ef(n),ef(e));case 5:return G0(n.stringValue,e.stringValue);case 6:return function(o,u){const h=Us(o),f=Us(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),f=u.split("/");for(let d=0;d<h.length&&d<f.length;d++){const g=De(h[d],f[d]);if(g!==0)return g}return De(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=De(It(o.latitude),It(u.latitude));return h!==0?h:De(It(o.longitude),It(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return bR(n.arrayValue,e.arrayValue);case 10:return function(o,u){var h,f,d,g;const _=o.fields||{},v=u.fields||{},T=(h=_[sc])===null||h===void 0?void 0:h.arrayValue,b=(f=v[sc])===null||f===void 0?void 0:f.arrayValue,A=De(((d=T==null?void 0:T.values)===null||d===void 0?void 0:d.length)||0,((g=b==null?void 0:b.values)===null||g===void 0?void 0:g.length)||0);return A!==0?A:bR(T,b)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Ca.mapValue&&u===Ca.mapValue)return 0;if(o===Ca.mapValue)return 1;if(u===Ca.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=u.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const v=G0(f[_],g[_]);if(v!==0)return v;const T=Ha(h[f[_]],d[g[_]]);if(T!==0)return T}return De(f.length,g.length)}(n.mapValue,e.mapValue);default:throw we(23264,{Pe:t})}}function ER(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);const t=Ls(n),r=Ls(e),i=De(t.seconds,r.seconds);return i!==0?i:De(t.nanos,r.nanos)}function bR(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Ha(t[i],r[i]);if(o)return o}return De(t.length,r.length)}function ac(n){return Z0(n)}function Z0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ls(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Us(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=Z0(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const u of r)o?o=!1:i+=",",i+=`${u}:${Z0(t.fields[u])}`;return i+"}"}(n.mapValue):we(61005,{value:n})}function jm(n){switch(qa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ly(n);return e?16+jm(e):16;case 5:return 2*n.stringValue.length;case 6:return Us(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+jm(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return so(r.fields,(o,u)=>{i+=o.length+jm(u)}),i}(n.mapValue);default:throw we(13486,{value:n})}}function hl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function eE(n){return!!n&&"integerValue"in n}function nf(n){return!!n&&"arrayValue"in n}function wR(n){return!!n&&"nullValue"in n}function TR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qm(n){return!!n&&"mapValue"in n}function uy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ob])===null||t===void 0?void 0:t.stringValue)===Db}function kd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return so(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=kd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function fO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===dO}const pO={mapValue:{fields:{[Ob]:{stringValue:Db},[sc]:{arrayValue:{}}}}};function w6(n){return"nullValue"in n?zm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?hl(ja.empty(),ve.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?uy(n)?pO:{mapValue:{}}:we(35942,{value:n})}function T6(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?hl(ja.empty(),ve.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?pO:"mapValue"in n?uy(n)?{mapValue:{}}:Ca:we(61959,{value:n})}function SR(n,e){const t=Ha(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function AR(n,e){const t=Ha(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kd(t)}setAll(e){let t=Ct.emptyPath(),r={},i=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=kd(u):i.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());qm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];qm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){so(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Mn(kd(this.value))}}function mO(n){const e=[];return so(n.fields,(t,r)=>{const i=new Ct([t]);if(qm(r)){const o=mO(r.mapValue).fields;if(o.length===0)e.push(i);else for(const u of o)e.push(i.child(u))}else e.push(i)}),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,t,r,i,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new bt(e,0,Ie.min(),Ie.min(),Ie.min(),Mn.empty(),0)}static newFoundDocument(e,t,r,i){return new bt(e,1,t,Ie.min(),r,i,0)}static newNoDocument(e,t){return new bt(e,2,t,Ie.min(),Ie.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new bt(e,3,t,Ie.min(),Ie.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,t){this.position=e,this.inclusive=t}}function IR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],u=n.position[i];if(o.field.isKeyField()?r=ve.comparator(ve.fromName(u.referenceValue),t.key):r=Ha(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function RR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t="asc"){this.field=e,this.dir=t}}function S6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{}class Ke extends gO{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new A6(e,t,r):t==="array-contains"?new C6(e,r):t==="in"?new wO(e,r):t==="not-in"?new x6(e,r):t==="array-contains-any"?new P6(e,r):new Ke(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new I6(e,r):new R6(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ha(t,this.value)):t!==null&&qa(this.value)===qa(t)&&this.matchesComparison(Ha(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lt extends gO{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new lt(e,t)}matches(e){return oc(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function oc(n){return n.op==="and"}function tE(n){return n.op==="or"}function Nb(n){return yO(n)&&oc(n)}function yO(n){for(const e of n.filters)if(e instanceof lt)return!1;return!0}function nE(n){if(n instanceof Ke)return n.field.canonicalString()+n.op.toString()+ac(n.value);if(Nb(n))return n.filters.map(e=>nE(e)).join(",");{const e=n.filters.map(t=>nE(t)).join(",");return`${n.op}(${e})`}}function _O(n,e){return n instanceof Ke?function(r,i){return i instanceof Ke&&r.op===i.op&&r.field.isEqual(i.field)&&Wi(r.value,i.value)}(n,e):n instanceof lt?function(r,i){return i instanceof lt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,u,h)=>o&&_O(u,i.filters[h]),!0):!1}(n,e):void we(19439)}function vO(n,e){const t=n.filters.concat(e);return lt.create(t,n.op)}function EO(n){return n instanceof Ke?function(t){return`${t.field.canonicalString()} ${t.op} ${ac(t.value)}`}(n):n instanceof lt?function(t){return t.op.toString()+" {"+t.getFilters().map(EO).join(" ,")+"}"}(n):"Filter"}class A6 extends Ke{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class I6 extends Ke{constructor(e,t){super(e,"in",t),this.keys=bO("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class R6 extends Ke{constructor(e,t){super(e,"not-in",t),this.keys=bO("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bO(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ve.fromName(r.referenceValue))}class C6 extends Ke{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return nf(t)&&tf(t.arrayValue,this.value)}}class wO extends Ke{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&tf(this.value.arrayValue,t)}}class x6 extends Ke{constructor(e,t){super(e,"not-in",t)}matches(e){if(tf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!tf(this.value.arrayValue,t)}}class P6 extends Ke{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!nf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>tf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,t=null,r=[],i=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=h,this.Ie=null}}function rE(n,e=null,t=[],r=[],i=null,o=null,u=null){return new O6(n,e,t,r,i,o,u)}function dl(n){const e=Ee(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>nE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Rf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ac(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ac(r)).join(",")),e.Ie=t}return e.Ie}function xf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!S6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!_O(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!RR(n.startAt,e.startAt)&&RR(n.endAt,e.endAt)}function bg(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function wg(n,e){return n.filters.filter(t=>t instanceof Ke&&t.field.isEqual(e))}function CR(n,e,t){let r=zm,i=!0;for(const o of wg(n,e)){let u=zm,h=!0;switch(o.op){case"<":case"<=":u=w6(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=zm}SR({value:r,inclusive:i},{value:u,inclusive:h})<0&&(r=u,i=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];SR({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}function xR(n,e,t){let r=Ca,i=!0;for(const o of wg(n,e)){let u=Ca,h=!0;switch(o.op){case">=":case">":u=T6(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Ca}AR({value:r,inclusive:i},{value:u,inclusive:h})>0&&(r=u,i=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];AR({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,t=null,r=[],i=[],o=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function TO(n,e,t,r,i,o,u,h){return new qs(n,e,t,r,i,o,u,h)}function Pc(n){return new qs(n)}function PR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function kb(n){return n.collectionGroup!==null}function Hu(n){const e=Ee(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new ut(Ct.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(d=>{d.isInequality()&&(h=h.add(d.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new rf(o,r))}),t.has(Ct.keyField().canonicalString())||e.Ee.push(new rf(Ct.keyField(),r))}return e.Ee}function Zn(n){const e=Ee(n);return e.de||(e.de=D6(e,Hu(n))),e.de}function D6(n,e){if(n.limitType==="F")return rE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new rf(i.field,o)});const t=n.endAt?new $a(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new $a(n.startAt.position,n.startAt.inclusive):null;return rE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function iE(n,e){const t=n.filters.concat([e]);return new qs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Tg(n,e,t){return new qs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Pf(n,e){return xf(Zn(n),Zn(e))&&n.limitType===e.limitType}function SO(n){return`${dl(Zn(n))}|lt:${n.limitType}`}function Nu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>EO(i)).join(", ")}]`),Rf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ac(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ac(i)).join(",")),`Target(${r})`}(Zn(n))}; limitType=${n.limitType})`}function Of(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ve.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Hu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(u,h,f){const d=IR(u,h,f);return u.inclusive?d<=0:d<0}(r.startAt,Hu(r),i)||r.endAt&&!function(u,h,f){const d=IR(u,h,f);return u.inclusive?d>=0:d>0}(r.endAt,Hu(r),i))}(n,e)}function AO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function IO(n){return(e,t)=>{let r=!1;for(const i of Hu(n)){const o=N6(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function N6(n,e,t){const r=n.field.isKeyField()?ve.comparator(e.key,t.key):function(o,u,h){const f=u.data.field(o),d=h.data.field(o);return f!==null&&d!==null?Ha(f,d):we(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return we(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){so(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return aO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=new Et(ve.comparator);function lr(){return k6}const RO=new Et(ve.comparator);function Td(...n){let e=RO;for(const t of n)e=e.insert(t.key,t);return e}function CO(n){let e=RO;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Fi(){return Md()}function xO(){return Md()}function Md(){return new Hs(n=>n.toString(),(n,e)=>n.isEqual(e))}const M6=new Et(ve.comparator),V6=new ut(ve.comparator);function Ve(...n){let e=V6;for(const t of n)e=e.add(t);return e}const L6=new ut(De);function Mb(){return L6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yd(e)?"-0":e}}function PO(n){return{integerValue:""+n}}function OO(n,e){return YP(e)?PO(e):Vb(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(){this._=void 0}}function U6(n,e,t){return n instanceof lc?function(i,o){const u={fields:{[uO]:{stringValue:lO},[hO]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&oy(o)&&(o=ly(o)),o&&(u.fields[cO]=o),{mapValue:u}}(t,e):n instanceof fl?NO(n,e):n instanceof pl?kO(n,e):function(i,o){const u=DO(i,o),h=OR(u)+OR(i.Re);return eE(u)&&eE(i.Re)?PO(h):Vb(i.serializer,h)}(n,e)}function B6(n,e,t){return n instanceof fl?NO(n,e):n instanceof pl?kO(n,e):t}function DO(n,e){return n instanceof uc?function(r){return eE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class lc extends cy{}class fl extends cy{constructor(e){super(),this.elements=e}}function NO(n,e){const t=MO(e);for(const r of n.elements)t.some(i=>Wi(i,r))||t.push(r);return{arrayValue:{values:t}}}class pl extends cy{constructor(e){super(),this.elements=e}}function kO(n,e){let t=MO(e);for(const r of n.elements)t=t.filter(i=>!Wi(i,r));return{arrayValue:{values:t}}}class uc extends cy{constructor(e,t){super(),this.serializer=e,this.Re=t}}function OR(n){return It(n.integerValue||n.doubleValue)}function MO(n){return nf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,t){this.field=e,this.transform=t}}function F6(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof fl&&i instanceof fl||r instanceof pl&&i instanceof pl?Zu(r.elements,i.elements,Wi):r instanceof uc&&i instanceof uc?Wi(r.Re,i.Re):r instanceof lc&&i instanceof lc}(n.transform,e.transform)}class z6{constructor(e,t){this.version=e,this.transformResults=t}}class xt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xt}static exists(e){return new xt(void 0,e)}static updateTime(e){return new xt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class hy{}function VO(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Dc(n.key,xt.none()):new Oc(n.key,n.data,xt.none());{const t=n.data,r=Mn.empty();let i=new ut(Ct.comparator);for(let o of e.fields)if(!i.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),i=i.add(o)}return new $s(n.key,r,new or(i.toArray()),xt.none())}}function j6(n,e,t){n instanceof Oc?function(i,o,u){const h=i.value.clone(),f=NR(i.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof $s?function(i,o,u){if(!Hm(i.precondition,o))return void o.convertToUnknownDocument(u.version);const h=NR(i.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(LO(i)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Vd(n,e,t,r){return n instanceof Oc?function(o,u,h,f){if(!Hm(o.precondition,u))return h;const d=o.value.clone(),g=kR(o.fieldTransforms,f,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof $s?function(o,u,h,f){if(!Hm(o.precondition,u))return h;const d=kR(o.fieldTransforms,f,u),g=u.data;return g.setAll(LO(o)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(o,u,h){return Hm(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function q6(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=DO(r.transform,i||null);o!=null&&(t===null&&(t=Mn.empty()),t.set(r.field,o))}return t||null}function DR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Zu(r,i,(o,u)=>F6(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Oc extends hy{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $s extends hy{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function LO(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function NR(n,e,t){const r=new Map;Ae(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const o=n[i],u=o.transform,h=e.data.field(o.field);r.set(o.field,B6(u,h,t[i]))}return r}function kR(n,e,t){const r=new Map;for(const i of n){const o=i.transform,u=t.data.field(i.field);r.set(i.field,U6(o,u,e))}return r}class Dc extends hy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lb extends hy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&j6(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Vd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Vd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=xO();return this.mutations.forEach(i=>{const o=e.get(i.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(i.key)?null:h;const f=VO(u,h);f!==null&&r.set(i.key,f),u.isValidDocument()||u.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Zu(this.mutations,e.mutations,(t,r)=>DR(t,r))&&Zu(this.baseMutations,e.baseMutations,(t,r)=>DR(t,r))}}class Bb{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ae(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return M6}();const o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new Bb(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,Xe;function UO(n){switch(n){case ie.OK:return we(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return we(15467,{code:n})}}function BO(n){if(n===void 0)return Yt("GRPC error has no .code"),ie.UNKNOWN;switch(n){case on.OK:return ie.OK;case on.CANCELLED:return ie.CANCELLED;case on.UNKNOWN:return ie.UNKNOWN;case on.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case on.INTERNAL:return ie.INTERNAL;case on.UNAVAILABLE:return ie.UNAVAILABLE;case on.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case on.NOT_FOUND:return ie.NOT_FOUND;case on.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case on.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case on.ABORTED:return ie.ABORTED;case on.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case on.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case on.DATA_LOSS:return ie.DATA_LOSS;default:return we(39323,{code:n})}}(Xe=on||(on={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=new ka([4294967295,4294967295],0);function MR(n){const e=Sb().encode(n),t=new MP;return t.update(e),new Uint8Array(t.digest())}function VR(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ka([t,r],0),new ka([i,o],0)]}class zb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Sd(`Invalid padding: ${t}`);if(r<0)throw new Sd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Sd(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ka.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(ka.fromNumber(r)));return i.compare($6)===1&&(i=new ka([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=MR(e),[r,i]=VR(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,i,o);if(!this.be(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new zb(o,i,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.pe===0)return;const t=MR(e),[r,i]=VR(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,i,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Sd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,kf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Nf(Ie.min(),i,new Et(De),lr(),Ve())}}class kf{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new kf(r,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class FO{constructor(e,t){this.targetId=e,this.Ce=t}}class zO{constructor(e,t,r=jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class LR{constructor(){this.Fe=0,this.Me=UR(),this.xe=jt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ve(),t=Ve(),r=Ve();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:we(38017,{changeType:o})}}),new kf(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=UR()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ae(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class G6{constructor(e){this.ze=e,this.je=new Map,this.He=lr(),this.Je=vm(),this.Ye=vm(),this.Ze=new Et(De)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const o=i.target;if(bg(o))if(r===0){const u=new ve(o.path);this.tt(t,u,bt.newNoDocument(u,Ie.min()))}else Ae(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const h=this.ct(e),f=h?this.lt(h,e,u):1;if(f!==0){this.st(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let u,h;try{u=Us(r).toUint8Array()}catch(f){if(f instanceof oO)return Ki("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new zb(u,i,o)}catch(f){return Ki(f instanceof Sd?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,o,null),i++)}),i}It(e){const t=new Map;this.je.forEach((o,u)=>{const h=this._t(u);if(h){if(o.current&&bg(h.target)){const f=new ve(h.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,bt.newNoDocument(f,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let r=Ve();this.Ye.forEach((o,u)=>{let h=!0;u.forEachWhile(f=>{const d=this._t(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const i=new Nf(e,t,this.Ze,this.He,r);return this.He=lr(),this.Je=vm(),this.Ye=vm(),this.Ze=new Et(De),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new LR,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new ut(De),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new ut(De),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new LR),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function vm(){return new Et(ve.comparator)}function UR(){return new Et(ve.comparator)}const K6={asc:"ASCENDING",desc:"DESCENDING"},W6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q6={and:"AND",or:"OR"};class Y6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sE(n,e){return n.useProto3Json||Rf(e)?e:{value:e}}function cc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function X6(n,e){return cc(n,e.toTimestamp())}function Xt(n){return Ae(!!n,49232),Ie.fromTimestamp(function(t){const r=Ls(t);return new Pt(r.seconds,r.nanos)}(n))}function jb(n,e){return aE(n,e).canonicalString()}function aE(n,e){const t=function(i){return new Ge(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function qO(n){const e=Ge.fromString(n);return Ae(ZO(e),10190,{key:e.toString()}),e}function sf(n,e){return jb(n.databaseId,e.path)}function ji(n,e){const t=qO(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(GO(t))}function HO(n,e){return jb(n.databaseId,e)}function $O(n){const e=qO(n);return e.length===4?Ge.emptyPath():GO(e)}function oE(n){return new Ge(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function GO(n){return Ae(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function BR(n,e,t){return{name:sf(n,e),fields:t.value.mapValue.fields}}function KO(n,e,t){const r=ji(n,e.name),i=Xt(e.updateTime),o=e.createTime?Xt(e.createTime):Ie.min(),u=new Mn({mapValue:{fields:e.fields}}),h=bt.newFoundDocument(r,i,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function J6(n,e){return"found"in e?function(r,i){Ae(!!i.found,43571),i.found.name,i.found.updateTime;const o=ji(r,i.found.name),u=Xt(i.found.updateTime),h=i.found.createTime?Xt(i.found.createTime):Ie.min(),f=new Mn({mapValue:{fields:i.found.fields}});return bt.newFoundDocument(o,u,h,f)}(n,e):"missing"in e?function(r,i){Ae(!!i.missing,3894),Ae(!!i.readTime,22933);const o=ji(r,i.missing),u=Xt(i.readTime);return bt.newNoDocument(o,u)}(n,e):we(7234,{result:e})}function Z6(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:we(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,g){return d.useProto3Json?(Ae(g===void 0||typeof g=="string",58123),jt.fromBase64String(g||"")):(Ae(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),jt.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(d){const g=d.code===void 0?ie.UNKNOWN:BO(d.code);return new fe(g,d.message||"")}(u);t=new zO(r,i,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ji(n,r.document.name),o=Xt(r.document.updateTime),u=r.document.createTime?Xt(r.document.createTime):Ie.min(),h=new Mn({mapValue:{fields:r.document.fields}}),f=bt.newFoundDocument(i,o,u,h),d=r.targetIds||[],g=r.removedTargetIds||[];t=new $m(d,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ji(n,r.document),o=r.readTime?Xt(r.readTime):Ie.min(),u=bt.newNoDocument(i,o),h=r.removedTargetIds||[];t=new $m([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ji(n,r.document),o=r.removedTargetIds||[];t=new $m([],o,i,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,u=new H6(i,o),h=r.targetId;t=new FO(h,u)}}return t}function af(n,e){let t;if(e instanceof Oc)t={update:BR(n,e.key,e.value)};else if(e instanceof Dc)t={delete:sf(n,e.key)};else if(e instanceof $s)t={update:BR(n,e.key,e.data),updateMask:sF(e.fieldMask)};else{if(!(e instanceof Lb))return we(16599,{ft:e.type});t={verify:sf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof lc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof fl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof pl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof uc)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw we(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:X6(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we(27497)}(n,e.precondition)),t}function lE(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?xt.updateTime(Xt(o.updateTime)):o.exists!==void 0?xt.exists(o.exists):xt.none()}(e.currentDocument):xt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,h){let f=null;if("setToServerValue"in h)Ae(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),f=new lc;else if("appendMissingElements"in h){const g=h.appendMissingElements.values||[];f=new fl(g)}else if("removeAllFromArray"in h){const g=h.removeAllFromArray.values||[];f=new pl(g)}else"increment"in h?f=new uc(u,h.increment):we(16584,{proto:h});const d=Ct.fromServerFormat(h.fieldPath);return new Df(d,f)}(n,i)):[];if(e.update){e.update.name;const i=ji(n,e.update.name),o=new Mn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=function(f){const d=f.fieldPaths||[];return new or(d.map(g=>Ct.fromServerFormat(g)))}(e.updateMask);return new $s(i,o,u,t,r)}return new Oc(i,o,t,r)}if(e.delete){const i=ji(n,e.delete);return new Dc(i,t)}if(e.verify){const i=ji(n,e.verify);return new Lb(i,t)}return we(1463,{proto:e})}function eF(n,e){return n&&n.length>0?(Ae(e!==void 0,14353),n.map(t=>function(i,o){let u=i.updateTime?Xt(i.updateTime):Xt(o);return u.isEqual(Ie.min())&&(u=Xt(o)),new z6(u,i.transformResults||[])}(t,e))):[]}function WO(n,e){return{documents:[HO(n,e.path)]}}function QO(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=HO(n,i);const o=function(d){if(d.length!==0)return JO(lt.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(d){if(d.length!==0)return d.map(g=>function(v){return{field:ku(v.field),direction:nF(v.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=sE(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:t,parent:i}}function YO(n){let e=$O(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ae(r===1,65062);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(_){const v=XO(_);return v instanceof lt&&Nb(v)?v.getFilters():[v]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(v=>function(b){return new rf(Mu(b.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(v))}(t.orderBy));let h=null;t.limit&&(h=function(_){let v;return v=typeof _=="object"?_.value:_,Rf(v)?null:v}(t.limit));let f=null;t.startAt&&(f=function(_){const v=!!_.before,T=_.values||[];return new $a(T,v)}(t.startAt));let d=null;return t.endAt&&(d=function(_){const v=!_.before,T=_.values||[];return new $a(T,v)}(t.endAt)),TO(e,i,u,o,h,"F",f,d)}function tF(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function XO(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Mu(t.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Mu(t.unaryFilter.field);return Ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Mu(t.unaryFilter.field);return Ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Mu(t.unaryFilter.field);return Ke.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ke.create(Mu(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return lt.create(t.compositeFilter.filters.map(r=>XO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(t.compositeFilter.op))}(n):we(30097,{filter:n})}function nF(n){return K6[n]}function rF(n){return W6[n]}function iF(n){return Q6[n]}function ku(n){return{fieldPath:n.canonicalString()}}function Mu(n){return Ct.fromServerFormat(n.fieldPath)}function JO(n){return n instanceof Ke?function(t){if(t.op==="=="){if(TR(t.value))return{unaryFilter:{field:ku(t.field),op:"IS_NAN"}};if(wR(t.value))return{unaryFilter:{field:ku(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(TR(t.value))return{unaryFilter:{field:ku(t.field),op:"IS_NOT_NAN"}};if(wR(t.value))return{unaryFilter:{field:ku(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ku(t.field),op:rF(t.op),value:t.value}}}(n):n instanceof lt?function(t){const r=t.getFilters().map(i=>JO(i));return r.length===1?r[0]:{compositeFilter:{op:iF(t.op),filters:r}}}(n):we(54877,{filter:n})}function sF(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ZO(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t,r,i,o=Ie.min(),u=Ie.min(),h=jt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.wt=e}}function aF(n,e){let t;if(e.document)t=KO(n.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ve.fromSegments(e.noDocument.path),i=gl(e.noDocument.readTime);t=bt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return we(56709);{const r=ve.fromSegments(e.unknownDocument.path),i=gl(e.unknownDocument.version);t=bt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new Pt(i[0],i[1]);return Ie.fromTimestamp(o)}(e.readTime)),t}function FR(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Sg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,u){return{name:sf(o,u.key),fields:u.data.value.mapValue.fields,updateTime:cc(o,u.version.toTimestamp()),createTime:cc(o,u.createTime.toTimestamp())}}(n.wt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:ml(e.version)};else{if(!e.isUnknownDocument())return we(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:ml(e.version)}}return r}function Sg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ml(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function gl(n){const e=new Pt(n.seconds,n.nanoseconds);return Ie.fromTimestamp(e)}function Yo(n,e){const t=(e.baseMutations||[]).map(o=>lE(n.wt,o));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>lE(n.wt,o)),i=Pt.fromMillis(e.localWriteTimeMs);return new Ub(e.batchId,i,t,r)}function Ad(n){const e=gl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?gl(n.lastLimboFreeSnapshotVersion):Ie.min();let r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){const u=o.documents.length;return Ae(u===1,1966,{count:u}),Zn(Pc($O(o.documents[0])))}(n.query):function(o){return Zn(YO(o))}(n.query),new xs(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,jt.fromBase64String(n.resumeToken))}function tD(n,e){const t=ml(e.snapshotVersion),r=ml(e.lastLimboFreeSnapshotVersion);let i;i=bg(e.target)?WO(n.wt,e.target):QO(n.wt,e.target).gt;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:dl(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function qb(n){const e=YO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Tg(e,e.limit,"L"):e}function d0(n,e){return new Fb(e.largestBatchId,lE(n.wt,e.overlayMutation))}function zR(n,e){const t=e.path.lastSegment();return[n,Hn(e.path.popLast()),t]}function jR(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:ml(r.readTime),documentKey:Hn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{getBundleMetadata(e,t){return qR(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:gl(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return qR(e).put(function(i){return{bundleId:i.id,createTime:ml(Xt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return HR(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:qb(o.bundledQuery),readTime:gl(o.readTime)}}(r)})}saveNamedQuery(e,t){return HR(e).put(function(i){return{name:i.name,readTime:ml(Xt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function qR(n){return _n(n,iy)}function HR(n){return _n(n,sy)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,t){this.serializer=e,this.userId=t}static bt(e,t){const r=t.uid||"";return new dy(e,r)}getOverlay(e,t){return ed(e).get(zR(this.userId,t)).next(r=>r?d0(this.serializer,r):null)}getOverlays(e,t){const r=Fi();return X.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,u)=>{const h=new Fb(t,u);i.push(this.St(e,h))}),X.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(Hn(u.getCollectionPath())));const o=[];return i.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(ed(e).X(Y0,h))}),X.waitFor(o)}getOverlaysForCollection(e,t,r){const i=Fi(),o=Hn(t),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return ed(e).J(Y0,u).next(h=>{for(const f of h){const d=d0(this.serializer,f);i.set(d.getKey(),d)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=Fi();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ed(e).te({index:nO,range:h},(f,d,g)=>{const _=d0(this.serializer,d);o.size()<i||_.largestBatchId===u?(o.set(_.getKey(),_),u=_.largestBatchId):g.done()}).next(()=>o)}St(e,t){return ed(e).put(function(i,o,u){const[h,f,d]=zR(o,u.mutation.key);return{userId:o,collectionPath:f,documentId:d,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:af(i.wt,u.mutation)}}(this.serializer,this.userId,t))}}function ed(n){return _n(n,ay)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{Dt(e){return _n(e,xb)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?jt.fromUint8Array(r):jt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(It(e.integerValue));else if("doubleValue"in e){const r=It(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),Yd(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=Ls(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Us(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?fO(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):uy(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):we(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const r=e.fields||{};this.Mt(t,55);for(const i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;const o=e.fields||{};this.Mt(t,53);const u=sc,h=((i=(r=o[u].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(It(h)),this.Nt(u,t),this.Ct(o[u],t)}$t(e,t){const r=e.values||[];this.Mt(t,50);for(const i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),ve.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}Xo.Wt=new Xo;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=255;function uF(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function $R(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const u=uF(255&r[o]);if(i+=u,u!==8)break}return i}(n);return Math.ceil(e/8)}class cF{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.zt(r.value),r=t.next();this.jt()}Ht(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Yt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.zt(r);else if(r<2048)this.zt(960|r>>>6),this.zt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.zt(480|r>>>12),this.zt(128|63&r>>>6),this.zt(128|63&r);else{const i=t.codePointAt(0);this.zt(240|i>>>18),this.zt(128|63&i>>>12),this.zt(128|63&i>>>6),this.zt(128|63&i)}}this.jt()}Xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=t.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Yt()}en(e){const t=this.tn(e),r=$R(t);this.nn(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}rn(e){const t=this.tn(e),r=$R(t);this.nn(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}sn(){this._n(Tu),this._n(255)}an(){this.un(Tu),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}zt(e){const t=255&e;t===0?(this._n(0),this._n(255)):t===Tu?(this._n(Tu),this._n(0)):this._n(t)}Jt(e){const t=255&e;t===0?(this.un(0),this.un(255)):t===Tu?(this.un(Tu),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class hF{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class dF{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class td{constructor(){this.ln=new cF,this.hn=new hF(this.ln),this.Pn=new dF(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}In(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Jo(this.indexId,this.documentKey,this.arrayValue,r)}}function wa(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=GR(n.arrayValue,e.arrayValue),t!==0?t:(t=GR(n.directionalValue,e.directionalValue),t!==0?t:ve.comparator(n.documentKey,e.documentKey)))}function GR(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.En=new ut((t,r)=>Ct.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.An=[];for(const t of e.filters){const r=t;r.isInequality()?this.En=this.En.add(r):this.An.push(r)}}get Rn(){return this.En.size>1}Vn(e){if(Ae(e.collectionGroup===this.collectionId,49279),this.Rn)return!1;const t=K0(e);if(t!==void 0&&!this.mn(t))return!1;const r=Ko(e);let i=new Set,o=0,u=0;for(;o<r.length&&this.mn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.En.size>0){const h=this.En.getIterator().getNext();if(!i.has(h.field.canonicalString())){const f=r[o];if(!this.fn(h,f)||!this.gn(this.dn[u++],f))return!1}++o}for(;o<r.length;++o){const h=r[o];if(u>=this.dn.length||!this.gn(this.dn[u++],h))return!1}return!0}pn(){if(this.Rn)return null;let e=new ut(Ct.comparator);const t=[];for(const r of this.An)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Um(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Um(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Um(r.field,r.dir==="asc"?0:1)));return new mg(mg.UNKNOWN_ID,this.collectionId,t,Qd.empty())}mn(e){for(const t of this.An)if(this.fn(t,e))return!0;return!1}fn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}gn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(n){var e,t;if(Ae(n instanceof Ke||n instanceof lt,20012),n instanceof Ke){if(n instanceof wO){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>Ke.create(n.field,"==",o)))||[];return lt.create(i,"or")}return n}const r=n.filters.map(i=>nD(i));return lt.create(r,n.op)}function fF(n){if(n.getFilters().length===0)return[];const e=hE(nD(n));return Ae(rD(e),7391),uE(e)||cE(e)?[e]:e.getFilters()}function uE(n){return n instanceof Ke}function cE(n){return n instanceof lt&&Nb(n)}function rD(n){return uE(n)||cE(n)||function(t){if(t instanceof lt&&tE(t)){for(const r of t.getFilters())if(!uE(r)&&!cE(r))return!1;return!0}return!1}(n)}function hE(n){if(Ae(n instanceof Ke||n instanceof lt,34018),n instanceof Ke)return n;if(n.filters.length===1)return hE(n.filters[0]);const e=n.filters.map(r=>hE(r));let t=lt.create(e,n.op);return t=Ag(t),rD(t)?t:(Ae(t instanceof lt,64498),Ae(oc(t),40251),Ae(t.filters.length>1,57927),t.filters.reduce((r,i)=>Hb(r,i)))}function Hb(n,e){let t;return Ae(n instanceof Ke||n instanceof lt,38388),Ae(e instanceof Ke||e instanceof lt,25473),t=n instanceof Ke?e instanceof Ke?function(i,o){return lt.create([i,o],"and")}(n,e):WR(n,e):e instanceof Ke?WR(e,n):function(i,o){if(Ae(i.filters.length>0&&o.filters.length>0,48005),oc(i)&&oc(o))return vO(i,o.getFilters());const u=tE(i)?i:o,h=tE(i)?o:i,f=u.filters.map(d=>Hb(d,h));return lt.create(f,"or")}(n,e),Ag(t)}function WR(n,e){if(oc(e))return vO(e,n.getFilters());{const t=e.filters.map(r=>Hb(n,r));return lt.create(t,"or")}}function Ag(n){if(Ae(n instanceof Ke||n instanceof lt,11850),n instanceof Ke)return n;const e=n.getFilters();if(e.length===1)return Ag(e[0]);if(yO(n))return n;const t=e.map(i=>Ag(i)),r=[];return t.forEach(i=>{i instanceof Ke?r.push(i):i instanceof lt&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:lt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(){this.yn=new $b}addToCollectionParentIndex(e,t){return this.yn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(xr.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class $b{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ut(Ge.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ut(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="IndexedDbIndexManager",Em=new Uint8Array(0);class mF{constructor(e,t){this.databaseId=t,this.wn=new $b,this.bn=new Hs(r=>dl(r),(r,i)=>xf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.wn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.wn.add(t)});const o={collectionId:r,parent:Hn(i)};return YR(e).put(o)}return X.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[HP(t),""],!1,!0);return YR(e).J(i).next(o=>{for(const u of o){if(u.collectionId!==t)break;r.push(Bi(u.parent))}return r})}addFieldIndex(e,t){const r=nd(e),i=function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])}}(t);delete i.indexId;const o=r.add(i);if(t.indexState){const u=Au(e);return o.next(h=>{u.put(jR(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=nd(e),i=Au(e),o=Su(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=nd(e),r=Su(e),i=Au(e);return t.X().next(()=>r.X()).next(()=>i.X())}createTargetIndexes(e,t){return X.forEach(this.Sn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new KR(r).pn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=Su(e);let i=!0;const o=new Map;return X.forEach(this.Sn(t),u=>this.Dn(e,u).next(h=>{i&&(i=!!h),o.set(u,h)})).next(()=>{if(i){let u=Ve();const h=[];return X.forEach(o,(f,d)=>{pe(QR,`Using index ${function(L){return`id=${L.indexId}|cg=${L.collectionGroup}|f=${L.fields.map(H=>`${H.fieldPath}:${H.kind}`).join(",")}`}(f)} to execute ${dl(t)}`);const g=function(L,H){const F=K0(H);if(F===void 0)return null;for(const K of wg(L,F.fieldPath))switch(K.op){case"array-contains-any":return K.value.arrayValue.values||[];case"array-contains":return[K.value]}return null}(d,f),_=function(L,H){const F=new Map;for(const K of Ko(H))for(const M of wg(L,K.fieldPath))switch(M.op){case"==":case"in":F.set(K.fieldPath.canonicalString(),M.value);break;case"not-in":case"!=":return F.set(K.fieldPath.canonicalString(),M.value),Array.from(F.values())}return null}(d,f),v=function(L,H){const F=[];let K=!0;for(const M of Ko(H)){const R=M.kind===0?CR(L,M.fieldPath,L.startAt):xR(L,M.fieldPath,L.startAt);F.push(R.value),K&&(K=R.inclusive)}return new $a(F,K)}(d,f),T=function(L,H){const F=[];let K=!0;for(const M of Ko(H)){const R=M.kind===0?xR(L,M.fieldPath,L.endAt):CR(L,M.fieldPath,L.endAt);F.push(R.value),K&&(K=R.inclusive)}return new $a(F,K)}(d,f),b=this.vn(f,d,v),A=this.vn(f,d,T),P=this.Cn(f,d,_),U=this.Fn(f.indexId,g,b,v.inclusive,A,T.inclusive,P);return X.forEach(U,V=>r.Z(V,t.limit).next(L=>{L.forEach(H=>{const F=ve.fromSegments(H.documentKey);u.has(F)||(u=u.add(F),h.push(F))})}))}).next(()=>h)}return X.resolve(null)})}Sn(e){let t=this.bn.get(e);return t||(e.filters.length===0?t=[e]:t=fF(lt.create(e.filters,"and")).map(r=>rE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.bn.set(e,t),t)}Fn(e,t,r,i,o,u,h){const f=(t!=null?t.length:1)*Math.max(r.length,o.length),d=f/(t!=null?t.length:1),g=[];for(let _=0;_<f;++_){const v=t?this.Mn(t[_/d]):Em,T=this.xn(e,v,r[_%d],i),b=this.On(e,v,o[_%d],u),A=h.map(P=>this.xn(e,v,P,!0));g.push(...this.createRange(T,b,A))}return g}xn(e,t,r,i){const o=new Jo(e,ve.empty(),t,r);return i?o:o.In()}On(e,t,r,i){const o=new Jo(e,ve.empty(),t,r);return i?o.In():o}Dn(e,t){const r=new KR(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let u=null;for(const h of o)r.Vn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let r=2;const i=this.Sn(t);return X.forEach(i,o=>this.Dn(e,o).next(u=>{u?r!==0&&u.fields.length<function(f){let d=new ut(Ct.comparator),g=!1;for(const _ of f.filters)for(const v of _.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?g=!0:d=d.add(v.field));for(const _ of f.orderBy)_.field.isKeyField()||(d=d.add(_.field));return d.size+(g?1:0)}(o)&&(r=1):r=0})).next(()=>function(u){return u.limit!==null}(t)&&i.length>1&&r===2?1:r)}Nn(e,t){const r=new td;for(const i of Ko(e)){const o=t.data.field(i.fieldPath);if(o==null)return null;const u=r.Tn(i.kind);Xo.Wt.vt(o,u)}return r.cn()}Mn(e){const t=new td;return Xo.Wt.vt(e,t.Tn(0)),t.cn()}Bn(e,t){const r=new td;return Xo.Wt.vt(hl(this.databaseId,t),r.Tn(function(o){const u=Ko(o);return u.length===0?0:u[u.length-1].kind}(e))),r.cn()}Cn(e,t,r){if(r===null)return[];let i=[];i.push(new td);let o=0;for(const u of Ko(e)){const h=r[o++];for(const f of i)if(this.Ln(t,u.fieldPath)&&nf(h))i=this.kn(i,u,h);else{const d=f.Tn(u.kind);Xo.Wt.vt(h,d)}}return this.qn(i)}vn(e,t,r){return this.Cn(e,t,r.position)}qn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].cn();return t}kn(e,t,r){const i=[...e],o=[];for(const u of r.arrayValue.values||[])for(const h of i){const f=new td;f.seed(h.cn()),Xo.Wt.vt(u,f.Tn(t.kind)),o.push(f)}return o}Ln(e,t){return!!e.filters.find(r=>r instanceof Ke&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=nd(e),i=Au(e);return(t?r.J(Q0,IDBKeyRange.bound(t,t)):r.J()).next(o=>{const u=[];return X.forEach(o,h=>i.get([h.indexId,this.uid]).next(f=>{u.push(function(g,_){const v=_?new Qd(_.sequenceNumber,new xr(gl(_.readTime),new ve(Bi(_.documentKey)),_.largestBatchId)):Qd.empty(),T=g.fields.map(([b,A])=>new Um(Ct.fromServerFormat(b),A));return new mg(g.indexId,g.collectionGroup,T,v)}(h,f))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:De(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=nd(e),o=Au(e);return this.Qn(e).next(u=>i.J(Q0,IDBKeyRange.bound(t,t)).next(h=>X.forEach(h,f=>o.put(jR(f.indexId,this.uid,u,r)))))}updateIndexEntries(e,t){const r=new Map;return X.forEach(t,(i,o)=>{const u=r.get(i.collectionGroup);return(u?X.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),X.forEach(h,f=>this.$n(e,i,f).next(d=>{const g=this.Un(o,f);return d.isEqual(g)?X.resolve():this.Kn(e,o,f,d,g)}))))})}Wn(e,t,r,i){return Su(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Bn(r,t.key),documentKey:t.key.path.toArray()})}Gn(e,t,r,i){return Su(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Bn(r,t.key),t.key.path.toArray()])}$n(e,t,r){const i=Su(e);let o=new ut(wa);return i.te({index:tO,range:IDBKeyRange.only([r.indexId,this.uid,this.Bn(r,t)])},(u,h)=>{o=o.add(new Jo(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>o)}Un(e,t){let r=new ut(wa);const i=this.Nn(t,e);if(i==null)return r;const o=K0(t);if(o!=null){const u=e.data.field(o.fieldPath);if(nf(u))for(const h of u.arrayValue.values||[])r=r.add(new Jo(t.indexId,e.key,this.Mn(h),i))}else r=r.add(new Jo(t.indexId,e.key,Em,i));return r}Kn(e,t,r,i,o){pe(QR,"Updating index entries for document '%s'",t.key);const u=[];return function(f,d,g,_,v){const T=f.getIterator(),b=d.getIterator();let A=wu(T),P=wu(b);for(;A||P;){let U=!1,V=!1;if(A&&P){const L=g(A,P);L<0?V=!0:L>0&&(U=!0)}else A!=null?V=!0:U=!0;U?(_(P),P=wu(b)):V?(v(A),A=wu(T)):(A=wu(T),P=wu(b))}}(i,o,wa,h=>{u.push(this.Wn(e,t,r,h))},h=>{u.push(this.Gn(e,t,r,h))}),X.waitFor(u)}Qn(e){let t=1;return Au(e).te({index:eO,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,h)=>wa(u,h)).filter((u,h,f)=>!h||wa(u,f[h-1])!==0);const i=[];i.push(e);for(const u of r){const h=wa(u,e),f=wa(u,t);if(h===0)i[0]=e.In();else if(h>0&&f<0)i.push(u),i.push(u.In());else if(f>0)break}i.push(t);const o=[];for(let u=0;u<i.length;u+=2){if(this.zn(i[u],i[u+1]))return[];const h=[i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,Em,[]],f=[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,Em,[]];o.push(IDBKeyRange.bound(h,f))}return o}zn(e,t){return wa(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(XR)}getMinOffset(e,t){return X.mapArray(this.Sn(t),r=>this.Dn(e,r).next(i=>i||we(44426))).next(XR)}}function YR(n){return _n(n,Zd)}function Su(n){return _n(n,Eg)}function nd(n){return _n(n,Cb)}function Au(n){return _n(n,vg)}function XR(n){Ae(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Ab(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new xr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iD=41943040;class jn{static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(n,e,t){const r=n.store(ii),i=n.store(tc),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const f=r.te({range:u},(g,_,v)=>(h++,v.delete()));o.push(f.next(()=>{Ae(h===1,47070,{batchId:t.batchId})}));const d=[];for(const g of t.mutations){const _=XP(e,g.key.path,t.batchId);o.push(i.delete(_)),d.push(g.key)}return X.waitFor(o).next(()=>d)}function Ig(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw we(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(iD,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);class fy{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.jn={}}static bt(e,t,r,i){Ae(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new fy(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ta(e).te({index:tl,range:r},(i,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=Vu(e),u=Ta(e);return u.add({}).next(h=>{Ae(typeof h=="number",49019);const f=new Ub(h,t,r,i),d=function(T,b,A){const P=A.baseMutations.map(V=>af(T.wt,V)),U=A.mutations.map(V=>af(T.wt,V));return{userId:b,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:P,mutations:U}}(this.serializer,this.userId,f),g=[];let _=new ut((v,T)=>De(v.canonicalString(),T.canonicalString()));for(const v of i){const T=XP(this.userId,v.key.path,h);_=_.add(v.key.path.popLast()),g.push(u.put(d)),g.push(o.put(T,QB))}return _.forEach(v=>{g.push(this.indexManager.addToCollectionParentIndex(e,v))}),e.addOnCommittedListener(()=>{this.jn[h]=f.keys()}),X.waitFor(g).next(()=>f)})}lookupMutationBatch(e,t){return Ta(e).get(t).next(r=>r?(Ae(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),Yo(this.serializer,r)):null)}Hn(e,t){return this.jn[t]?X.resolve(this.jn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.jn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Ta(e).te({index:tl,range:i},(u,h,f)=>{h.userId===this.userId&&(Ae(h.batchId>=r,47524,{Jn:r}),o=Yo(this.serializer,h)),f.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Ma;return Ta(e).te({index:tl,range:t,reverse:!0},(i,o,u)=>{r=o.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Ma],[this.userId,Number.POSITIVE_INFINITY]);return Ta(e).J(tl,t).next(r=>r.map(i=>Yo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Bm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Vu(e).te({range:i},(u,h,f)=>{const[d,g,_]=u,v=Bi(g);if(d===this.userId&&t.path.isEqual(v))return Ta(e).get(_).next(T=>{if(!T)throw we(61480,{Yn:u,batchId:_});Ae(T.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:T.userId,batchId:_}),o.push(Yo(this.serializer,T))});f.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ut(De);const i=[];return t.forEach(o=>{const u=Bm(this.userId,o.path),h=IDBKeyRange.lowerBound(u),f=Vu(e).te({range:h},(d,g,_)=>{const[v,T,b]=d,A=Bi(T);v===this.userId&&o.path.isEqual(A)?r=r.add(b):_.done()});i.push(f)}),X.waitFor(i).next(()=>this.Zn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=Bm(this.userId,r),u=IDBKeyRange.lowerBound(o);let h=new ut(De);return Vu(e).te({range:u},(f,d,g)=>{const[_,v,T]=f,b=Bi(v);_===this.userId&&r.isPrefixOf(b)?b.length===i&&(h=h.add(T)):g.done()}).next(()=>this.Zn(e,h))}Zn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(Ta(e).get(o).next(u=>{if(u===null)throw we(35274,{batchId:o});Ae(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:o}),r.push(Yo(this.serializer,u))}))}),X.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return sD(e.he,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Xn(t.batchId)}),X.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Xn(e){delete this.jn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return X.resolve();const r=IDBKeyRange.lowerBound(function(u){return[u]}(this.userId)),i=[];return Vu(e).te({range:r},(o,u,h)=>{if(o[0]===this.userId){const f=Bi(o[1]);i.push(f)}else h.done()}).next(()=>{Ae(i.length===0,56720,{er:i.map(o=>o.canonicalString())})})})}containsKey(e,t){return aD(e,this.userId,t)}tr(e){return oD(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:Ma,lastStreamToken:""})}}function aD(n,e,t){const r=Bm(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return Vu(n).te({range:o,ee:!0},(h,f,d)=>{const[g,_,v]=h;g===e&&_===i&&(u=!0),d.done()}).next(()=>u)}function Ta(n){return _n(n,ii)}function Vu(n){return _n(n,tc)}function oD(n){return _n(n,Xd)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new yl(0)}static ir(){return new yl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.sr(e).next(t=>{const r=new yl(t.highestTargetId);return t.highestTargetId=r.next(),this._r(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.sr(e).next(t=>Ie.fromTimestamp(new Pt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.sr(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.sr(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this._r(e,i)))}addTargetData(e,t){return this.ar(e,t).next(()=>this.sr(e).next(r=>(r.targetCount+=1,this.ur(t,r),this._r(e,r))))}updateTargetData(e,t){return this.ar(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Iu(e).delete(t.targetId)).next(()=>this.sr(e)).next(r=>(Ae(r.targetCount>0,8065),r.targetCount-=1,this._r(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Iu(e).te((u,h)=>{const f=Ad(h);f.sequenceNumber<=t&&r.get(f.targetId)===null&&(i++,o.push(this.removeTargetData(e,f)))}).next(()=>X.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Iu(e).te((r,i)=>{const o=Ad(i);t(o)})}sr(e){return ZR(e).get(_g).next(t=>(Ae(t!==null,2888),t))}_r(e,t){return ZR(e).put(_g,t)}ar(e,t){return Iu(e).put(tD(this.serializer,t))}ur(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.sr(e).next(t=>t.targetCount)}getTargetData(e,t){const r=dl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Iu(e).te({range:i,index:ZP},(u,h,f)=>{const d=Ad(h);xf(t,d.target)&&(o=d,f.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=Ra(e);return t.forEach(u=>{const h=Hn(u.path);i.push(o.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,u))}),X.waitFor(i)}removeMatchingKeys(e,t,r){const i=Ra(e);return X.forEach(t,o=>{const u=Hn(o.path);return X.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=Ra(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ra(e);let o=Ve();return i.te({range:r,ee:!0},(u,h,f)=>{const d=Bi(u[1]),g=new ve(d);o=o.add(g)}).next(()=>o)}containsKey(e,t){const r=Hn(t.path),i=IDBKeyRange.bound([r],[HP(r)],!1,!0);let o=0;return Ra(e).te({index:Rb,ee:!0,range:i},([u,h],f,d)=>{u!==0&&(o++,d.done())}).next(()=>o>0)}Rt(e,t){return Iu(e).get(t).next(r=>r?Ad(r):null)}}function Iu(n){return _n(n,nc)}function ZR(n){return _n(n,ol)}function Ra(n){return _n(n,rc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="LruGarbageCollector",yF=1048576;function t1([n,e],[t,r]){const i=De(n,t);return i===0?De(e,r):i}class _F{constructor(e){this.cr=e,this.buffer=new ut(t1),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();t1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){pe(e1,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){io(t)?pe(e1,"Ignoring IndexedDB error during garbage collection: ",t):await ro(t)}await this.Ir(3e5)})}}class vF{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return X.resolve(ar.le);const r=new _F(t);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(JR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JR):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,i,o,u,h,f,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,u=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,h=Date.now(),this.removeTargets(e,r,t))).next(_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(d=Date.now(),Du()<=He.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${i} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:_})))}}function uD(n,e){return new vF(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,t){this.db=e,this.garbageCollector=uD(this,t)}dr(e){const t=this.Vr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ar(e,t){return this.mr(e,(r,i)=>t(i))}addReference(e,t,r){return bm(e,r)}removeReference(e,t,r){return bm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return bm(e,t)}gr(e,t){return function(i,o){let u=!1;return oD(i).ne(h=>aD(i,h,o).next(f=>(f&&(u=!0),X.resolve(!f)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.mr(e,(u,h)=>{if(h<=t){const f=this.gr(e,u).next(d=>{if(!d)return o++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Ie.min()),Ra(e).delete(function(_){return[0,Hn(_.path)]}(u))))});i.push(f)}}).next(()=>X.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return bm(e,t)}mr(e,t){const r=Ra(e);let i,o=ar.le;return r.te({index:Rb},([u,h],{path:f,sequenceNumber:d})=>{u===0?(o!==ar.le&&t(new ve(Bi(i)),o),o=d,i=f):o=ar.le}).next(()=>{o!==ar.le&&t(new ve(Bi(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function bm(n,e){return Ra(n).put(function(r,i){return{targetId:0,path:Hn(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.changes=new Hs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Ho(e).put(r)}removeEntry(e,t,r){return Ho(e).delete(function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Sg(u),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.pr(e,r)))}getEntry(e,t){let r=bt.newInvalidDocument(t);return Ho(e).te({index:Fm,range:IDBKeyRange.only(rd(t))},(i,o)=>{r=this.yr(t,o)}).next(()=>r)}wr(e,t){let r={size:0,document:bt.newInvalidDocument(t)};return Ho(e).te({index:Fm,range:IDBKeyRange.only(rd(t))},(i,o)=>{r={document:this.yr(t,o),size:Ig(o)}}).next(()=>r)}getEntries(e,t){let r=lr();return this.br(e,t,(i,o)=>{const u=this.yr(i,o);r=r.insert(i,u)}).next(()=>r)}Sr(e,t){let r=lr(),i=new Et(ve.comparator);return this.br(e,t,(o,u)=>{const h=this.yr(o,u);r=r.insert(o,h),i=i.insert(o,Ig(u))}).next(()=>({documents:r,Dr:i}))}br(e,t,r){if(t.isEmpty())return X.resolve();let i=new ut(i1);t.forEach(f=>i=i.add(f));const o=IDBKeyRange.bound(rd(i.first()),rd(i.last())),u=i.getIterator();let h=u.getNext();return Ho(e).te({index:Fm,range:o},(f,d,g)=>{const _=ve.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;h&&i1(h,_)<0;)r(h,null),h=u.getNext();h&&h.isEqual(_)&&(r(h,d),h=u.hasNext()?u.getNext():null),h?g.H(rd(h)):g.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),Sg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ho(e).J(IDBKeyRange.bound(h,f,!0)).next(d=>{o==null||o.incrementDocumentReadCount(d.length);let g=lr();for(const _ of d){const v=this.yr(ve.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);v.isFoundDocument()&&(Of(t,v)||i.has(v.key))&&(g=g.insert(v.key,v))}return g})}getAllFromCollectionGroup(e,t,r,i){let o=lr();const u=r1(t,r),h=r1(t,xr.max());return Ho(e).te({index:JP,range:IDBKeyRange.bound(u,h,!0)},(f,d,g)=>{const _=this.yr(ve.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(_.key,_),o.size===i&&g.done()}).next(()=>o)}newChangeBuffer(e){return new wF(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return n1(e).get(W0).next(t=>(Ae(!!t,20021),t))}pr(e,t){return n1(e).put(W0,t)}yr(e,t){if(t){const r=aF(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ie.min())))return r}return bt.newInvalidDocument(e)}}function hD(n){return new bF(n)}class wF extends cD{constructor(e,t){super(),this.vr=e,this.trackRemovals=t,this.Cr=new Hs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new ut((o,u)=>De(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Cr.get(o);if(t.push(this.vr.removeEntry(e,o,h.readTime)),u.isValidDocument()){const f=FR(this.vr.serializer,u);i=i.add(o.path.popLast());const d=Ig(f);r+=d-h.size,t.push(this.vr.addEntry(e,o,f))}else if(r-=h.size,this.trackRemovals){const f=FR(this.vr.serializer,u.convertToNoDocument(Ie.min()));t.push(this.vr.addEntry(e,o,f))}}),i.forEach(o=>{t.push(this.vr.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.vr.updateMetadata(e,r)),X.waitFor(t)}getFromCache(e,t){return this.vr.wr(e,t).next(r=>(this.Cr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.vr.Sr(e,t).next(({documents:r,Dr:i})=>(i.forEach((o,u)=>{this.Cr.set(o,{size:u,readTime:r.get(o).readTime})}),r))}}function n1(n){return _n(n,Jd)}function Ho(n){return _n(n,yg)}function rd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function r1(n,e){const t=e.documentKey.path.toArray();return[n,Sg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function i1(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=De(t[o],r[o]),i)return i;return i=De(t.length,r.length),i||(i=De(t[t.length-2],r[r.length-2]),i||De(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Vd(r.mutation,i,or.empty(),Pt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ve()){const i=Fi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let u=Td();return o.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Fi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ve()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,i){let o=lr();const u=Md(),h=function(){return Md()}();return t.forEach((f,d)=>{const g=r.get(d.key);i.has(d.key)&&(g===void 0||g.mutation instanceof $s)?o=o.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),Vd(g.mutation,d,g.mutation.getFieldMask(),Pt.now())):u.set(d.key,or.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((d,g)=>u.set(d,g)),t.forEach((d,g)=>{var _;return h.set(d,new TF(g,(_=u.get(d))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Md();let i=new Et((u,h)=>u-h),o=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const d=t.get(f);if(d===null)return;let g=r.get(f)||or.empty();g=h.applyToLocalView(d,g),r.set(f,g);const _=(i.get(h.batchId)||Ve()).add(f);i=i.insert(h.batchId,_)})}).next(()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,g=f.value,_=xO();g.forEach(v=>{if(!o.has(v)){const T=VO(t.get(v),r.get(v));T!==null&&_.set(v,T),o=o.add(v)}}),u.push(this.documentOverlayCache.saveOverlays(e,d,_))}return X.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(u){return ve.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):X.resolve(Fi());let h=ec,f=o;return u.next(d=>X.forEach(d,(g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(g)?X.resolve():this.remoteDocumentCache.getEntry(e,g).next(v=>{f=f.insert(g,v)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,f,d,Ve())).next(g=>({batchId:h,changes:CO(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(r=>{let i=Td();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let u=Td();return this.indexManager.getCollectionParents(e,o).next(h=>X.forEach(h,f=>{const d=function(_,v){return new qs(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(g=>{g.forEach((_,v)=>{u=u.insert(_,v)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(u=>{o.forEach((f,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,bt.newInvalidDocument(g)))});let h=Td();return u.forEach((f,d)=>{const g=o.get(f);g!==void 0&&Vd(g.mutation,d,or.empty(),Pt.now()),Of(t,d)&&(h=h.insert(f,d))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return X.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Xt(i.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(i){return{name:i.name,query:qb(i.bundledQuery),readTime:Xt(i.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(){this.overlays=new Et(ve.comparator),this.Or=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Fi();return X.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),X.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const i=Fi(),o=t.length+1,u=new ve(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return X.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Et((d,g)=>d-g);const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let g=o.get(d.largestBatchId);g===null&&(g=Fi(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const h=Fi(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((d,g)=>h.set(d,g)),!(h.size()>=i)););return X.resolve(h)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Fb(t,r));let o=this.Or.get(t);o===void 0&&(o=Ve(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.Nr=new ut(Sn.Br),this.Lr=new ut(Sn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Sn(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Sn(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new ve(new Ge([])),r=new Sn(t,e),i=new Sn(t,e+1),o=[];return this.Lr.forEachInRange([r,i],u=>{this.Qr(u),o.push(u.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new ve(new Ge([])),r=new Sn(t,e),i=new Sn(t,e+1);let o=Ve();return this.Lr.forEachInRange([r,i],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Sn(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Sn{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return ve.comparator(e.key,t.key)||De(e.Gr,t.Gr)}static kr(e,t){return De(e.Gr,t.Gr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new ut(Sn.Br)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Ub(o,t,r,i);this.mutationQueue.push(u);for(const h of i)this.zr=this.zr.add(new Sn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return X.resolve(u)}lookupMutationBatch(e,t){return X.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Hr(r),o=i<0?0:i;return X.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Ma:this.Jn-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Sn(t,0),i=new Sn(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,i],u=>{const h=this.jr(u.Gr);o.push(h)}),X.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ut(De);return t.forEach(i=>{const o=new Sn(i,0),u=new Sn(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,u],h=>{r=r.add(h.Gr)})}),X.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;ve.isDocumentKey(o)||(o=o.child(""));const u=new Sn(new ve(o),0);let h=new ut(De);return this.zr.forEachWhile(f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(h=h.add(f.Gr)),!0)},u),X.resolve(this.Jr(h))}Jr(e){const t=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ae(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return X.forEach(t.mutations,i=>{const o=new Sn(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Sn(t,0),i=this.zr.firstAfterOrEqual(r);return X.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e){this.Zr=e,this.docs=function(){return new Et(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,u=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():bt.newInvalidDocument(t))}getEntries(e,t){let r=lr();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():bt.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=lr();const u=t.path,h=new ve(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||Ab(GP(g),r)<=0||(i.has(g.key)||Of(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return X.resolve(o)}getAllFromCollectionGroup(e,t,r,i){we(9500)}Xr(e,t){return X.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new xF(this)}getSize(e){return X.resolve(this.size)}}class xF extends cD{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),X.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.persistence=e,this.ei=new Hs(t=>dl(t),xf),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.ti=0,this.ni=new Gb,this.targetCount=0,this.ri=yl.rr()}forEachTarget(e,t){return this.ei.forEach((r,i)=>t(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),X.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new yl(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.ar(t),X.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.ei.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ei.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),X.waitFor(o).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),X.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(u=>{o.push(i.markPotentiallyOrphaned(e,u))}),X.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,t){this.ii={},this.overlays={},this.si=new ar(0),this.oi=!1,this.oi=!0,this._i=new IF,this.referenceDelegate=e(this),this.ai=new PF(this),this.indexManager=new pF,this.remoteDocumentCache=function(i){return new CF(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new eD(t),this.ci=new SF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new AF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new RF(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const i=new OF(this.si.next());return this.referenceDelegate.li(),r(i).next(o=>this.referenceDelegate.hi(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Pi(e,t){return X.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class OF extends WP{constructor(e){super(),this.currentSequenceNumber=e}}class py{constructor(e){this.persistence=e,this.Ti=new Gb,this.Ii=null}static Ei(e){return new py(e)}get di(){if(this.Ii)return this.Ii;throw we(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),X.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,r=>{const i=ve.fromPath(r);return this.Ai(e,i).next(o=>{o||t.removeEntry(i,Ie.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return X.or([()=>X.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Rg{constructor(e,t){this.persistence=e,this.Ri=new Hs(r=>Hn(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=uD(this,t)}static Ei(e,t){return new Rg(e,t)}li(){}hi(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return X.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(o=>o?X.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Xr(e,u=>this.gr(e,u,t).next(h=>{h||(r++,o.removeEntry(u,Ie.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),X.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jm(e.data.value)),t}gr(e,t,r){return X.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.Ri.get(t);return X.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e){this.serializer=e}q(e,t,r,i){const o=new ry("createOrUpgrade",t);r<1&&i>=1&&(function(f){f.createObjectStore(Cf)}(e),function(f){f.createObjectStore(Xd,{keyPath:WB}),f.createObjectStore(ii,{keyPath:gR,autoIncrement:!0}).createIndex(tl,yR,{unique:!0}),f.createObjectStore(tc)}(e),s1(e),function(f){f.createObjectStore(Wo)}(e));let u=X.resolve();return r<3&&i>=3&&(r!==0&&(function(f){f.deleteObjectStore(rc),f.deleteObjectStore(nc),f.deleteObjectStore(ol)}(e),s1(e)),u=u.next(()=>function(f){const d=f.store(ol),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ie.min().toTimestamp(),targetCount:0};return d.put(_g,g)}(o))),r<4&&i>=4&&(r!==0&&(u=u.next(()=>function(f,d){return d.store(ii).J().next(_=>{f.deleteObjectStore(ii),f.createObjectStore(ii,{keyPath:gR,autoIncrement:!0}).createIndex(tl,yR,{unique:!0});const v=d.store(ii),T=_.map(b=>v.put(b));return X.waitFor(T)})}(e,o))),u=u.next(()=>{(function(f){f.createObjectStore(ic,{keyPath:r6})})(e)})),r<5&&i>=5&&(u=u.next(()=>this.Vi(o))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore(Jd)}(e),this.mi(o)))),r<7&&i>=7&&(u=u.next(()=>this.fi(o))),r<8&&i>=8&&(u=u.next(()=>this.gi(e,o))),r<9&&i>=9&&(u=u.next(()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(u=u.next(()=>this.pi(o))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore(iy,{keyPath:i6})})(e),function(f){f.createObjectStore(sy,{keyPath:s6})}(e)})),r<12&&i>=12&&(u=u.next(()=>{(function(f){const d=f.createObjectStore(ay,{keyPath:d6});d.createIndex(Y0,f6,{unique:!1}),d.createIndex(nO,p6,{unique:!1})})(e)})),r<13&&i>=13&&(u=u.next(()=>function(f){const d=f.createObjectStore(yg,{keyPath:YB});d.createIndex(Fm,XB),d.createIndex(JP,JB)}(e)).next(()=>this.yi(e,o)).next(()=>e.deleteObjectStore(Wo))),r<14&&i>=14&&(u=u.next(()=>this.wi(e,o))),r<15&&i>=15&&(u=u.next(()=>function(f){f.createObjectStore(Cb,{keyPath:a6,autoIncrement:!0}).createIndex(Q0,o6,{unique:!1}),f.createObjectStore(vg,{keyPath:l6}).createIndex(eO,u6,{unique:!1}),f.createObjectStore(Eg,{keyPath:c6}).createIndex(tO,h6,{unique:!1})}(e))),r<16&&i>=16&&(u=u.next(()=>{t.objectStore(vg).clear()}).next(()=>{t.objectStore(Eg).clear()})),r<17&&i>=17&&(u=u.next(()=>{(function(f){f.createObjectStore(xb,{keyPath:m6})})(e)})),u}mi(e){let t=0;return e.store(Wo).te((r,i)=>{t+=Ig(i)}).next(()=>{const r={byteSize:t};return e.store(Jd).put(W0,r)})}Vi(e){const t=e.store(Xd),r=e.store(ii);return t.J().next(i=>X.forEach(i,o=>{const u=IDBKeyRange.bound([o.userId,Ma],[o.userId,o.lastAcknowledgedBatchId]);return r.J(tl,u).next(h=>X.forEach(h,f=>{Ae(f.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const d=Yo(this.serializer,f);return sD(e,o.userId,d).next(()=>{})}))}))}fi(e){const t=e.store(rc),r=e.store(Wo);return e.store(ol).get(_g).next(i=>{const o=[];return r.te((u,h)=>{const f=new Ge(u),d=function(_){return[0,Hn(_)]}(f);o.push(t.get(d).next(g=>g?X.resolve():(_=>t.put({targetId:0,path:Hn(_),sequenceNumber:i.highestListenSequenceNumber}))(f)))}).next(()=>X.waitFor(o))})}gi(e,t){e.createObjectStore(Zd,{keyPath:n6});const r=t.store(Zd),i=new $b,o=u=>{if(i.add(u)){const h=u.lastSegment(),f=u.popLast();return r.put({collectionId:h,parent:Hn(f)})}};return t.store(Wo).te({ee:!0},(u,h)=>{const f=new Ge(u);return o(f.popLast())}).next(()=>t.store(tc).te({ee:!0},([u,h,f],d)=>{const g=Bi(h);return o(g.popLast())}))}pi(e){const t=e.store(nc);return t.te((r,i)=>{const o=Ad(i),u=tD(this.serializer,o);return t.put(u)})}yi(e,t){const r=t.store(Wo),i=[];return r.te((o,u)=>{const h=t.store(yg),f=function(_){return _.document?new ve(Ge.fromString(_.document.name).popFirst(5)):_.noDocument?ve.fromSegments(_.noDocument.path):_.unknownDocument?ve.fromSegments(_.unknownDocument.path):we(36783)}(u).path.toArray(),d={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(h.put(d))}).next(()=>X.waitFor(i))}wi(e,t){const r=t.store(ii),i=hD(this.serializer),o=new Kb(py.Ei,this.serializer.wt);return r.J().next(u=>{const h=new Map;return u.forEach(f=>{var d;let g=(d=h.get(f.userId))!==null&&d!==void 0?d:Ve();Yo(this.serializer,f).keys().forEach(_=>g=g.add(_)),h.set(f.userId,g)}),X.forEach(h,(f,d)=>{const g=new An(d),_=dy.bt(this.serializer,g),v=o.getIndexManager(g),T=fy.bt(g,this.serializer,v,o.referenceDelegate);return new dD(i,T,_,v).recalculateAndSaveOverlaysForDocumentKeys(new X0(t,ar.le),f).next()})})}}function s1(n){n.createObjectStore(rc,{keyPath:e6}).createIndex(Rb,t6,{unique:!0}),n.createObjectStore(nc,{keyPath:"targetId"}).createIndex(ZP,ZB,{unique:!0}),n.createObjectStore(ol)}const Sa="IndexedDbPersistence",f0=18e5,p0=5e3,m0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",fD="main";class Wb{constructor(e,t,r,i,o,u,h,f,d,g,_=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.bi=o,this.window=u,this.document=h,this.Si=d,this.Di=g,this.Ci=_,this.si=null,this.oi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fi=null,this.inForeground=!1,this.Mi=null,this.xi=null,this.Oi=Number.NEGATIVE_INFINITY,this.Ni=v=>Promise.resolve(),!Wb.C())throw new fe(ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new EF(this,i),this.Bi=t+fD,this.serializer=new eD(f),this.Li=new zi(this.Bi,this.Ci,new DF(this.serializer)),this._i=new lF,this.ai=new gF(this.referenceDelegate,this.serializer),this.remoteDocumentCache=hD(this.serializer),this.ci=new oF,this.window&&this.window.localStorage?this.ki=this.window.localStorage:(this.ki=null,g===!1&&Yt(Sa,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.qi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new fe(ie.FAILED_PRECONDITION,m0);return this.Qi(),this.$i(),this.Ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ai.getHighestSequenceNumber(e))}).then(e=>{this.si=new ar(e,this.Si)}).then(()=>{this.oi=!0}).catch(e=>(this.Li&&this.Li.close(),Promise.reject(e)))}Ki(e){return this.Ni=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Li.U(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.bi.enqueueAndForget(async()=>{this.started&&await this.qi()}))}qi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>wm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Wi(e).next(t=>{t||(this.isPrimary=!1,this.bi.enqueueRetryable(()=>this.Ni(!1)))})}).next(()=>this.Gi(e)).next(t=>this.isPrimary&&!t?this.zi(e).next(()=>!1):!!t&&this.ji(e).next(()=>!0))).catch(e=>{if(io(e))return pe(Sa,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pe(Sa,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.bi.enqueueRetryable(()=>this.Ni(e)),this.isPrimary=e})}Wi(e){return id(e).get(bu).next(t=>X.resolve(this.Hi(t)))}Ji(e){return wm(e).delete(this.clientId)}async Yi(){if(this.isPrimary&&!this.Zi(this.Oi,f0)){this.Oi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=_n(t,ic);return r.J().next(i=>{const o=this.Xi(i,f0),u=i.filter(h=>o.indexOf(h)===-1);return X.forEach(u,h=>r.delete(h.clientId)).next(()=>u)})}).catch(()=>[]);if(this.ki)for(const t of e)this.ki.removeItem(this.es(t.clientId))}}Ui(){this.xi=this.bi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.qi().then(()=>this.Yi()).then(()=>this.Ui()))}Hi(e){return!!e&&e.ownerId===this.clientId}Gi(e){return this.Di?X.resolve(!0):id(e).get(bu).next(t=>{if(t!==null&&this.Zi(t.leaseTimestampMs,p0)&&!this.ts(t.ownerId)){if(this.Hi(t)&&this.networkEnabled)return!0;if(!this.Hi(t)){if(!t.allowTabSynchronization)throw new fe(ie.FAILED_PRECONDITION,m0);return!1}}return!(!this.networkEnabled||!this.inForeground)||wm(e).J().next(r=>this.Xi(r,p0).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,u=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(o||u&&h)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&pe(Sa,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.oi=!1,this.ns(),this.xi&&(this.xi.cancel(),this.xi=null),this.rs(),this.ss(),await this.Li.runTransaction("shutdown","readwrite",[Cf,ic],e=>{const t=new X0(e,ar.le);return this.zi(t).next(()=>this.Ji(t))}),this.Li.close(),this._s()}Xi(e,t){return e.filter(r=>this.Zi(r.updateTimeMs,t)&&!this.ts(r.clientId))}us(){return this.runTransaction("getActiveClients","readonly",e=>wm(e).J().next(t=>this.Xi(t,f0).map(r=>r.clientId)))}get started(){return this.oi}getGlobalsCache(){return this._i}getMutationQueue(e,t){return fy.bt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new mF(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return dy.bt(this.serializer,e)}getBundleCache(){return this.ci}runTransaction(e,t,r){pe(Sa,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",o=function(f){return f===17?_6:f===16?y6:f===15?Pb:f===14?sO:f===13?iO:f===12?g6:f===11?rO:void we(60245)}(this.Ci);let u;return this.Li.runTransaction(e,i,o,h=>(u=new X0(h,this.si?this.si.next():ar.le),t==="readwrite-primary"?this.Wi(u).next(f=>!!f||this.Gi(u)).next(f=>{if(!f)throw Yt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.bi.enqueueRetryable(()=>this.Ni(!1)),new fe(ie.FAILED_PRECONDITION,KP);return r(u)}).next(f=>this.ji(u).next(()=>f)):this.cs(u).next(()=>r(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}cs(e){return id(e).get(bu).next(t=>{if(t!==null&&this.Zi(t.leaseTimestampMs,p0)&&!this.ts(t.ownerId)&&!this.Hi(t)&&!(this.Di||this.allowTabSynchronization&&t.allowTabSynchronization))throw new fe(ie.FAILED_PRECONDITION,m0)})}ji(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return id(e).put(bu,t)}static C(){return zi.C()}zi(e){const t=id(e);return t.get(bu).next(r=>this.Hi(r)?(pe(Sa,"Releasing primary lease."),t.delete(bu)):X.resolve())}Zi(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Yt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Qi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Mi=()=>{this.bi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.qi()))},this.document.addEventListener("visibilitychange",this.Mi),this.inForeground=this.document.visibilityState==="visible")}rs(){this.Mi&&(this.document.removeEventListener("visibilitychange",this.Mi),this.Mi=null)}$i(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Fi=()=>{this.ns();const t=/(?:Version|Mobile)\/1[456]/;Sx()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.bi.enterRestrictedMode(!0),this.bi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Fi))}ss(){this.Fi&&(this.window.removeEventListener("pagehide",this.Fi),this.Fi=null)}ts(e){var t;try{const r=((t=this.ki)===null||t===void 0?void 0:t.getItem(this.es(e)))!==null;return pe(Sa,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Yt(Sa,"Failed to get zombied client id.",r),!1}}ns(){if(this.ki)try{this.ki.setItem(this.es(this.clientId),String(Date.now()))}catch(e){Yt("Failed to set zombie client id.",e)}}_s(){if(this.ki)try{this.ki.removeItem(this.es(this.clientId))}catch{}}es(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function id(n){return _n(n,Cf)}function wm(n){return _n(n,ic)}function Qb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=i}static Ps(e,t){let r=Ve(),i=Ve();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Yb(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return Sx()?8:QP(Vt())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.Rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Vs(e,t,i,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new NF;return this.fs(e,t,u).next(h=>{if(o.result=h,this.Is)return this.gs(e,t,u,h.size)})}).next(()=>o.result)}gs(e,t,r,i){return r.documentReadCount<this.Es?(Du()<=He.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Nu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),X.resolve()):(Du()<=He.DEBUG&&pe("QueryEngine","Query:",Nu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Du()<=He.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Nu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(t))):X.resolve())}Rs(e,t){if(PR(t))return X.resolve(null);let r=Zn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Tg(t,null,"F"),r=Zn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=Ve(...o);return this.As.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const d=this.ps(t,h);return this.ys(t,d,u,f.readTime)?this.Rs(e,Tg(t,null,"F")):this.ws(e,d,t,f)}))})))}Vs(e,t,r,i){return PR(t)||i.isEqual(Ie.min())?X.resolve(null):this.As.getDocuments(e,r).next(o=>{const u=this.ps(t,o);return this.ys(t,u,r,i)?X.resolve(null):(Du()<=He.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Nu(t)),this.ws(e,u,t,$P(i,ec)).next(h=>h))})}ps(e,t){let r=new ut(IO(e));return t.forEach((i,o)=>{Of(e,o)&&(r=r.add(o))}),r}ys(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}fs(e,t,r){return Du()<=He.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Nu(t)),this.As.getDocumentsMatchingQuery(e,t,xr.min(),r)}ws(e,t,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="LocalStore",kF=3e8;class MF{constructor(e,t,r,i){this.persistence=e,this.bs=t,this.serializer=i,this.Ss=new Et(De),this.Ds=new Hs(o=>dl(o),xf),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dD(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function mD(n,e,t,r){return new MF(n,e,t,r)}async function gD(n,e){const t=Ee(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let f=Ve();for(const d of i){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of o){h.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(d=>({Ms:d,removedBatchIds:u,addedBatchIds:h}))})})}function VF(n,e){const t=Ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(h,f,d,g){const _=d.batch,v=_.keys();let T=X.resolve();return v.forEach(b=>{T=T.next(()=>g.getEntry(f,b)).next(A=>{const P=d.docVersions.get(b);Ae(P!==null,48541),A.version.compareTo(P)<0&&(_.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),g.addEntry(A)))})}),T.next(()=>h.mutationQueue.removeMutationBatch(f,_))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=Ve();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function yD(n){const e=Ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function LF(n,e){const t=Ee(n),r=e.snapshotVersion;let i=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Cs.newChangeBuffer({trackRemovals:!0});i=t.Ss;const h=[];e.targetChanges.forEach((g,_)=>{const v=i.get(_);if(!v)return;h.push(t.ai.removeMatchingKeys(o,g.removedDocuments,_).next(()=>t.ai.addMatchingKeys(o,g.addedDocuments,_)));let T=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(jt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),i=i.insert(_,T),function(A,P,U){return A.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=kF?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(v,T,g)&&h.push(t.ai.updateTargetData(o,T))});let f=lr(),d=Ve();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),h.push(_D(o,u,e.documentUpdates).next(g=>{f=g.xs,d=g.Os})),!r.isEqual(Ie.min())){const g=t.ai.getLastRemoteSnapshotVersion(o).next(_=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(g)}return X.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,d)).next(()=>f)}).then(o=>(t.Ss=i,o))}function _D(n,e,t){let r=Ve(),i=Ve();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=lr();return t.forEach((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(h)),f.isNoDocument()&&f.version.isEqual(Ie.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):pe(Xb,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)}),{xs:u,Os:i}})}function UF(n,e){const t=Ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ma),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function hc(n,e){const t=Ee(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ai.getTargetData(r,e).next(o=>o?(i=o,X.resolve(i)):t.ai.allocateTargetId(r).next(u=>(i=new xs(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function dc(n,e,t){const r=Ee(n),i=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!io(u))throw u;pe(Xb,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function Cg(n,e,t){const r=Ee(n);let i=Ie.min(),o=Ve();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,d,g){const _=Ee(f),v=_.Ds.get(g);return v!==void 0?X.resolve(_.Ss.get(v)):_.ai.getTargetData(d,g)}(r,u,Zn(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(u,h.targetId).next(f=>{o=f})}).next(()=>r.bs.getDocumentsMatchingQuery(u,e,t?i:Ie.min(),t?o:Ve())).next(h=>(bD(r,AO(e),h),{documents:h,Ns:o})))}function vD(n,e){const t=Ee(n),r=Ee(t.ai),i=t.Ss.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.Rt(o,e).next(u=>u?u.target:null))}function ED(n,e){const t=Ee(n),r=t.vs.get(e)||Ie.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Cs.getAllFromCollectionGroup(i,e,$P(r,ec),Number.MAX_SAFE_INTEGER)).then(i=>(bD(t,e,i),i))}function bD(n,e,t){let r=n.vs.get(e)||Ie.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}async function BF(n,e,t,r){const i=Ee(n);let o=Ve(),u=lr();for(const d of t){const g=e.Bs(d.metadata.name);d.document&&(o=o.add(g));const _=e.Ls(d);_.setReadTime(e.ks(d.metadata.readTime)),u=u.insert(g,_)}const h=i.Cs.newChangeBuffer({trackRemovals:!0}),f=await hc(i,function(g){return Zn(Pc(Ge.fromString(`__bundle__/docs/${g}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",d=>_D(d,h,u).next(g=>(h.apply(d),g)).next(g=>i.ai.removeMatchingKeysForTargetId(d,f.targetId).next(()=>i.ai.addMatchingKeys(d,o,f.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(d,g.xs,g.Os)).next(()=>g.xs)))}async function FF(n,e,t=Ve()){const r=await hc(n,Zn(qb(e.bundledQuery))),i=Ee(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const u=Xt(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.ci.saveNamedQuery(o,e);const h=r.withResumeToken(jt.EMPTY_BYTE_STRING,u);return i.Ss=i.Ss.insert(h.targetId,h),i.ai.updateTargetData(o,h).next(()=>i.ai.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.ai.addMatchingKeys(o,t,r.targetId)).next(()=>i.ci.saveNamedQuery(o,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="firestore_clients";function a1(n,e){return`${wD}_${n}_${e}`}const TD="firestore_mutations";function o1(n,e,t){let r=`${TD}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const SD="firestore_targets";function g0(n,e){return`${SD}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="SharedClientState";class xg{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static qs(e,t,r){const i=JSON.parse(r);let o,u=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return u&&i.error&&(u=typeof i.error.message=="string"&&typeof i.error.code=="string",u&&(o=new fe(i.error.code,i.error.message))),u?new xg(e,t,i.state,o):(Yt(Oi,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Qs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ld{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static qs(e,t){const r=JSON.parse(t);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new fe(r.error.code,r.error.message))),o?new Ld(e,r.state,i):(Yt(Oi,`Failed to parse target state for ID '${e}': ${t}`),null)}Qs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Pg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static qs(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Mb();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=YP(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return i?new Pg(e,o):(Yt(Oi,`Failed to parse client data for instance '${e}': ${t}`),null)}}class Jb{constructor(e,t){this.clientId=e,this.onlineState=t}static qs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new Jb(t.clientId,t.onlineState):(Yt(Oi,`Failed to parse online state: ${e}`),null)}}class dE{constructor(){this.activeTargetIds=Mb()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class y0{constructor(e,t,r,i,o){this.window=e,this.bi=t,this.persistenceKey=r,this.Ks=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ws=this.Gs.bind(this),this.zs=new Et(De),this.started=!1,this.js=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Hs=a1(this.persistenceKey,this.Ks),this.Js=function(f){return`firestore_sequence_number_${f}`}(this.persistenceKey),this.zs=this.zs.insert(this.Ks,new dE),this.Ys=new RegExp(`^${wD}_${u}_([^_]*)$`),this.Zs=new RegExp(`^${TD}_${u}_(\\d+)(?:_(.*))?$`),this.Xs=new RegExp(`^${SD}_${u}_(\\d+)$`),this.eo=function(f){return`firestore_online_state_${f}`}(this.persistenceKey),this.no=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ws)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.us();for(const r of e){if(r===this.Ks)continue;const i=this.getItem(a1(this.persistenceKey,r));if(i){const o=Pg.qs(r,i);o&&(this.zs=this.zs.insert(o.clientId,o))}}this.ro();const t=this.storage.getItem(this.eo);if(t){const r=this.io(t);r&&this.so(r)}for(const r of this.js)this.Gs(r);this.js=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Js,JSON.stringify(e))}getAllActiveQueryTargets(){return this.oo(this.zs)}isActiveQueryTarget(e){let t=!1;return this.zs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this._o(e,"pending")}updateMutationState(e,t,r){this._o(e,t,r),this.ao(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(g0(this.persistenceKey,e));if(i){const o=Ld.qs(e,i);o&&(r=o.state)}}return t&&this.uo.$s(e),this.ro(),r}removeLocalQueryTarget(e){this.uo.Us(e),this.ro()}isLocalQueryTarget(e){return this.uo.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(g0(this.persistenceKey,e))}updateQueryState(e,t,r){this.co(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.ao(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.lo(e)}notifyBundleLoaded(e){this.ho(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ws),this.removeItem(this.Hs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return pe(Oi,"READ",e,t),t}setItem(e,t){pe(Oi,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){pe(Oi,"REMOVE",e),this.storage.removeItem(e)}Gs(e){const t=e;if(t.storageArea===this.storage){if(pe(Oi,"EVENT",t.key,t.newValue),t.key===this.Hs)return void Yt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.bi.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ys.test(t.key)){if(t.newValue==null){const r=this.Po(t.key);return this.To(r,null)}{const r=this.Io(t.key,t.newValue);if(r)return this.To(r.clientId,r)}}else if(this.Zs.test(t.key)){if(t.newValue!==null){const r=this.Eo(t.key,t.newValue);if(r)return this.Ao(r)}}else if(this.Xs.test(t.key)){if(t.newValue!==null){const r=this.Ro(t.key,t.newValue);if(r)return this.Vo(r)}}else if(t.key===this.eo){if(t.newValue!==null){const r=this.io(t.newValue);if(r)return this.so(r)}}else if(t.key===this.Js){const r=function(o){let u=ar.le;if(o!=null)try{const h=JSON.parse(o);Ae(typeof h=="number",30636,{mo:o}),u=h}catch(h){Yt(Oi,"Failed to read sequence number from WebStorage",h)}return u}(t.newValue);r!==ar.le&&this.sequenceNumberHandler(r)}else if(t.key===this.no){const r=this.fo(t.newValue);await Promise.all(r.map(i=>this.syncEngine.po(i)))}}}else this.js.push(t)})}}get uo(){return this.zs.get(this.Ks)}ro(){this.setItem(this.Hs,this.uo.Qs())}_o(e,t,r){const i=new xg(this.currentUser,e,t,r),o=o1(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Qs())}ao(e){const t=o1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}lo(e){const t={clientId:this.Ks,onlineState:e};this.storage.setItem(this.eo,JSON.stringify(t))}co(e,t,r){const i=g0(this.persistenceKey,e),o=new Ld(e,t,r);this.setItem(i,o.Qs())}ho(e){const t=JSON.stringify(Array.from(e));this.setItem(this.no,t)}Po(e){const t=this.Ys.exec(e);return t?t[1]:null}Io(e,t){const r=this.Po(e);return Pg.qs(r,t)}Eo(e,t){const r=this.Zs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return xg.qs(new An(o),i,t)}Ro(e,t){const r=this.Xs.exec(e),i=Number(r[1]);return Ld.qs(i,t)}io(e){return Jb.qs(e)}fo(e){return JSON.parse(e)}async Ao(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.yo(e.batchId,e.state,e.error);pe(Oi,`Ignoring mutation for non-active user ${e.user.uid}`)}Vo(e){return this.syncEngine.wo(e.targetId,e.state,e.error)}To(e,t){const r=t?this.zs.insert(e,t):this.zs.remove(e),i=this.oo(this.zs),o=this.oo(r),u=[],h=[];return o.forEach(f=>{i.has(f)||u.push(f)}),i.forEach(f=>{o.has(f)||h.push(f)}),this.syncEngine.bo(u,h).then(()=>{this.zs=r})}so(e){this.zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}oo(e){let t=Mb();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class AD{constructor(){this.So=new dE,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new dE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="ConnectivityMonitor";class u1{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){pe(l1,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){pe(l1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tm=null;function fE(){return Tm===null?Tm=function(){return 268435456+Math.round(2147483648*Math.random())}():Tm++,"0x"+Tm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="RestConnection",jF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qF{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===J0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,t,r,i,o){const u=fE(),h=this.$o(e,t.toUriEncodedString());pe(_0,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(f,i,o);const{host:d}=new URL(h),g=qg(d);return this.Ko(e,h,f,r,g).then(_=>(pe(_0,`Received RPC '${e}' ${u}: `,_),_),_=>{throw Ki(_0,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",r),_})}Wo(e,t,r,i,o,u){return this.Qo(e,t,r,i,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}$o(e,t){const r=jF[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn="WebChannelConnection";class $F extends qF{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,i,o){const u=fE();return new Promise((h,f)=>{const d=new VP;d.setWithCredentials(!0),d.listenOnce(LP.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Lm.NO_ERROR:const _=d.getResponseJson();pe(Fn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case Lm.TIMEOUT:pe(Fn,`RPC '${e}' ${u} timed out`),f(new fe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Lm.HTTP_ERROR:const v=d.getStatus();if(pe(Fn,`RPC '${e}' ${u} failed with status:`,v,"response text:",d.getResponseText()),v>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const b=T==null?void 0:T.error;if(b&&b.status&&b.message){const A=function(U){const V=U.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(V)>=0?V:ie.UNKNOWN}(b.status);f(new fe(A,b.message))}else f(new fe(ie.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new fe(ie.UNAVAILABLE,"Connection failed."));break;default:we(9055,{s_:e,streamId:u,o_:d.getLastErrorCode(),__:d.getLastError()})}}finally{pe(Fn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(i);pe(Fn,`RPC '${e}' ${u} sending request:`,i),d.send(t,"POST",g,r,15)})}a_(e,t,r){const i=fE(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=FP(),h=BP(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=o.join("");pe(Fn,`Creating RPC '${e}' stream ${i}: ${g}`,f);const _=u.createWebChannel(g,f);let v=!1,T=!1;const b=new HF({Go:P=>{T?pe(Fn,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(v||(pe(Fn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),v=!0),pe(Fn,`RPC '${e}' stream ${i} sending:`,P),_.send(P))},zo:()=>_.close()}),A=(P,U,V)=>{P.listen(U,L=>{try{V(L)}catch(H){setTimeout(()=>{throw H},0)}})};return A(_,wd.EventType.OPEN,()=>{T||(pe(Fn,`RPC '${e}' stream ${i} transport opened.`),b.t_())}),A(_,wd.EventType.CLOSE,()=>{T||(T=!0,pe(Fn,`RPC '${e}' stream ${i} transport closed`),b.r_())}),A(_,wd.EventType.ERROR,P=>{T||(T=!0,Ki(Fn,`RPC '${e}' stream ${i} transport errored. Name:`,P.name,"Message:",P.message),b.r_(new fe(ie.UNAVAILABLE,"The operation could not be completed")))}),A(_,wd.EventType.MESSAGE,P=>{var U;if(!T){const V=P.data[0];Ae(!!V,16349);const L=V,H=(L==null?void 0:L.error)||((U=L[0])===null||U===void 0?void 0:U.error);if(H){pe(Fn,`RPC '${e}' stream ${i} received error:`,H);const F=H.status;let K=function(x){const w=on[x];if(w!==void 0)return BO(w)}(F),M=H.message;K===void 0&&(K=ie.INTERNAL,M="Unknown error status: "+F+" with message "+H.message),T=!0,b.r_(new fe(K,M)),_.close()}else pe(Fn,`RPC '${e}' stream ${i} received:`,V),b.i_(V)}}),A(h,UP.STAT_EVENT,P=>{P.stat===$0.PROXY?pe(Fn,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===$0.NOPROXY&&pe(Fn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.n_()},0),b}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(){return typeof window<"u"?window:null}function Gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(n){return new Y6(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,t,r=1e3,i=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=i,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,t-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="PersistentStream";class RD{constructor(e,t,r,i,o,u,h,f){this.bi=e,this.R_=r,this.V_=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Zb(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Yt(t.toString()),Yt("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===t&&this.B_(r,i)},r=>{e(()=>{const i=new fe(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return pe(c1,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(pe(c1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GF extends RD{constructor(e,t,r,i,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=Z6(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ie.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?Xt(u.readTime):Ie.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=oE(this.serializer),t.addTarget=function(o,u){let h;const f=u.target;if(h=bg(f)?{documents:WO(o,f)}:{query:QO(o,f).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=jO(o,u.resumeToken);const d=sE(o,u.expectedCount);d!==null&&(h.expectedCount=d)}else if(u.snapshotVersion.compareTo(Ie.min())>0){h.readTime=cc(o,u.snapshotVersion.toTimestamp());const d=sE(o,u.expectedCount);d!==null&&(h.expectedCount=d)}return h}(this.serializer,e);const r=tF(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=oE(this.serializer),t.removeTarget=e,this.F_(t)}}class KF extends RD{constructor(e,t,r,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=eF(e.writeResults,e.commitTime),r=Xt(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=oE(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>af(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{}class QF extends WF{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Qo(e,aE(t,r),i,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new fe(ie.UNKNOWN,o.toString())})}Wo(e,t,r,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,aE(t,r),i,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ie.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class YF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Yt(t),this.ea=!1):pe("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l="RemoteStore";class XF{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(u=>{r.enqueueAndForget(async()=>{ao(this)&&(pe(_l,"Restarting streams for network reachability change."),await async function(f){const d=Ee(f);d.aa.add(4),await Nc(d),d.la.set("Unknown"),d.aa.delete(4),await Vf(d)}(this))})}),this.la=new YF(r,i)}}async function Vf(n){if(ao(n))for(const e of n.ua)await e(!0)}async function Nc(n){for(const e of n.ua)await e(!1)}function my(n,e){const t=Ee(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),nw(t)?tw(t):Mc(t).b_()&&ew(t,e))}function fc(n,e){const t=Ee(n),r=Mc(t);t._a.delete(e),r.b_()&&CD(t,e),t._a.size===0&&(r.b_()?r.v_():ao(t)&&t.la.set("Unknown"))}function ew(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Mc(n).U_(e)}function CD(n,e){n.ha.Ke(e),Mc(n).K_(e)}function tw(n){n.ha=new G6({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Mc(n).start(),n.la.ta()}function nw(n){return ao(n)&&!Mc(n).w_()&&n._a.size>0}function ao(n){return Ee(n).aa.size===0}function xD(n){n.ha=void 0}async function JF(n){n.la.set("Online")}async function ZF(n){n._a.forEach((e,t)=>{ew(n,e)})}async function e9(n,e){xD(n),nw(n)?(n.la.ia(e),tw(n)):n.la.set("Unknown")}async function t9(n,e,t){if(n.la.set("Online"),e instanceof zO&&e.state===2&&e.cause)try{await async function(i,o){const u=o.cause;for(const h of o.targetIds)i._a.has(h)&&(await i.remoteSyncer.rejectListen(h,u),i._a.delete(h),i.ha.removeTarget(h))}(n,e)}catch(r){pe(_l,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Og(n,r)}else if(e instanceof $m?n.ha.Xe(e):e instanceof FO?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Ie.min()))try{const r=await yD(n.localStore);t.compareTo(r)>=0&&await function(o,u){const h=o.ha.It(u);return h.targetChanges.forEach((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=o._a.get(d);g&&o._a.set(d,g.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,d)=>{const g=o._a.get(f);if(!g)return;o._a.set(f,g.withResumeToken(jt.EMPTY_BYTE_STRING,g.snapshotVersion)),CD(o,f);const _=new xs(g.target,f,d,g.sequenceNumber);ew(o,_)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){pe(_l,"Failed to raise snapshot:",r),await Og(n,r)}}async function Og(n,e,t){if(!io(e))throw e;n.aa.add(1),await Nc(n),n.la.set("Offline"),t||(t=()=>yD(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(_l,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await Vf(n)})}function PD(n,e){return e().catch(t=>Og(n,t,e))}async function kc(n){const e=Ee(n),t=Ga(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Ma;for(;n9(e);)try{const i=await UF(e.localStore,r);if(i===null){e.oa.length===0&&t.v_();break}r=i.batchId,r9(e,i)}catch(i){await Og(e,i)}OD(e)&&DD(e)}function n9(n){return ao(n)&&n.oa.length<10}function r9(n,e){n.oa.push(e);const t=Ga(n);t.b_()&&t.W_&&t.G_(e.mutations)}function OD(n){return ao(n)&&!Ga(n).w_()&&n.oa.length>0}function DD(n){Ga(n).start()}async function i9(n){Ga(n).H_()}async function s9(n){const e=Ga(n);for(const t of n.oa)e.G_(t.mutations)}async function a9(n,e,t){const r=n.oa.shift(),i=Bb.from(r,e,t);await PD(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await kc(n)}async function o9(n,e){e&&Ga(n).W_&&await async function(r,i){if(function(u){return UO(u)&&u!==ie.ABORTED}(i.code)){const o=r.oa.shift();Ga(r).D_(),await PD(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await kc(r)}}(n,e),OD(n)&&DD(n)}async function h1(n,e){const t=Ee(n);t.asyncQueue.verifyOperationInProgress(),pe(_l,"RemoteStore received new credentials");const r=ao(t);t.aa.add(3),await Nc(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Vf(t)}async function pE(n,e){const t=Ee(n);e?(t.aa.delete(2),await Vf(t)):e||(t.aa.add(2),await Nc(t),t.la.set("Unknown"))}function Mc(n){return n.Pa||(n.Pa=function(t,r,i){const o=Ee(t);return o.Y_(),new GF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{jo:JF.bind(null,n),Jo:ZF.bind(null,n),Zo:e9.bind(null,n),Q_:t9.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),nw(n)?tw(n):n.la.set("Unknown")):(await n.Pa.stop(),xD(n))})),n.Pa}function Ga(n){return n.Ta||(n.Ta=function(t,r,i){const o=Ee(t);return o.Y_(),new KF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:i9.bind(null,n),Zo:o9.bind(null,n),z_:s9.bind(null,n),j_:a9.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await kc(n)):(await n.Ta.stop(),n.oa.length>0&&(pe(_l,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const u=Date.now()+r,h=new rw(e,t,u,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vc(n,e){if(Yt("AsyncQueue",`${e}: ${n}`),io(n))return new fe(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{static emptySet(e){return new $u(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=Td(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $u)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new $u;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.Ia=new Et(ve.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):we(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class pc{constructor(e,t,r,i,o,u,h,f,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new pc(e,t,$u.emptySet(t),u,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class u9{constructor(){this.queries=f1(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const i=Ee(t),o=i.queries;i.queries=f1(),o.forEach((u,h)=>{for(const f of h.Ra)f.onError(r)})})(this,new fe(ie.ABORTED,"Firestore shutting down"))}}function f1(){return new Hs(n=>SO(n),Pf)}async function iw(n,e){const t=Ee(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.Va()&&e.ma()&&(r=2):(o=new l9,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await t.onListen(i,!0);break;case 1:o.Aa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const h=Vc(u,`Initialization of query '${Nu(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&aw(t)}async function sw(n,e){const t=Ee(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const u=o.Ra.indexOf(e);u>=0&&(o.Ra.splice(u,1),o.Ra.length===0?i=e.ma()?0:1:!o.Va()&&e.ma()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function c9(n,e){const t=Ee(n);let r=!1;for(const i of e){const o=i.query,u=t.queries.get(o);if(u){for(const h of u.Ra)h.pa(i)&&(r=!0);u.Aa=i}}r&&aw(t)}function h9(n,e,t){const r=Ee(n),i=r.queries.get(e);if(i)for(const o of i.Ra)o.onError(t);r.queries.delete(e)}function aw(n){n.fa.forEach(e=>{e.next()})}var mE,p1;(p1=mE||(mE={})).ya="default",p1.Cache="cache";class ow{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new pc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=pc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==mE.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e,t){this.Ma=e,this.byteLength=t}xa(){return"metadata"in this.Ma}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.serializer=e}Bs(e){return ji(this.serializer,e)}Ls(e){return e.metadata.exists?KO(this.serializer,e.document,!1):bt.newNoDocument(this.Bs(e.metadata.name),this.ks(e.metadata.readTime))}ks(e){return Xt(e)}}class f9{constructor(e,t,r){this.Oa=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ND(e)}Na(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ma.namedQuery)this.queries.push(e.Ma.namedQuery);else if(e.Ma.documentMetadata){this.documents.push({metadata:e.Ma.documentMetadata}),e.Ma.documentMetadata.exists||++t;const r=Ge.fromString(e.Ma.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ma.document&&(this.documents[this.documents.length-1].document=e.Ma.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ba(e){const t=new Map,r=new m1(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.Bs(i.metadata.name);for(const u of i.metadata.queries){const h=(t.get(u)||Ve()).add(o);t.set(u,h)}}return t}async complete(){const e=await BF(this.localStore,new m1(this.serializer),this.documents,this.Oa.id),t=this.Ba(this.documents);for(const r of this.queries)await FF(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,La:this.collectionGroups,ka:e}}}function ND(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.key=e}}class MD{constructor(e){this.key=e}}class VD{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ve(),this.mutatedKeys=Ve(),this.Ua=IO(e),this.Ka=new $u(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new d1,i=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const v=i.get(g),T=Of(this.query,_)?_:null,b=!!v&&this.mutatedKeys.has(v.key),A=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let P=!1;v&&T?v.data.isEqual(T.data)?b!==A&&(r.track({type:3,doc:T}),P=!0):this.ja(v,T)||(r.track({type:2,doc:T}),P=!0,(f&&this.Ua(T,f)>0||d&&this.Ua(T,d)<0)&&(h=!0)):!v&&T?(r.track({type:0,doc:T}),P=!0):v&&!T&&(r.track({type:1,doc:v}),P=!0,(f||d)&&(h=!0)),P&&(T?(u=u.add(T),o=A?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{Ka:u,za:r,ys:h,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((g,_)=>function(T,b){const A=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:P})}};return A(T)-A(b)}(g.type,_.type)||this.Ua(g.doc,_.doc)),this.Ha(r),i=i!=null&&i;const h=t&&!i?this.Ja():[],f=this.$a.size===0&&this.current&&!i?1:0,d=f!==this.Qa;return this.Qa=f,u.length!==0||d?{snapshot:new pc(this.query,e.Ka,o,u,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:h}:{Ya:h}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new d1,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Ve(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new MD(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new kD(r))}),t}Xa(e){this.qa=e.Ns,this.$a=Ve();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return pc.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const oo="SyncEngine";class p9{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class m9{constructor(e){this.key=e,this.tu=!1}}class g9{constructor(e,t,r,i,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new Hs(h=>SO(h),Pf),this.iu=new Map,this.su=new Set,this.ou=new Et(ve.comparator),this._u=new Map,this.au=new Gb,this.uu={},this.cu=new Map,this.lu=yl.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function y9(n,e,t=!0){const r=gy(n);let i;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.eu()):i=await LD(r,e,t,!0),i}async function _9(n,e){const t=gy(n);await LD(t,e,!0,!1)}async function LD(n,e,t,r){const i=await hc(n.localStore,Zn(e)),o=i.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await lw(n,e,o,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&my(n.remoteStore,i),h}async function lw(n,e,t,r,i){n.Pu=(_,v,T)=>async function(A,P,U,V){let L=P.view.Ga(U);L.ys&&(L=await Cg(A.localStore,P.query,!1).then(({documents:M})=>P.view.Ga(M,L)));const H=V&&V.targetChanges.get(P.targetId),F=V&&V.targetMismatches.get(P.targetId)!=null,K=P.view.applyChanges(L,A.isPrimaryClient,H,F);return gE(A,P.targetId,K.Ya),K.snapshot}(n,_,v,T);const o=await Cg(n.localStore,e,!0),u=new VD(e,o.Ns),h=u.Ga(o.documents),f=kf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=u.applyChanges(h,n.isPrimaryClient,f);gE(n,t,d.Ya);const g=new p9(e,t,u);return n.ru.set(e,g),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),d.snapshot}async function v9(n,e,t){const r=Ee(n),i=r.ru.get(e),o=r.iu.get(i.targetId);if(o.length>1)return r.iu.set(i.targetId,o.filter(u=>!Pf(u,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await dc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&fc(r.remoteStore,i.targetId),mc(r,i.targetId)}).catch(ro)):(mc(r,i.targetId),await dc(r.localStore,i.targetId,!0))}async function E9(n,e){const t=Ee(n),r=t.ru.get(e),i=t.iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),fc(t.remoteStore,r.targetId))}async function b9(n,e,t){const r=dw(n);try{const i=await function(u,h){const f=Ee(u),d=Pt.now(),g=h.reduce((T,b)=>T.add(b.key),Ve());let _,v;return f.persistence.runTransaction("Locally write mutations","readwrite",T=>{let b=lr(),A=Ve();return f.Cs.getEntries(T,g).next(P=>{b=P,b.forEach((U,V)=>{V.isValidDocument()||(A=A.add(U))})}).next(()=>f.localDocuments.getOverlayedDocuments(T,b)).next(P=>{_=P;const U=[];for(const V of h){const L=q6(V,_.get(V.key).overlayedDocument);L!=null&&U.push(new $s(V.key,L,mO(L.value.mapValue),xt.exists(!0)))}return f.mutationQueue.addMutationBatch(T,d,U,h)}).next(P=>{v=P;const U=P.applyToLocalDocumentSet(_,A);return f.documentOverlayCache.saveOverlays(T,P.batchId,U)})}).then(()=>({batchId:v.batchId,changes:CO(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,h,f){let d=u.uu[u.currentUser.toKey()];d||(d=new Et(De)),d=d.insert(h,f),u.uu[u.currentUser.toKey()]=d}(r,i.batchId,t),await Gs(r,i.changes),await kc(r.remoteStore)}catch(i){const o=Vc(i,"Failed to persist write");t.reject(o)}}async function UD(n,e){const t=Ee(n);try{const r=await LF(t.localStore,e);e.targetChanges.forEach((i,o)=>{const u=t._u.get(o);u&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.tu=!0:i.modifiedDocuments.size>0?Ae(u.tu,14607):i.removedDocuments.size>0&&(Ae(u.tu,42227),u.tu=!1))}),await Gs(t,r,e)}catch(r){await ro(r)}}function g1(n,e,t){const r=Ee(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ru.forEach((o,u)=>{const h=u.view.ga(e);h.snapshot&&i.push(h.snapshot)}),function(u,h){const f=Ee(u);f.onlineState=h;let d=!1;f.queries.forEach((g,_)=>{for(const v of _.Ra)v.ga(h)&&(d=!0)}),d&&aw(f)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function w9(n,e,t){const r=Ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r._u.get(e),o=i&&i.key;if(o){let u=new Et(ve.comparator);u=u.insert(o,bt.newNoDocument(o,Ie.min()));const h=Ve().add(o),f=new Nf(Ie.min(),new Map,new Et(De),u,h);await UD(r,f),r.ou=r.ou.remove(o),r._u.delete(e),hw(r)}else await dc(r.localStore,e,!1).then(()=>mc(r,e,t)).catch(ro)}async function T9(n,e){const t=Ee(n),r=e.batch.batchId;try{const i=await VF(t.localStore,e);cw(t,r,null),uw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Gs(t,i)}catch(i){await ro(i)}}async function S9(n,e,t){const r=Ee(n);try{const i=await function(u,h){const f=Ee(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let g;return f.mutationQueue.lookupMutationBatch(d,h).next(_=>(Ae(_!==null,37113),g=_.keys(),f.mutationQueue.removeMutationBatch(d,_))).next(()=>f.mutationQueue.performConsistencyCheck(d)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g)).next(()=>f.localDocuments.getDocuments(d,g))})}(r.localStore,e);cw(r,e,t),uw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Gs(r,i)}catch(i){await ro(i)}}async function A9(n,e){const t=Ee(n);ao(t.remoteStore)||pe(oo,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(u){const h=Ee(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>h.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(r===Ma)return void e.resolve();const i=t.cu.get(r)||[];i.push(e),t.cu.set(r,i)}catch(r){const i=Vc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function uw(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function cw(n,e,t){const r=Ee(n);let i=r.uu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function mc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||BD(n,r)})}function BD(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(fc(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),hw(n))}function gE(n,e,t){for(const r of t)r instanceof kD?(n.au.addReference(r.key,e),I9(n,r)):r instanceof MD?(pe(oo,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||BD(n,r.key)):we(19791,{Iu:r})}function I9(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(pe(oo,"New document in limbo: "+t),n.su.add(r),hw(n))}function hw(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new ve(Ge.fromString(e)),r=n.lu.next();n._u.set(r,new m9(t)),n.ou=n.ou.insert(t,r),my(n.remoteStore,new xs(Zn(Pc(t.path)),r,"TargetPurposeLimboResolution",ar.le))}}async function Gs(n,e,t){const r=Ee(n),i=[],o=[],u=[];r.ru.isEmpty()||(r.ru.forEach((h,f)=>{u.push(r.Pu(f,e,t).then(d=>{var g;if((d||t)&&r.isPrimaryClient){const _=d?!d.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(d){i.push(d);const _=Yb.Ps(f.targetId,d);o.push(_)}}))}),await Promise.all(u),r.nu.Q_(i),await async function(f,d){const g=Ee(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>X.forEach(d,v=>X.forEach(v.ls,T=>g.persistence.referenceDelegate.addReference(_,v.targetId,T)).next(()=>X.forEach(v.hs,T=>g.persistence.referenceDelegate.removeReference(_,v.targetId,T)))))}catch(_){if(!io(_))throw _;pe(Xb,"Failed to update sequence numbers: "+_)}for(const _ of d){const v=_.targetId;if(!_.fromCache){const T=g.Ss.get(v),b=T.snapshotVersion,A=T.withLastLimboFreeSnapshotVersion(b);g.Ss=g.Ss.insert(v,A)}}}(r.localStore,o))}async function R9(n,e){const t=Ee(n);if(!t.currentUser.isEqual(e)){pe(oo,"User change. New user:",e.toKey());const r=await gD(t.localStore,e);t.currentUser=e,function(o,u){o.cu.forEach(h=>{h.forEach(f=>{f.reject(new fe(ie.CANCELLED,u))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gs(t,r.Ms)}}function C9(n,e){const t=Ee(n),r=t._u.get(e);if(r&&r.tu)return Ve().add(r.key);{let i=Ve();const o=t.iu.get(e);if(!o)return i;for(const u of o){const h=t.ru.get(u);i=i.unionWith(h.view.Wa)}return i}}async function x9(n,e){const t=Ee(n),r=await Cg(t.localStore,e.query,!0),i=e.view.Xa(r);return t.isPrimaryClient&&gE(t,e.targetId,i.Ya),i}async function P9(n,e){const t=Ee(n);return ED(t.localStore,e).then(r=>Gs(t,r))}async function O9(n,e,t,r){const i=Ee(n),o=await function(h,f){const d=Ee(h),g=Ee(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",_=>g.Hn(_,f).next(v=>v?d.localDocuments.getDocuments(_,v):X.resolve(null)))}(i.localStore,e);o!==null?(t==="pending"?await kc(i.remoteStore):t==="acknowledged"||t==="rejected"?(cw(i,e,r||null),uw(i,e),function(h,f){Ee(Ee(h).mutationQueue).Xn(f)}(i.localStore,e)):we(6720,"Unknown batchState",{Eu:t}),await Gs(i,o)):pe(oo,"Cannot apply mutation batch with id: "+e)}async function D9(n,e){const t=Ee(n);if(gy(t),dw(t),e===!0&&t.hu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await y1(t,r.toArray());t.hu=!0,await pE(t.remoteStore,!0);for(const o of i)my(t.remoteStore,o)}else if(e===!1&&t.hu!==!1){const r=[];let i=Promise.resolve();t.iu.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(mc(t,u),dc(t.localStore,u,!0))),fc(t.remoteStore,u)}),await i,await y1(t,r),function(u){const h=Ee(u);h._u.forEach((f,d)=>{fc(h.remoteStore,d)}),h.au.Kr(),h._u=new Map,h.ou=new Et(ve.comparator)}(t),t.hu=!1,await pE(t.remoteStore,!1)}}async function y1(n,e,t){const r=Ee(n),i=[],o=[];for(const u of e){let h;const f=r.iu.get(u);if(f&&f.length!==0){h=await hc(r.localStore,Zn(f[0]));for(const d of f){const g=r.ru.get(d),_=await x9(r,g);_.snapshot&&o.push(_.snapshot)}}else{const d=await vD(r.localStore,u);h=await hc(r.localStore,d),await lw(r,FD(d),u,!1,h.resumeToken)}i.push(h)}return r.nu.Q_(o),i}function FD(n){return TO(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function N9(n){return function(t){return Ee(Ee(t).persistence).us()}(Ee(n).localStore)}async function k9(n,e,t,r){const i=Ee(n);if(i.hu)return void pe(oo,"Ignoring unexpected query state notification.");const o=i.iu.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=await ED(i.localStore,AO(o[0])),h=Nf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",jt.EMPTY_BYTE_STRING);await Gs(i,u,h);break}case"rejected":await dc(i.localStore,e,!0),mc(i,e,r);break;default:we(64155,t)}}async function M9(n,e,t){const r=gy(n);if(r.hu){for(const i of e){if(r.iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){pe(oo,"Adding an already active target "+i);continue}const o=await vD(r.localStore,i),u=await hc(r.localStore,o);await lw(r,FD(o),u.targetId,!1,u.resumeToken),my(r.remoteStore,u)}for(const i of t)r.iu.has(i)&&await dc(r.localStore,i,!1).then(()=>{fc(r.remoteStore,i),mc(r,i)}).catch(ro)}}function gy(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=UD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w9.bind(null,e),e.nu.Q_=c9.bind(null,e.eventManager),e.nu.Tu=h9.bind(null,e.eventManager),e}function dw(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S9.bind(null,e),e}function V9(n,e,t){const r=Ee(n);(async function(o,u,h){try{const f=await u.getMetadata();if(await function(T,b){const A=Ee(T),P=Xt(b.createTime);return A.persistence.runTransaction("hasNewerBundle","readonly",U=>A.ci.getBundleMetadata(U,b.id)).then(U=>!!U&&U.createTime.compareTo(P)>=0)}(o.localStore,f))return await u.close(),h._completeWith(function(T){return{taskState:"Success",documentsLoaded:T.totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}}(f)),Promise.resolve(new Set);h._updateProgress(ND(f));const d=new f9(f,o.localStore,u.serializer);let g=await u.du();for(;g;){const v=await d.Na(g);v&&h._updateProgress(v),g=await u.du()}const _=await d.complete();return await Gs(o,_.ka,void 0),await function(T,b){const A=Ee(T);return A.persistence.runTransaction("Save bundle","readwrite",P=>A.ci.saveBundleMetadata(P,b))}(o.localStore,f),h._completeWith(_.progress),Promise.resolve(_.La)}catch(f){return Ki(oo,`Loading bundle failed with ${f}`),h._failWith(f),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class of{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mf(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return mD(this.persistence,new pD,e.initialUser,this.serializer)}Ru(e){return new Kb(py.Ei,this.serializer)}Au(e){return new AD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}of.provider={build:()=>new of};class L9 extends of{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Ae(this.persistence.referenceDelegate instanceof Rg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new lD(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new Kb(r=>Rg.Ei(r,t),this.serializer)}}class zD extends of{constructor(e,t,r){super(),this.gu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.gu.initialize(this,e),await dw(this.gu.syncEngine),await kc(this.gu.remoteStore),await this.persistence.Ki(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Vu(e){return mD(this.persistence,new pD,e.initialUser,this.serializer)}mu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new lD(r,e.asyncQueue,t)}fu(e,t){const r=new GB(t,this.persistence);return new $B(e.asyncQueue,r)}Ru(e){const t=Qb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new Wb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,ID(),Gm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Au(e){return new AD}}class U9 extends zD{constructor(e,t){super(e,t,!1),this.gu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.gu.syncEngine;this.sharedClientState instanceof y0&&(this.sharedClientState.syncEngine={yo:O9.bind(null,t),wo:k9.bind(null,t),bo:M9.bind(null,t),us:N9.bind(null,t),po:P9.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ki(async r=>{await D9(this.gu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Au(e){const t=ID();if(!y0.C(t))throw new fe(ie.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Qb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new y0(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class lf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>g1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=R9.bind(null,this.syncEngine),await pE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new u9}()}createDatastore(e){const t=Mf(e.databaseInfo.databaseId),r=function(o){return new $F(o)}(e.databaseInfo);return function(o,u,h,f){return new QF(o,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,u,h){return new XF(r,i,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>g1(this.syncEngine,t,0),function(){return u1.C()?new u1:new zF}())}createSyncEngine(e,t){return function(i,o,u,h,f,d,g){const _=new g9(i,o,u,h,f,d);return g&&(_.hu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Ee(i);pe(_l,"RemoteStore shutting down."),o.aa.add(5),await Nc(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}lf.provider={build:()=>new lf};function _1(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Yt("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e,t){this.wu=e,this.serializer=t,this.metadata=new Vn,this.buffer=new Uint8Array,this.bu=function(){return new TextDecoder("utf-8")}(),this.Su().then(r=>{r&&r.xa()?this.metadata.resolve(r.Ma.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Ma)}`))},r=>this.metadata.reject(r))}close(){return this.wu.cancel()}async getMetadata(){return this.metadata.promise}async du(){return await this.getMetadata(),this.Su()}async Su(){const e=await this.Du();if(e===null)return null;const t=this.bu.decode(e),r=Number(t);isNaN(r)&&this.vu(`length string (${t}) is not valid number`);const i=await this.Cu(r);return new d9(JSON.parse(i),e.length+r)}Fu(){return this.buffer.findIndex(e=>e===123)}async Du(){for(;this.Fu()<0&&!await this.Mu(););if(this.buffer.length===0)return null;const e=this.Fu();e<0&&this.vu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Cu(e){for(;this.buffer.length<e;)await this.Mu()&&this.vu("Reached the end of bundle when more is expected.");const t=this.bu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}vu(e){throw this.wu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Mu(){const e=await this.wu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new fe(ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,o){const u=Ee(i),h={documents:o.map(_=>sf(u.serializer,_))},f=await u.Wo("BatchGetDocuments",u.serializer.databaseId,Ge.emptyPath(),h,o.length),d=new Map;f.forEach(_=>{const v=J6(u.serializer,_);d.set(v.key.toString(),v)});const g=[];return o.forEach(_=>{const v=d.get(_.toString());Ae(!!v,55234,{key:_}),g.push(v)}),g}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Dc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=ve.fromPath(r);this.mutations.push(new Lb(i,this.precondition(i)))}),await async function(r,i){const o=Ee(r),u={writes:i.map(h=>af(o.serializer,h))};await o.Qo("Commit",o.serializer.databaseId,Ge.emptyPath(),u)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw we(50498,{xu:e.constructor.name});t=Ie.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new fe(ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ie.min())?xt.exists(!1):xt.updateTime(t):xt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ie.min()))throw new fe(ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xt.updateTime(t)}return xt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Ou=r.maxAttempts,this.y_=new Zb(this.asyncQueue,"transaction_retry")}Nu(){this.Ou-=1,this.Bu()}Bu(){this.y_.E_(async()=>{const e=new F9(this.datastore),t=this.Lu(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.ku(i)}))}).catch(r=>{this.ku(r)})})}Lu(e){try{const t=this.updateFunction(e);return!Rf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ku(e){this.Ou>0&&this.qu(e)?(this.Ou-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bu(),Promise.resolve()))):this.deferred.reject(e)}qu(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!UO(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="FirestoreClient";class j9{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=An.UNAUTHENTICATED,this.clientId=qP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{pe(Ka,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(pe(Ka,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Vc(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function v0(n,e){n.asyncQueue.verifyOperationInProgress(),pe(Ka,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await gD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function v1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await fw(n);pe(Ka,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>h1(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>h1(e.remoteStore,i)),n._onlineComponents=e}async function fw(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(Ka,"Using user provided OfflineComponentProvider");try{await v0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ki("Error using user provided cache. Falling back to memory cache: "+t),await v0(n,new of)}}else pe(Ka,"Using default OfflineComponentProvider"),await v0(n,new L9(void 0));return n._offlineComponents}async function _y(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(Ka,"Using user provided OnlineComponentProvider"),await v1(n,n._uninitializedComponentsProvider._online)):(pe(Ka,"Using default OnlineComponentProvider"),await v1(n,new lf))),n._onlineComponents}function jD(n){return fw(n).then(e=>e.persistence)}function pw(n){return fw(n).then(e=>e.localStore)}function qD(n){return _y(n).then(e=>e.remoteStore)}function mw(n){return _y(n).then(e=>e.syncEngine)}function q9(n){return _y(n).then(e=>e.datastore)}async function gc(n){const e=await _y(n),t=e.eventManager;return t.onListen=y9.bind(null,e.syncEngine),t.onUnlisten=v9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=_9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=E9.bind(null,e.syncEngine),t}function H9(n){return n.asyncQueue.enqueue(async()=>{const e=await jD(n),t=await qD(n);return e.setNetworkEnabled(!0),function(i){const o=Ee(i);return o.aa.delete(0),Vf(o)}(t)})}function $9(n){return n.asyncQueue.enqueue(async()=>{const e=await jD(n),t=await qD(n);return e.setNetworkEnabled(!1),async function(i){const o=Ee(i);o.aa.add(0),await Nc(o),o.la.set("Offline")}(t)})}function G9(n,e){const t=new Vn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const h=await function(d,g){const _=Ee(d);return _.persistence.runTransaction("read document","readonly",v=>_.localDocuments.getDocument(v,g))}(i,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new fe(ie.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const f=Vc(h,`Failed to get document '${o} from cache`);u.reject(f)}}(await pw(n),e,t)),t.promise}function HD(n,e,t={}){const r=new Vn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,d){const g=new yy({next:v=>{g.yu(),u.enqueueAndForget(()=>sw(o,_));const T=v.docs.has(h);!T&&v.fromCache?d.reject(new fe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&v.fromCache&&f&&f.source==="server"?d.reject(new fe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),_=new ow(Pc(h.path),g,{includeMetadataChanges:!0,Fa:!0});return iw(o,_)}(await gc(n),n.asyncQueue,e,t,r)),r.promise}function K9(n,e){const t=new Vn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const h=await Cg(i,o,!0),f=new VD(o,h.Ns),d=f.Ga(h.documents),g=f.applyChanges(d,!1);u.resolve(g.snapshot)}catch(h){const f=Vc(h,`Failed to execute query '${o} against cache`);u.reject(f)}}(await pw(n),e,t)),t.promise}function $D(n,e,t={}){const r=new Vn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,d){const g=new yy({next:v=>{g.yu(),u.enqueueAndForget(()=>sw(o,_)),v.fromCache&&f.source==="server"?d.reject(new fe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),_=new ow(h,g,{includeMetadataChanges:!0,Fa:!0});return iw(o,_)}(await gc(n),n.asyncQueue,e,t,r)),r.promise}function W9(n,e){const t=new yy(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).fa.add(o),o.next()}(await gc(n),t)),()=>{t.yu(),n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).fa.delete(o)}(await gc(n),t))}}function Q9(n,e,t,r){const i=function(u,h){let f;return f=typeof u=="string"?Sb().encode(u):u,function(g,_){return new B9(g,_)}(function(g,_){if(g instanceof Uint8Array)return _1(g,_);if(g instanceof ArrayBuffer)return _1(new Uint8Array(g),_);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),h)}(t,Mf(e));n.asyncQueue.enqueueAndForget(async()=>{V9(await mw(n),i,r)})}function Y9(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const o=Ee(r);return o.persistence.runTransaction("Get named query","readonly",u=>o.ci.getNamedQuery(u,i))}(await pw(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(n,e,t){if(!t)throw new fe(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function KD(n,e,t,r){if(e===!0&&r===!0)throw new fe(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function b1(n){if(!ve.isDocumentKey(n))throw new fe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function w1(n){if(ve.isDocumentKey(n))throw new fe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we(12329,{type:typeof n})}function Ze(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vy(n);throw new fe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function WD(n,e){if(e<=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="firestore.googleapis.com",T1=!0;class S1{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QD,this.ssl=T1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:T1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yF)throw new fe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new fe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kB;switch(r.type){case"firstParty":return new UB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=E1.get(t);r&&(pe("ComponentProvider","Removing Datastore"),E1.delete(t),r.terminate())}(this),Promise.resolve()}}function X9(n,e,t,r={}){var i;n=Ze(n,Lf);const o=qg(e),u=n._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;o&&Ix(`https://${f}`),u.host!==QD&&u.host!==f&&Ki("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},u),{host:f,ssl:o,emulatorOptions:r});if(!ks(d,h)&&(n._setSettings(d),r.mockUserToken)){let g,_;if(typeof r.mockUserToken=="string")g=r.mockUserToken,_=An.MOCK_USER;else{g=FL(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new fe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new An(v)}n._authCredentials=new MB(new jP(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let er=class YD{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new YD(this.firestore,e,this._query)}},Mt=class XD{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new XD(this.firestore,e,this._key)}},Va=class JD extends er{constructor(e,t,r){super(e,t,Pc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new ve(e))}withConverter(e){return new JD(this.firestore,e,this._path)}};function ZD(n,e,...t){if(n=Ce(n),gw("collection","path",e),n instanceof Lf){const r=Ge.fromString(e,...t);return w1(r),new Va(n,null,r)}{if(!(n instanceof Mt||n instanceof Va))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ge.fromString(e,...t));return w1(r),new Va(n.firestore,null,r)}}function J9(n,e){if(n=Ze(n,Lf),gw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new fe(ie.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new er(n,null,function(r){return new qs(Ge.emptyPath(),r)}(e))}function Dg(n,e,...t){if(n=Ce(n),arguments.length===1&&(e=qP.newId()),gw("doc","path",e),n instanceof Lf){const r=Ge.fromString(e,...t);return b1(r),new Mt(n,null,new ve(r))}{if(!(n instanceof Mt||n instanceof Va))throw new fe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ge.fromString(e,...t));return b1(r),new Mt(n.firestore,n instanceof Va?n.converter:null,new ve(r))}}function eN(n,e){return n=Ce(n),e=Ce(e),(n instanceof Mt||n instanceof Va)&&(e instanceof Mt||e instanceof Va)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function tN(n,e){return n=Ce(n),e=Ce(e),n instanceof er&&e instanceof er&&n.firestore===e.firestore&&Pf(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="AsyncQueue";class I1{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Zb(this,"async_queue_retry"),this.ju=()=>{const r=Gm();r&&pe(A1,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=Gm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Gm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Vn;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!io(e))throw e;pe(A1,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Yt("INTERNAL UNHANDLED ERROR: ",R1(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const i=rw.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(i),i}Ju(){this.Ku&&we(47125,{ec:R1(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function R1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class Z9{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez=-1;let Jt=class extends Lf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new I1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new I1(e),this._firestoreClient=void 0,await e}}};function $n(n){if(n._terminated)throw new fe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||nN(n),n._firestoreClient}function nN(n){var e,t,r;const i=n._freezeSettings(),o=function(h,f,d,g){return new b6(h,f,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,GD(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new j9(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}function tz(n,e){Ki("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return rN(n,lf.provider,{build:r=>new zD(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function nz(n){Ki("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();rN(n,lf.provider,{build:t=>new U9(t,e.cacheSizeBytes)})}function rN(n,e,t){if((n=Ze(n,Jt))._firestoreClient||n._terminated)throw new fe(ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new fe(ie.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},nN(n)}function rz(n){if(n._initialized&&!n._terminated)throw new fe(ie.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vn;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!zi.C())return Promise.resolve();const i=r+fD;await zi.delete(i)}(Qb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function iz(n){return function(t){const r=new Vn;return t.asyncQueue.enqueueAndForget(async()=>A9(await mw(t),r)),r.promise}($n(n=Ze(n,Jt)))}function sz(n){return H9($n(n=Ze(n,Jt)))}function az(n){return $9($n(n=Ze(n,Jt)))}function oz(n,e){const t=$n(n=Ze(n,Jt)),r=new Z9;return Q9(t,n._databaseId,e,r),r}function lz(n,e){return Y9($n(n=Ze(n,Jt)),e).then(t=>t?new er(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qi(jt.fromBase64String(e))}catch(t){throw new fe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Qi(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wa=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz=/^__.*__$/;class cz{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,t,this.fieldTransforms):new Oc(e,this.data,t,this.fieldTransforms)}}class iN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new $s(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{oc:n})}}class by{constructor(e,t,r,i,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new by(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Ng(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(sN(this.oc)&&uz.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class hz{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Mf(e)}dc(e,t,r,i=!1){return new by({oc:e,methodName:t,Ec:r,path:Ct.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Il(n){const e=n._freezeSettings(),t=Mf(n._databaseId);return new hz(n._databaseId,!!e.ignoreUndefinedProperties,t)}function wy(n,e,t,r,i,o={}){const u=n.dc(o.merge||o.mergeFields?2:0,e,t,i);Sw("Data must be an object, but it was:",u,r);const h=lN(r,u);let f,d;if(o.merge)f=new or(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const v=_E(e,_,t);if(!u.contains(v))throw new fe(ie.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);cN(g,v)||g.push(v)}f=new or(g),d=u.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,d=u.fieldTransforms;return new cz(new Mn(h),f,d)}class Uf extends Al{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uf}}function aN(n,e,t){return new by({oc:3,Ec:e.settings.Ec,methodName:n._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class _w extends Al{_toFieldTransform(e){return new Df(e.path,new lc)}isEqual(e){return e instanceof _w}}class vw extends Al{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=aN(this,e,!0),r=this.Ac.map(o=>Rl(o,t)),i=new fl(r);return new Df(e.path,i)}isEqual(e){return e instanceof vw&&ks(this.Ac,e.Ac)}}class Ew extends Al{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=aN(this,e,!0),r=this.Ac.map(o=>Rl(o,t)),i=new pl(r);return new Df(e.path,i)}isEqual(e){return e instanceof Ew&&ks(this.Ac,e.Ac)}}class bw extends Al{constructor(e,t){super(e),this.Rc=t}_toFieldTransform(e){const t=new uc(e.serializer,OO(e.serializer,this.Rc));return new Df(e.path,t)}isEqual(e){return e instanceof bw&&this.Rc===e.Rc}}function ww(n,e,t,r){const i=n.dc(1,e,t);Sw("Data must be an object, but it was:",i,r);const o=[],u=Mn.empty();so(r,(f,d)=>{const g=Aw(e,f,t);d=Ce(d);const _=i.hc(g);if(d instanceof Uf)o.push(g);else{const v=Rl(d,_);v!=null&&(o.push(g),u.set(g,v))}});const h=new or(o);return new iN(u,h,i.fieldTransforms)}function Tw(n,e,t,r,i,o){const u=n.dc(1,e,t),h=[_E(e,r,t)],f=[i];if(o.length%2!=0)throw new fe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)h.push(_E(e,o[v])),f.push(o[v+1]);const d=[],g=Mn.empty();for(let v=h.length-1;v>=0;--v)if(!cN(d,h[v])){const T=h[v];let b=f[v];b=Ce(b);const A=u.hc(T);if(b instanceof Uf)d.push(T);else{const P=Rl(b,A);P!=null&&(d.push(T),g.set(T,P))}}const _=new or(d);return new iN(g,_,u.fieldTransforms)}function oN(n,e,t,r=!1){return Rl(t,n.dc(r?4:3,e))}function Rl(n,e){if(uN(n=Ce(n)))return Sw("Unsupported field value:",e,n),lN(n,e);if(n instanceof Al)return function(r,i){if(!sN(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const o=[];let u=0;for(const h of r){let f=Rl(h,i.Pc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Ce(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Pt.fromDate(r);return{timestampValue:cc(i.serializer,o)}}if(r instanceof Pt){const o=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cc(i.serializer,o)}}if(r instanceof Ey)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qi)return{bytesValue:jO(i.serializer,r._byteString)};if(r instanceof Mt){const o=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw i.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:jb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof yw)return function(u,h){return{mapValue:{fields:{[Ob]:{stringValue:Db},[sc]:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw h.Tc("VectorValues must only contain numeric values.");return Vb(h.serializer,d)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${vy(r)}`)}(n,e)}function lN(n,e){const t={};return aO(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):so(n,(r,i)=>{const o=Rl(i,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function uN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof Ey||n instanceof Qi||n instanceof Mt||n instanceof Al||n instanceof yw)}function Sw(n,e,t){if(!uN(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=vy(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function _E(n,e,t){if((e=Ce(e))instanceof Wa)return e._internalPath;if(typeof e=="string")return Aw(n,e);throw Ng("Field path arguments must be of type string or ",n,!1,void 0,t)}const dz=new RegExp("[~\\*/\\[\\]]");function Aw(n,e,t){if(e.search(dz)>=0)throw Ng(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wa(...e.split("."))._internalPath}catch{throw Ng(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ng(n,e,t,r,i){const o=r&&!r.isEmpty(),u=i!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${i}`),f+=")"),new fe(ie.INVALID_ARGUMENT,h+n+f)}function cN(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ty("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class fz extends uf{data(){return super.data()}}function Ty(n,e){return typeof e=="string"?Aw(n,e):e instanceof Wa?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Iw{}class Bf extends Iw{}function Aa(n,e,...t){let r=[];e instanceof Iw&&r.push(e),r=r.concat(t),function(o){const u=o.filter(f=>f instanceof Rw).length,h=o.filter(f=>f instanceof Sy).length;if(u>1||u>0&&h>0)throw new fe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Sy extends Bf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Sy(e,t,r)}_apply(e){const t=this._parse(e);return fN(e._query,t),new er(e.firestore,e.converter,iE(e._query,t))}_parse(e){const t=Il(e.firestore);return function(o,u,h,f,d,g,_){let v;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){x1(_,g);const b=[];for(const A of _)b.push(C1(f,o,A));v={arrayValue:{values:b}}}else v=C1(f,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||x1(_,g),v=oN(h,u,_,g==="in"||g==="not-in");return Ke.create(d,g,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function pz(n,e,t){const r=e,i=Ty("where",n);return Sy._create(i,r,t)}class Rw extends Iw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Rw(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:lt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let u=i;const h=o.getFlattenedFilters();for(const f of h)fN(u,f),u=iE(u,f)}(e._query,t),new er(e.firestore,e.converter,iE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cw extends Bf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Cw(e,t)}_apply(e){const t=function(i,o,u){if(i.startAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new fe(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rf(o,u)}(e._query,this._field,this._direction);return new er(e.firestore,e.converter,function(i,o){const u=i.explicitOrderBy.concat([o]);return new qs(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function mz(n,e="asc"){const t=e,r=Ty("orderBy",n);return Cw._create(r,t)}class Ay extends Bf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Ay(e,t,r)}_apply(e){return new er(e.firestore,e.converter,Tg(e._query,this._limit,this._limitType))}}function gz(n){return WD("limit",n),Ay._create("limit",n,"F")}function yz(n){return WD("limitToLast",n),Ay._create("limitToLast",n,"L")}class Iy extends Bf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Iy(e,t,r)}_apply(e){const t=dN(e,this.type,this._docOrFields,this._inclusive);return new er(e.firestore,e.converter,function(i,o){return new qs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}}function _z(...n){return Iy._create("startAt",n,!0)}function vz(...n){return Iy._create("startAfter",n,!1)}class Ry extends Bf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Ry(e,t,r)}_apply(e){const t=dN(e,this.type,this._docOrFields,this._inclusive);return new er(e.firestore,e.converter,function(i,o){return new qs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,t))}}function Ez(...n){return Ry._create("endBefore",n,!1)}function bz(...n){return Ry._create("endAt",n,!0)}function dN(n,e,t,r){if(t[0]=Ce(t[0]),t[0]instanceof uf)return function(o,u,h,f,d){if(!f)throw new fe(ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const g=[];for(const _ of Hu(o))if(_.field.isKeyField())g.push(hl(u,f.key));else{const v=f.data.field(_.field);if(oy(v))throw new fe(ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const T=_.field.canonicalString();throw new fe(ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}g.push(v)}return new $a(g,d)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Il(n.firestore);return function(u,h,f,d,g,_){const v=u.explicitOrderBy;if(g.length>v.length)throw new fe(ie.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let b=0;b<g.length;b++){const A=g[b];if(v[b].field.isKeyField()){if(typeof A!="string")throw new fe(ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof A}`);if(!kb(u)&&A.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${A}' contains a slash.`);const P=u.path.child(Ge.fromString(A));if(!ve.isDocumentKey(P))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const U=new ve(P);T.push(hl(h,U))}else{const P=oN(f,d,A);T.push(P)}}return new $a(T,_)}(n._query,n.firestore._databaseId,i,e,t,r)}}function C1(n,e,t){if(typeof(t=Ce(t))=="string"){if(t==="")throw new fe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kb(e)&&t.indexOf("/")!==-1)throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ge.fromString(t));if(!ve.isDocumentKey(r))throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hl(n,new ve(r))}if(t instanceof Mt)return hl(n,t._key);throw new fe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vy(t)}.`)}function x1(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fN(n,e){const t=function(i,o){for(const u of i)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class xw{convertValue(e,t="none"){switch(qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return so(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[sc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(u=>It(u.doubleValue));return new yw(o)}convertGeoPoint(e){return new Ey(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ly(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ef(e));default:return null}}convertTimestamp(e){const t=Ls(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ge.fromString(e);Ae(ZO(r),9688,{name:e});const i=new ja(r.get(1),r.get(3)),o=new ve(r.popFirst(5));return i.isEqual(t)||Yt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class wz extends xw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Bs=class extends uf{constructor(e,t,r,i,o,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ud(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ty("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Ud=class extends Bs{data(e={}){return super.data(e)}},Qa=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new nl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ud(this._firestore,this._userDataWriter,r.key,r,new nl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(h=>{const f=new Ud(i._firestore,i._userDataWriter,h.doc.key,h.doc,new nl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new Ud(i._firestore,i._userDataWriter,h.doc.key,h.doc,new nl(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,g=-1;return h.type!==0&&(d=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:Tz(h.type),doc:f,oldIndex:d,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Tz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:n})}}function pN(n,e){return n instanceof Bs&&e instanceof Bs?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Qa&&e instanceof Qa&&n._firestore===e._firestore&&tN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sz(n){n=Ze(n,Mt);const e=Ze(n.firestore,Jt);return HD($n(e),n._key).then(t=>Pw(e,n,t))}class Cl extends xw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,t)}}function Az(n){n=Ze(n,Mt);const e=Ze(n.firestore,Jt),t=$n(e),r=new Cl(e);return G9(t,n._key).then(i=>new Bs(e,r,n._key,i,new nl(i!==null&&i.hasLocalMutations,!0),n.converter))}function Iz(n){n=Ze(n,Mt);const e=Ze(n.firestore,Jt);return HD($n(e),n._key,{source:"server"}).then(t=>Pw(e,n,t))}function Rz(n){n=Ze(n,er);const e=Ze(n.firestore,Jt),t=$n(e),r=new Cl(e);return hN(n._query),$D(t,n._query).then(i=>new Qa(e,r,n,i))}function Cz(n){n=Ze(n,er);const e=Ze(n.firestore,Jt),t=$n(e),r=new Cl(e);return K9(t,n._query).then(i=>new Qa(e,r,n,i))}function xz(n){n=Ze(n,er);const e=Ze(n.firestore,Jt),t=$n(e),r=new Cl(e);return $D(t,n._query,{source:"server"}).then(i=>new Qa(e,r,n,i))}function P1(n,e,t){n=Ze(n,Mt);const r=Ze(n.firestore,Jt),i=Cy(n.converter,e,t);return Ff(r,[wy(Il(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,xt.none())])}function O1(n,e,t,...r){n=Ze(n,Mt);const i=Ze(n.firestore,Jt),o=Il(i);let u;return u=typeof(e=Ce(e))=="string"||e instanceof Wa?Tw(o,"updateDoc",n._key,e,t,r):ww(o,"updateDoc",n._key,e),Ff(i,[u.toMutation(n._key,xt.exists(!0))])}function Pz(n){return Ff(Ze(n.firestore,Jt),[new Dc(n._key,xt.none())])}function Oz(n,e){const t=Ze(n.firestore,Jt),r=Dg(n),i=Cy(n.converter,e);return Ff(t,[wy(Il(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,xt.exists(!1))]).then(()=>r)}function mN(n,...e){var t,r,i;n=Ce(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||yE(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(yE(e[u])){const _=e[u];e[u]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[u+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[u+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let f,d,g;if(n instanceof Mt)d=Ze(n.firestore,Jt),g=Pc(n._key.path),f={next:_=>{e[u]&&e[u](Pw(d,n,_))},error:e[u+1],complete:e[u+2]};else{const _=Ze(n,er);d=Ze(_.firestore,Jt),g=_._query;const v=new Cl(d);f={next:T=>{e[u]&&e[u](new Qa(d,v,_,T))},error:e[u+1],complete:e[u+2]},hN(n._query)}return function(v,T,b,A){const P=new yy(A),U=new ow(T,P,b);return v.asyncQueue.enqueueAndForget(async()=>iw(await gc(v),U)),()=>{P.yu(),v.asyncQueue.enqueueAndForget(async()=>sw(await gc(v),U))}}($n(d),g,h,f)}function Dz(n,e){return W9($n(n=Ze(n,Jt)),yE(e)?e:{next:e})}function Ff(n,e){return function(r,i){const o=new Vn;return r.asyncQueue.enqueueAndForget(async()=>b9(await mw(r),i,o)),o.promise}($n(n),e)}function Pw(n,e,t){const r=t.docs.get(e._key),i=new Cl(n);return new Bs(n,i,e._key,r,new nl(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kz=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Il(e)}set(e,t,r){this._verifyNotCommitted();const i=xa(e,this._firestore),o=Cy(i.converter,t,r),u=wy(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(u.toMutation(i._key,xt.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=xa(e,this._firestore);let u;return u=typeof(t=Ce(t))=="string"||t instanceof Wa?Tw(this._dataReader,"WriteBatch.update",o._key,t,r,i):ww(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,xt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=xa(e,this._firestore);return this._mutations=this._mutations.concat(new Dc(t._key,xt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function xa(n,e){if((n=Ce(n)).firestore!==e)throw new fe(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Il(e)}get(e){const t=xa(e,this._firestore),r=new wz(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return we(24041);const o=i[0];if(o.isFoundDocument())return new uf(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new uf(this._firestore,r,t._key,null,t.converter);throw we(18433,{doc:o})})}set(e,t,r){const i=xa(e,this._firestore),o=Cy(i.converter,t,r),u=wy(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const o=xa(e,this._firestore);let u;return u=typeof(t=Ce(t))=="string"||t instanceof Wa?Tw(this._dataReader,"Transaction.update",o._key,t,r,i):ww(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=xa(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vz=class extends Mz{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=xa(e,this._firestore),r=new Cl(this._firestore);return super.get(e).then(i=>new Bs(this._firestore,r,t._key,i._document,new nl(!1,!1),t.converter))}};function Lz(n,e,t){n=Ze(n,Jt);const r=Object.assign(Object.assign({},Nz),t);return function(o){if(o.maxAttempts<1)throw new fe(ie.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,h){const f=new Vn;return o.asyncQueue.enqueueAndForget(async()=>{const d=await q9(o);new z9(o.asyncQueue,d,h,u,f).Nu()}),f.promise}($n(n),i=>e(new Vz(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(){return new Uf("deleteField")}function Bz(){return new _w("serverTimestamp")}function Fz(...n){return new vw("arrayUnion",n)}function zz(...n){return new Ew("arrayRemove",n)}function jz(n){return new bw("increment",n)}(function(e,t=!0){(function(i){xc=i})(to),Ba(new $i("firestore",(r,{instanceIdentifier:i,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Jt(new VB(r.getProvider("auth-internal")),new BB(u,r.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new fe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ja(d.options.projectId,g)}(u,i),u);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),oi(oR,lR,e),oi(oR,lR,"esm2017")})();const qz="@firebase/firestore-compat",Hz="0.3.47";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(){if(typeof Uint8Array>"u")throw new fe("unimplemented","Uint8Arrays are not available in this environment.")}function N1(){if(!v6())throw new fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}let gN=class vE{constructor(e){this._delegate=e}static fromBase64String(e){return N1(),new vE(Qi.fromBase64String(e))}static fromUint8Array(e){return D1(),new vE(Qi.fromUint8Array(e))}toBase64(){return N1(),this._delegate.toBase64()}toUint8Array(){return D1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(n){return $z(n,["next","error","complete"])}function $z(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{enableIndexedDbPersistence(e,t){return tz(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return nz(e._delegate)}clearIndexedDbPersistence(e){return rz(e._delegate)}}class yN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ja||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ki("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){X9(this._delegate,e,t,r)}enableNetwork(){return sz(this._delegate)}disableNetwork(){return az(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,KD("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return iz(this._delegate)}onSnapshotsInSync(e){return Dz(this._delegate,e)}get app(){if(!this._appCompat)throw new fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new yc(this,ZD(this._delegate,e))}catch(t){throw Xn(t,"collection()","Firestore.collection()")}}doc(e){try{return new $r(this,Dg(this._delegate,e))}catch(t){throw Xn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Yn(this,J9(this._delegate,e))}catch(t){throw Xn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Lz(this._delegate,t=>e(new _N(this,t)))}batch(){return $n(this._delegate),new vN(new kz(this._delegate,e=>Ff(this._delegate,e)))}loadBundle(e){return oz(this._delegate,e)}namedQuery(e){return lz(this._delegate,e).then(t=>t?new Yn(this,t):null)}}class xy extends xw{constructor(e){super(),this.firestore=e}convertBytes(e){return new gN(new Qi(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return $r.forKey(t,this.firestore,null)}}function Kz(n){DB(n)}class _N{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new xy(e)}get(e){const t=rl(e);return this._delegate.get(t).then(r=>new cf(this._firestore,new Bs(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=rl(e);return r?(Ow("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=rl(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=rl(e);return this._delegate.delete(t),this}}class vN{constructor(e){this._delegate=e}set(e,t,r){const i=rl(e);return r?(Ow("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=rl(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=rl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class vl{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Ud(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new hf(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=vl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new vl(e,new xy(e),t),i.set(t,o)),o}}vl.INSTANCES=new WeakMap;class $r{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xy(e)}static forPath(e,t,r){if(e.length%2!==0)throw new fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new $r(t,new Mt(t._delegate,r,new ve(e)))}static forKey(e,t,r){return new $r(t,new Mt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new yc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new yc(this.firestore,ZD(this._delegate,e))}catch(t){throw Xn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ce(e),e instanceof Mt?eN(this._delegate,e):!1}set(e,t){t=Ow("DocumentReference.set",t);try{return t?P1(this._delegate,e,t):P1(this._delegate,e)}catch(r){throw Xn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?O1(this._delegate,e):O1(this._delegate,e,t,...r)}catch(i){throw Xn(i,"updateDoc()","DocumentReference.update()")}}delete(){return Pz(this._delegate)}onSnapshot(...e){const t=EN(e),r=bN(e,i=>new cf(this.firestore,new Bs(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return mN(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=Az(this._delegate):(e==null?void 0:e.source)==="server"?t=Iz(this._delegate):t=Sz(this._delegate),t.then(r=>new cf(this.firestore,new Bs(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new $r(this.firestore,e?this._delegate.withConverter(vl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Xn(n,e,t){return n.message=n.message.replace(e,t),n}function EN(n){for(const e of n)if(typeof e=="object"&&!EE(e))return e;return{}}function bN(n,e){var t,r;let i;return EE(n[0])?i=n[0]:EE(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class cf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new $r(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return pN(this._delegate,e._delegate)}}class hf extends cf{data(e){const t=this._delegate.data(e);return this._delegate._converter||NB(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class Yn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xy(e)}where(e,t,r){try{return new Yn(this.firestore,Aa(this._delegate,pz(e,t,r)))}catch(i){throw Xn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Yn(this.firestore,Aa(this._delegate,mz(e,t)))}catch(r){throw Xn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Yn(this.firestore,Aa(this._delegate,gz(e)))}catch(t){throw Xn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Yn(this.firestore,Aa(this._delegate,yz(e)))}catch(t){throw Xn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Yn(this.firestore,Aa(this._delegate,_z(...e)))}catch(t){throw Xn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Yn(this.firestore,Aa(this._delegate,vz(...e)))}catch(t){throw Xn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Yn(this.firestore,Aa(this._delegate,Ez(...e)))}catch(t){throw Xn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Yn(this.firestore,Aa(this._delegate,bz(...e)))}catch(t){throw Xn(t,"endAt()","Query.endAt()")}}isEqual(e){return tN(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=Cz(this._delegate):(e==null?void 0:e.source)==="server"?t=xz(this._delegate):t=Rz(this._delegate),t.then(r=>new bE(this.firestore,new Qa(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=EN(e),r=bN(e,i=>new bE(this.firestore,new Qa(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return mN(this._delegate,t,r)}withConverter(e){return new Yn(this.firestore,e?this._delegate.withConverter(vl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Wz{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new hf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class bE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Yn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new hf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Wz(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new hf(this._firestore,r))})}isEqual(e){return pN(this._delegate,e._delegate)}}class yc extends Yn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new $r(this.firestore,e):null}doc(e){try{return e===void 0?new $r(this.firestore,Dg(this._delegate)):new $r(this.firestore,Dg(this._delegate,e))}catch(t){throw Xn(t,"doc()","CollectionReference.doc()")}}add(e){return Oz(this._delegate,e).then(t=>new $r(this.firestore,t))}isEqual(e){return eN(this._delegate,e._delegate)}withConverter(e){return new yc(this.firestore,e?this._delegate.withConverter(vl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function rl(n){return Ze(n,Mt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(...e){this._delegate=new Wa(...e)}static documentId(){return new Dw(Ct.keyField().canonicalString())}isEqual(e){return e=Ce(e),e instanceof Wa?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{static serverTimestamp(){const e=Bz();return e._methodName="FieldValue.serverTimestamp",new Zo(e)}static delete(){const e=Uz();return e._methodName="FieldValue.delete",new Zo(e)}static arrayUnion(...e){const t=Fz(...e);return t._methodName="FieldValue.arrayUnion",new Zo(t)}static arrayRemove(...e){const t=zz(...e);return t._methodName="FieldValue.arrayRemove",new Zo(t)}static increment(e){const t=jz(e);return t._methodName="FieldValue.increment",new Zo(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz={Firestore:yN,GeoPoint:Ey,Timestamp:Pt,Blob:gN,Transaction:_N,WriteBatch:vN,DocumentReference:$r,DocumentSnapshot:cf,Query:Yn,QueryDocumentSnapshot:hf,QuerySnapshot:bE,CollectionReference:yc,FieldPath:Dw,FieldValue:Zo,setLogLevel:Kz,CACHE_SIZE_UNLIMITED:ez};function Yz(n,e){n.INTERNAL.registerComponent(new $i("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Qz)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xz(n){Yz(n,(e,t)=>new yN(e,t,new Gz)),n.registerVersion(qz,Hz)}Xz(Ac);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jz=2e3;async function Zz(n,e,t){var r;const{BuildInfo:i}=El();li(e.sessionId,"AuthEvent did not contain a session ID");const o=await ij(e.sessionId),u={};return wf()?u.ibi=i.packageName:bf()?u.apn=i.packageName:Rn(n,"operation-not-supported-in-this-environment"),i.displayName&&(u.appDisplayName=i.displayName),u.sessionId=o,H0(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,u)}async function ej(n){const{BuildInfo:e}=El(),t={};wf()?t.iosBundleId=e.packageName:bf()?t.androidPackageName=e.packageName:Rn(n,"operation-not-supported-in-this-environment"),await DP(n,t)}function tj(n){const{cordova:e}=El();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,BU()?"_blank":"_system","location=yes"),t(i)})})}async function nj(n,e,t){const{cordova:r}=El();let i=()=>{};try{await new Promise((o,u)=>{let h=null;function f(){var _;o();const v=(_=r.plugins.browsertab)===null||_===void 0?void 0:_.close;typeof v=="function"&&v(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function d(){h||(h=window.setTimeout(()=>{u(yn(n,"redirect-cancelled-by-user"))},Jz))}function g(){(document==null?void 0:document.visibilityState)==="visible"&&d()}e.addPassiveListener(f),document.addEventListener("resume",d,!1),bf()&&document.addEventListener("visibilitychange",g,!1),i=()=>{e.removePassiveListener(f),document.removeEventListener("resume",d,!1),document.removeEventListener("visibilitychange",g,!1),h&&window.clearTimeout(h)}})}finally{i()}}function rj(n){var e,t,r,i,o,u,h,f,d,g;const _=El();ye(typeof((e=_==null?void 0:_.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ye(typeof((t=_==null?void 0:_.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ye(typeof((o=(i=(r=_==null?void 0:_.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ye(typeof((f=(h=(u=_==null?void 0:_.cordova)===null||u===void 0?void 0:u.plugins)===null||h===void 0?void 0:h.browsertab)===null||f===void 0?void 0:f.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ye(typeof((g=(d=_==null?void 0:_.cordova)===null||d===void 0?void 0:d.InAppBrowser)===null||g===void 0?void 0:g.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function ij(n){const e=sj(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function sj(n){if(li(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=20;class oj extends PP{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function lj(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:hj(),postBody:null,tenantId:n.tenantId,error:yn(n,"no-auth-event")}}function uj(n,e){return wE()._set(TE(n),e)}async function k1(n){const e=await wE()._get(TE(n));return e&&await wE()._remove(TE(n)),e}function cj(n,e){var t,r;const i=fj(e);if(i.includes("/__/auth/callback")){const o=Km(i),u=o.firebaseError?dj(decodeURIComponent(o.firebaseError)):null,h=(r=(t=u==null?void 0:u.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],f=h?yn(h):null;return f?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:f,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function hj(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<aj;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function wE(){return Ir(Jg)}function TE(n){return sl("authEvent",n.config.apiKey,n.name)}function dj(n){try{return JSON.parse(n)}catch{return null}}function fj(n){const e=Km(n),t=e.link?decodeURIComponent(e.link):void 0,r=Km(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Km(i).link||i||r||t||n}function Km(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return Uu(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=500;class mj{constructor(){this._redirectPersistence=Fa,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ny,this._overrideRedirectResult=bb}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new oj(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Rn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){rj(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),z3(),await this._originValidation(e);const u=lj(e,r,i);await uj(e,u);const h=await Zz(e,u,t),f=await tj(h);return nj(e,o,f)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ej(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=El(),u=setTimeout(async()=>{await k1(e),t.onEvent(M1())},pj),h=async g=>{clearTimeout(u);const _=await k1(e);let v=null;_&&(g!=null&&g.url)&&(v=cj(_,g.url)),t.onEvent(v||M1())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,h);const f=i,d=`${o.packageName.toLowerCase()}://`;El().handleOpenURL=async g=>{if(g.toLowerCase().startsWith(d)&&h({url:g}),typeof f=="function")try{f(g)}catch(_){console.error(_)}}}}const gj=mj;function M1(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:yn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(n,e){Lt(n)._logFramework(e)}var _j="@firebase/auth-compat",vj="0.5.22";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=1e3;function Bd(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function bj(){return Bd()==="http:"||Bd()==="https:"}function wN(n=Vt()){return!!((Bd()==="file:"||Bd()==="ionic:"||Bd()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function wj(){return eb()||ZE()}function Tj(){return Tx()&&(document==null?void 0:document.documentMode)===11}function Sj(n=Vt()){return/Edge\/\d+/.test(n)}function Aj(n=Vt()){return Tj()||Sj(n)}function TN(){try{const n=self.localStorage,e=Af();if(n)return n.setItem(e,"1"),n.removeItem(e),Aj()?qd():!0}catch{return Nw()&&qd()}return!1}function Nw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function E0(){return(bj()||wx()||wN())&&!wj()&&TN()&&!Nw()}function SN(){return wN()&&typeof document<"u"}async function Ij(){return SN()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},Ej);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function Rj(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr={LOCAL:"local",NONE:"none",SESSION:"session"},sd=ye,AN="persistence";function Cj(n,e){if(sd(Object.values(Sr).includes(e),n,"invalid-persistence-type"),eb()){sd(e!==Sr.SESSION,n,"unsupported-persistence-type");return}if(ZE()){sd(e===Sr.NONE,n,"unsupported-persistence-type");return}if(Nw()){sd(e===Sr.NONE||e===Sr.LOCAL&&qd(),n,"unsupported-persistence-type");return}sd(e===Sr.NONE||TN(),n,"unsupported-persistence-type")}async function SE(n){await n._initializationPromise;const e=IN(),t=sl(AN,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}function xj(n,e){const t=IN();if(!t)return[];const r=sl(AN,n,e);switch(t.getItem(r)){case Sr.NONE:return[Yu];case Sr.LOCAL:return[Ju,Fa];case Sr.SESSION:return[Fa];default:return[]}}function IN(){var n;try{return((n=Rj())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=ye;class Pa{constructor(){this.browserResolver=Ir(NP),this.cordovaResolver=Ir(gj),this.underlyingResolver=null,this._redirectPersistence=Fa,this._completeRedirectFn=ny,this._overrideRedirectResult=bb}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return SN()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Pj(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await Ij();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(n){return n.unwrap()}function Oj(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(n){return CN(n)}function Nj(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new kj(n,n3(n,e))}else if(r){const i=CN(e),o=e;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function CN(n){const{_tokenResponse:e}=n instanceof Jn?n.customData:n;if(!e)return null;if(!(n instanceof Jn)&&"temporaryProof"in e&&"phoneNumber"in e)return cl.credentialFromResult(n);const t=e.providerId;if(!t||t===Jh.PASSWORD)return null;let r;switch(t){case Jh.GOOGLE:r=Mi;break;case Jh.FACEBOOK:r=ki;break;case Jh.GITHUB:r=Vi;break;case Jh.TWITTER:r=Li;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:u,pendingToken:h,nonce:f}=e;return!o&&!u&&!i&&!h?null:h?t.startsWith("saml.")?Xu._create(t,h):Gi._fromParams({providerId:t,signInMethod:t,pendingToken:h,idToken:i,accessToken:o}):new ju(t).credential({idToken:i,accessToken:o,rawNonce:f})}return n instanceof Jn?r.credentialFromError(n):r.credentialFromResult(n)}function sr(n,e){return e.catch(t=>{throw t instanceof Jn&&Nj(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:Dj(t),additionalUserInfo:Z5(t),user:Ps.getOrCreate(i)}})}async function AE(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>sr(n,t.confirm(r))}}class kj{constructor(e,t){this.resolver=t,this.auth=Oj(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return sr(RN(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this._delegate=e,this.multiFactor=s3(e)}static getOrCreate(e){return Ps.USER_MAP.has(e)||Ps.USER_MAP.set(e,new Ps(e)),Ps.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return sr(this.auth,fP(this._delegate,e))}async linkWithPhoneNumber(e,t){return AE(this.auth,C3(this._delegate,e,t))}async linkWithPopup(e){return sr(this.auth,L3(this._delegate,e,Pa))}async linkWithRedirect(e){return await SE(Lt(this.auth)),G3(this._delegate,e,Pa)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return sr(this.auth,pP(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return AE(this.auth,x3(this._delegate,e,t))}reauthenticateWithPopup(e){return sr(this.auth,V3(this._delegate,e,Pa))}async reauthenticateWithRedirect(e){return await SE(Lt(this.auth)),H3(this._delegate,e,Pa)}sendEmailVerification(e){return j5(this._delegate,e)}async unlink(e){return await P5(this._delegate,e),this}updateEmail(e){return G5(this._delegate,e)}updatePassword(e){return K5(this._delegate,e)}updatePhoneNumber(e){return P3(this._delegate,e)}updateProfile(e){return $5(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return q5(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ps.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=ye;let IE=class{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;ad(r,"invalid-api-key",{appName:e.name}),ad(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Pa:void 0;this._delegate=t.initialize({options:{persistence:Mj(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(vU),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ps.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){sP(this._delegate,e,t)}applyActionCode(e){return M5(this._delegate,e)}checkActionCode(e){return mP(this._delegate,e)}confirmPasswordReset(e,t){return k5(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return sr(this._delegate,gP(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return z5(this._delegate,e)}isSignInWithEmailLink(e){return U5(this._delegate,e)}async getRedirectResult(){ad(E0(),this._delegate,"operation-not-supported-in-this-environment");const e=await W3(this._delegate,Pa);return e?sr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){yj(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:o,complete:u}=V1(e,t,r);return this._delegate.onAuthStateChanged(i,o,u)}onIdTokenChanged(e,t,r){const{next:i,error:o,complete:u}=V1(e,t,r);return this._delegate.onIdTokenChanged(i,o,u)}sendSignInLinkToEmail(e,t){return L5(this._delegate,e,t)}sendPasswordResetEmail(e,t){return N5(this._delegate,e,t||void 0)}async setPersistence(e){Cj(this._delegate,e);let t;switch(e){case Sr.SESSION:t=Fa;break;case Sr.LOCAL:t=await Ir(Ju)._isAvailable()?Ju:Jg;break;case Sr.NONE:t=Yu;break;default:return Rn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return sr(this._delegate,x5(this._delegate))}signInWithCredential(e){return sr(this._delegate,Yg(this._delegate,e))}signInWithCustomToken(e){return sr(this._delegate,D5(this._delegate,e))}signInWithEmailAndPassword(e,t){return sr(this._delegate,yP(this._delegate,e,t))}signInWithEmailLink(e,t){return sr(this._delegate,B5(this._delegate,e,t))}signInWithPhoneNumber(e,t){return AE(this._delegate,R3(this._delegate,e,t))}async signInWithPopup(e){return ad(E0(),this._delegate,"operation-not-supported-in-this-environment"),sr(this._delegate,M3(this._delegate,e,Pa))}async signInWithRedirect(e){return ad(E0(),this._delegate,"operation-not-supported-in-this-environment"),await SE(this._delegate),j3(this._delegate,e,Pa)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return V5(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};IE.Persistence=Sr;function V1(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:u=>i(u&&Ps.getOrCreate(u)),error:e,complete:t}}function Mj(n,e){const t=xj(n,e);if(typeof self<"u"&&!t.includes(Ju)&&t.push(Ju),typeof window<"u")for(const r of[Jg,Fa])t.includes(r)||t.push(r);return t.includes(Yu)||t.push(Yu),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{static credential(e,t){return cl.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new cl(RN(Ac.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}kw.PHONE_SIGN_IN_METHOD=cl.PHONE_SIGN_IN_METHOD;kw.PROVIDER_ID=cl.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=ye;class Lj{constructor(e,t,r=Ac.app()){var i;Vj((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new A3(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="auth-compat";function Bj(n){n.INTERNAL.registerComponent(new $i(Uj,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new IE(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Eu.EMAIL_SIGNIN,PASSWORD_RESET:Eu.PASSWORD_RESET,RECOVER_EMAIL:Eu.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Eu.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Eu.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Eu.VERIFY_EMAIL}},EmailAuthProvider:no,FacebookAuthProvider:ki,GithubAuthProvider:Vi,GoogleAuthProvider:Mi,OAuthProvider:ju,SAMLAuthProvider:hg,PhoneAuthProvider:kw,PhoneMultiFactorGenerator:kP,RecaptchaVerifier:Lj,TwitterAuthProvider:Li,Auth:IE,AuthCredential:Rc,Error:Jn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(_j,vj)}Bj(Ac);const Fj={apiKey:"AIzaSyA6mAGtezyZbmlResbzZptNtwZZAVs2I6Y",authDomain:"e-clone-df53f.firebaseapp.com",projectId:"e-clone-df53f",storageBucket:"e-clone-df53f.firebasestorage.app",messagingSenderId:"576467870296",appId:"1:576467870296:web:66e77871429551818ee02d",measurementId:"G-GQRZVEV0SX"},xN=Ac.initializeApp(Fj),RE=PB(xN),PN=xN.firestore();function zj(){var i;const[{user:n,basket:e},t]=W.useContext(eo),r=e==null?void 0:e.reduce((o,u)=>u.amount+o,0);return q.jsxs("section",{className:Is.fixed,children:[q.jsx("section",{children:q.jsxs("div",{className:Is.header__container,children:[q.jsxs("div",{className:Is.logo__container,children:[q.jsx(si,{to:"/",children:q.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"amazon logo"})}),q.jsxs("div",{className:Is.delivery,children:[q.jsx("span",{children:q.jsx(SL,{})}),q.jsxs("div",{children:[q.jsx("p",{children:"Delivered to"}),q.jsx("span",{children:"Ethiopia"})]})]})]}),q.jsxs("div",{className:Is.search,children:[q.jsx("select",{name:"",id:"",children:q.jsx("option",{value:"",children:"All"})}),q.jsx("input",{type:"text"}),q.jsx(AL,{size:38})]}),q.jsxs("div",{className:Is.order__container,children:[q.jsxs(si,{to:"",className:Is.language,children:[q.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/a/a4/Flag_of_the_United_States.svg/1024px-flag_of_the_united_states.svg.png",alt:""}),q.jsx("select",{children:q.jsx("option",{value:"",children:"EN"})})]}),q.jsx(si,{to:!n&&"/auth",children:q.jsx("div",{children:n?q.jsxs(q.Fragment,{children:[q.jsxs("p",{children:["Hello ",(i=n==null?void 0:n.email)==null?void 0:i.split("@")[0]]}),q.jsx("span",{onClick:()=>RE.signOut(),children:"Sign Out"})]}):q.jsxs(q.Fragment,{children:[q.jsx("p",{children:"Hello, Sign In"}),q.jsx("span",{children:"Account & Lists"})]})})}),q.jsxs(si,{to:"/orders",children:[q.jsx("p",{children:"Returns"}),q.jsx("span",{children:"& Orders"})]}),q.jsxs(si,{to:"/cart",className:Is.cart,children:[q.jsx(IL,{size:25}),q.jsx("span",{children:r})]})]})]})}),q.jsx(CL,{})]})}function Lc({children:n}){return q.jsxs("div",{children:[q.jsx(zj,{}),n]})}var b0={},od={},Sm={},Am={},w0={exports:{}},T0,L1;function jj(){if(L1)return T0;L1=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return T0=n,T0}var S0,U1;function qj(){if(U1)return S0;U1=1;var n=jj();function e(){}function t(){}return t.resetWarningCache=e,S0=function(){function r(u,h,f,d,g,_){if(_!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},S0}var B1;function ON(){return B1||(B1=1,w0.exports=qj()()),w0.exports}var F1;function Hj(){return F1||(F1=1,function(n){(function(e,t){t(n,Ja(),ON())})(Am,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=b;var i=u(t),o=u(r);function u(V){return V&&V.__esModule?V:{default:V}}var h=Object.assign||function(V){for(var L=1;L<arguments.length;L++){var H=arguments[L];for(var F in H)Object.prototype.hasOwnProperty.call(H,F)&&(V[F]=H[F])}return V};function f(V,L){var H={};for(var F in V)L.indexOf(F)>=0||Object.prototype.hasOwnProperty.call(V,F)&&(H[F]=V[F]);return H}function d(V,L){if(!(V instanceof L))throw new TypeError("Cannot call a class as a function")}var g=function(){function V(L,H){for(var F=0;F<H.length;F++){var K=H[F];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(L,K.key,K)}}return function(L,H,F){return H&&V(L.prototype,H),F&&V(L,F),L}}();function _(V,L){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:V}function v(V,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);V.prototype=Object.create(L&&L.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(V,L):V.__proto__=L)}var T=!1;function b(V){T=V}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){b(!0)}}))}catch{}function A(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return T?V:V.capture}function P(V){if("touches"in V){var L=V.touches[0],H=L.pageX,F=L.pageY;return{x:H,y:F}}var K=V.screenX,M=V.screenY;return{x:K,y:M}}var U=function(V){v(L,V);function L(){var H;d(this,L);for(var F=arguments.length,K=Array(F),M=0;M<F;M++)K[M]=arguments[M];var R=_(this,(H=L.__proto__||Object.getPrototypeOf(L)).call.apply(H,[this].concat(K)));return R._handleSwipeStart=R._handleSwipeStart.bind(R),R._handleSwipeMove=R._handleSwipeMove.bind(R),R._handleSwipeEnd=R._handleSwipeEnd.bind(R),R._onMouseDown=R._onMouseDown.bind(R),R._onMouseMove=R._onMouseMove.bind(R),R._onMouseUp=R._onMouseUp.bind(R),R._setSwiperRef=R._setSwiperRef.bind(R),R}return g(L,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,A({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,A({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(F){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(F))}},{key:"_onMouseMove",value:function(F){this.mouseDown&&this._handleSwipeMove(F)}},{key:"_onMouseUp",value:function(F){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(F)}},{key:"_handleSwipeStart",value:function(F){var K=P(F),M=K.x,R=K.y;this.moveStart={x:M,y:R},this.props.onSwipeStart(F)}},{key:"_handleSwipeMove",value:function(F){if(this.moveStart){var K=P(F),M=K.x,R=K.y,x=M-this.moveStart.x,w=R-this.moveStart.y;this.moving=!0;var O=this.props.onSwipeMove({x,y:w},F);O&&F.cancelable&&F.preventDefault(),this.movePosition={deltaX:x,deltaY:w}}}},{key:"_handleSwipeEnd",value:function(F){this.props.onSwipeEnd(F);var K=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-K?this.props.onSwipeLeft(1,F):this.movePosition.deltaX>K&&this.props.onSwipeRight(1,F),this.movePosition.deltaY<-K?this.props.onSwipeUp(1,F):this.movePosition.deltaY>K&&this.props.onSwipeDown(1,F)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(F){this.swiper=F,this.props.innerRef(F)}},{key:"render",value:function(){var F=this.props;F.tagName;var K=F.className,M=F.style,R=F.children;F.allowMouseEvents,F.onSwipeUp,F.onSwipeDown,F.onSwipeLeft,F.onSwipeRight,F.onSwipeStart,F.onSwipeMove,F.onSwipeEnd,F.innerRef,F.tolerance;var x=f(F,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,h({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:K,style:M},x),R)}}]),L}(t.Component);U.displayName="ReactSwipe",U.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},U.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=U})}(Am)),Am}var z1;function DN(){return z1||(z1=1,function(n){(function(e,t){t(n,Hj())})(Sm,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default})}(Sm)),Sm}var ld={},A0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var j1;function $j(){return j1||(j1=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(o=i(o,r(h)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var h in o)e.call(o,h)&&o[h]&&(u=i(u,h));return u}function i(o,u){return u?o?o+" "+u:o+u:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(A0)),A0.exports}var q1;function NN(){if(q1)return ld;q1=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.default=void 0;var n=e($j());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var r={ROOT:function(o){return(0,n.default)(t({"carousel-root":!0},o||"",!!o))},CAROUSEL:function(o){return(0,n.default)({carousel:!0,"carousel-slider":o})},WRAPPER:function(o,u){return(0,n.default)({"thumbs-wrapper":!o,"slider-wrapper":o,"axis-horizontal":u==="horizontal","axis-vertical":u!=="horizontal"})},SLIDER:function(o,u){return(0,n.default)({thumbs:!o,slider:o,animated:!u})},ITEM:function(o,u,h){return(0,n.default)({thumb:!o,slide:o,selected:u,previous:h})},ARROW_PREV:function(o){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":o})},ARROW_NEXT:function(o){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":o})},DOT:function(o){return(0,n.default)({dot:!0,selected:o})}};return ld.default=r,ld}var ud={},cd={},H1;function Gj(){if(H1)return cd;H1=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return cd.outerWidth=n,cd}var hd={},$1;function Mw(){if($1)return hd;$1=1,Object.defineProperty(hd,"__esModule",{value:!0}),hd.default=void 0;var n=function(t,r,i){var o=t===0?t:t+r,u=i==="horizontal"?[o,0,0]:[0,o,0],h="translate3d",f="("+u.join(",")+")";return h+f};return hd.default=n,hd}var dd={},G1;function kN(){if(G1)return dd;G1=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.default=void 0;var n=function(){return window};return dd.default=n,dd}var K1;function MN(){if(K1)return ud;K1=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.default=void 0;var n=f(Ja()),e=u(NN()),t=Gj(),r=u(Mw()),i=u(DN()),o=u(kN());function u(R){return R&&R.__esModule?R:{default:R}}function h(){if(typeof WeakMap!="function")return null;var R=new WeakMap;return h=function(){return R},R}function f(R){if(R&&R.__esModule)return R;if(R===null||d(R)!=="object"&&typeof R!="function")return{default:R};var x=h();if(x&&x.has(R))return x.get(R);var w={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in R)if(Object.prototype.hasOwnProperty.call(R,C)){var D=O?Object.getOwnPropertyDescriptor(R,C):null;D&&(D.get||D.set)?Object.defineProperty(w,C,D):w[C]=R[C]}return w.default=R,x&&x.set(R,w),w}function d(R){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(w){return typeof w}:d=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},d(R)}function g(){return g=Object.assign||function(R){for(var x=1;x<arguments.length;x++){var w=arguments[x];for(var O in w)Object.prototype.hasOwnProperty.call(w,O)&&(R[O]=w[O])}return R},g.apply(this,arguments)}function _(R,x){if(!(R instanceof x))throw new TypeError("Cannot call a class as a function")}function v(R,x){for(var w=0;w<x.length;w++){var O=x[w];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(R,O.key,O)}}function T(R,x,w){return x&&v(R.prototype,x),R}function b(R,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(x&&x.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),x&&A(R,x)}function A(R,x){return A=Object.setPrototypeOf||function(O,C){return O.__proto__=C,O},A(R,x)}function P(R){var x=L();return function(){var O=H(R),C;if(x){var D=H(this).constructor;C=Reflect.construct(O,arguments,D)}else C=O.apply(this,arguments);return U(this,C)}}function U(R,x){return x&&(d(x)==="object"||typeof x=="function")?x:V(R)}function V(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function L(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function H(R){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},H(R)}function F(R,x,w){return x in R?Object.defineProperty(R,x,{value:w,enumerable:!0,configurable:!0,writable:!0}):R[x]=w,R}var K=function(x){return x.hasOwnProperty("key")},M=function(R){b(w,R);var x=P(w);function w(O){var C;return _(this,w),C=x.call(this,O),F(V(C),"itemsWrapperRef",void 0),F(V(C),"itemsListRef",void 0),F(V(C),"thumbsRef",void 0),F(V(C),"setItemsWrapperRef",function(D){C.itemsWrapperRef=D}),F(V(C),"setItemsListRef",function(D){C.itemsListRef=D}),F(V(C),"setThumbsRef",function(D,se){C.thumbsRef||(C.thumbsRef=[]),C.thumbsRef[se]=D}),F(V(C),"updateSizes",function(){if(!(!C.props.children||!C.itemsWrapperRef||!C.thumbsRef)){var D=n.Children.count(C.props.children),se=C.itemsWrapperRef.clientWidth,B=C.props.thumbWidth?C.props.thumbWidth:(0,t.outerWidth)(C.thumbsRef[0]),$=Math.floor(se/B),J=$<D,le=J?D-$:0;C.setState(function(be,j){return{itemSize:B,visibleItems:$,firstItem:J?C.getFirstItem(j.selectedItem):0,lastPosition:le,showArrows:J}})}}),F(V(C),"handleClickItem",function(D,se,B){if(!K(B)||B.key==="Enter"){var $=C.props.onSelectItem;typeof $=="function"&&$(D,se)}}),F(V(C),"onSwipeStart",function(){C.setState({swiping:!0})}),F(V(C),"onSwipeEnd",function(){C.setState({swiping:!1})}),F(V(C),"onSwipeMove",function(D){var se=D.x;if(!C.state.itemSize||!C.itemsWrapperRef||!C.state.visibleItems)return!1;var B=0,$=n.Children.count(C.props.children),J=-(C.state.firstItem*100)/C.state.visibleItems,le=Math.max($-C.state.visibleItems,0),be=-le*100/C.state.visibleItems;J===B&&se>0&&(se=0),J===be&&se<0&&(se=0);var j=C.itemsWrapperRef.clientWidth,re=J+100/(j/se);return C.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(ge){C.itemsListRef.style[ge]=(0,r.default)(re,"%",C.props.axis)}),!0}),F(V(C),"slideRight",function(D){C.moveTo(C.state.firstItem-(typeof D=="number"?D:1))}),F(V(C),"slideLeft",function(D){C.moveTo(C.state.firstItem+(typeof D=="number"?D:1))}),F(V(C),"moveTo",function(D){D=D<0?0:D,D=D>=C.state.lastPosition?C.state.lastPosition:D,C.setState({firstItem:D})}),C.state={selectedItem:O.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},C}return T(w,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(C){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==C.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(C){var D=C;return C>=this.state.lastPosition&&(D=this.state.lastPosition),C<this.state.firstItem+this.state.visibleItems&&(D=this.state.firstItem),C<this.state.firstItem&&(D=C),D}},{key:"renderItems",value:function(){var C=this;return this.props.children.map(function(D,se){var B=e.default.ITEM(!1,se===C.state.selectedItem),$={key:se,ref:function(le){return C.setThumbsRef(le,se)},className:B,onClick:C.handleClickItem.bind(C,se,C.props.children[se]),onKeyDown:C.handleClickItem.bind(C,se,C.props.children[se]),"aria-label":"".concat(C.props.labels.item," ").concat(se+1),style:{width:C.props.thumbWidth}};return n.default.createElement("li",g({},$,{role:"button",tabIndex:0}),D)})}},{key:"render",value:function(){var C=this;if(!this.props.children)return null;var D=n.Children.count(this.props.children)>1,se=this.state.showArrows&&this.state.firstItem>0,B=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,$={},J=-this.state.firstItem*(this.state.itemSize||0),le=(0,r.default)(J,"px",this.props.axis),be=this.props.transitionTime+"ms";return $={WebkitTransform:le,MozTransform:le,MsTransform:le,OTransform:le,transform:le,msTransform:le,WebkitTransitionDuration:be,MozTransitionDuration:be,MsTransitionDuration:be,OTransitionDuration:be,transitionDuration:be,msTransitionDuration:be},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!se),onClick:function(){return C.slideRight()},"aria-label":this.props.labels.leftArrow}),D?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:$,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(re){return C.setItemsListRef(re)},style:$},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!B),onClick:function(){return C.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),w}(n.Component);return ud.default=M,F(M,"displayName","Thumbs"),F(M,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),ud}var fd={},W1;function Kj(){if(W1)return fd;W1=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.default=void 0;var n=function(){return document};return fd.default=n,fd}var br={},Q1;function VN(){if(Q1)return br;Q1=1,Object.defineProperty(br,"__esModule",{value:!0}),br.setPosition=br.getPosition=br.isKeyboardEvent=br.defaultStatusFormatter=br.noop=void 0;var n=Ja(),e=t(Mw());function t(f){return f&&f.__esModule?f:{default:f}}var r=function(){};br.noop=r;var i=function(d,g){return"".concat(d," of ").concat(g)};br.defaultStatusFormatter=i;var o=function(d){return d?d.hasOwnProperty("key"):!1};br.isKeyboardEvent=o;var u=function(d,g){if(g.infiniteLoop&&++d,d===0)return 0;var _=n.Children.count(g.children);if(g.centerMode&&g.axis==="horizontal"){var v=-d*g.centerSlidePercentage,T=_-1;return d&&(d!==T||g.infiniteLoop)?v+=(100-g.centerSlidePercentage)/2:d===T&&(v+=100-g.centerSlidePercentage),v}return-d*100};br.getPosition=u;var h=function(d,g){var _={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(v){_[v]=(0,e.default)(d,"%",g)}),_};return br.setPosition=h,br}var ri={},Y1;function Wj(){if(Y1)return ri;Y1=1,Object.defineProperty(ri,"__esModule",{value:!0}),ri.fadeAnimationHandler=ri.slideStopSwipingHandler=ri.slideSwipeAnimationHandler=ri.slideAnimationHandler=void 0;var n=Ja(),e=r(Mw()),t=VN();function r(_){return _&&_.__esModule?_:{default:_}}function i(_,v){var T=Object.keys(_);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(_);v&&(b=b.filter(function(A){return Object.getOwnPropertyDescriptor(_,A).enumerable})),T.push.apply(T,b)}return T}function o(_){for(var v=1;v<arguments.length;v++){var T=arguments[v]!=null?arguments[v]:{};v%2?i(Object(T),!0).forEach(function(b){u(_,b,T[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(T)):i(Object(T)).forEach(function(b){Object.defineProperty(_,b,Object.getOwnPropertyDescriptor(T,b))})}return _}function u(_,v,T){return v in _?Object.defineProperty(_,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):_[v]=T,_}var h=function(v,T){var b={},A=T.selectedItem,P=A,U=n.Children.count(v.children)-1,V=v.infiniteLoop&&(A<0||A>U);if(V)return P<0?v.centerMode&&v.centerSlidePercentage&&v.axis==="horizontal"?b.itemListStyle=(0,t.setPosition)(-(U+2)*v.centerSlidePercentage-(100-v.centerSlidePercentage)/2,v.axis):b.itemListStyle=(0,t.setPosition)(-(U+2)*100,v.axis):P>U&&(b.itemListStyle=(0,t.setPosition)(0,v.axis)),b;var L=(0,t.getPosition)(A,v),H=(0,e.default)(L,"%",v.axis),F=v.transitionTime+"ms";return b.itemListStyle={WebkitTransform:H,msTransform:H,OTransform:H,transform:H},T.swiping||(b.itemListStyle=o(o({},b.itemListStyle),{},{WebkitTransitionDuration:F,MozTransitionDuration:F,OTransitionDuration:F,transitionDuration:F,msTransitionDuration:F})),b};ri.slideAnimationHandler=h;var f=function(v,T,b,A){var P={},U=T.axis==="horizontal",V=n.Children.count(T.children),L=0,H=(0,t.getPosition)(b.selectedItem,T),F=T.infiniteLoop?(0,t.getPosition)(V-1,T)-100:(0,t.getPosition)(V-1,T),K=U?v.x:v.y,M=K;H===L&&K>0&&(M=0),H===F&&K<0&&(M=0);var R=H+100/(b.itemSize/M),x=Math.abs(K)>T.swipeScrollTolerance;return T.infiniteLoop&&x&&(b.selectedItem===0&&R>-100?R-=V*100:b.selectedItem===V-1&&R<-V*100&&(R+=V*100)),(!T.preventMovementUntilSwipeScrollTolerance||x||b.swipeMovementStarted)&&(b.swipeMovementStarted||A({swipeMovementStarted:!0}),P.itemListStyle=(0,t.setPosition)(R,T.axis)),x&&!b.cancelClick&&A({cancelClick:!0}),P};ri.slideSwipeAnimationHandler=f;var d=function(v,T){var b=(0,t.getPosition)(T.selectedItem,v),A=(0,t.setPosition)(b,v.axis);return{itemListStyle:A}};ri.slideStopSwipingHandler=d;var g=function(v,T){var b=v.transitionTime+"ms",A="ease-in-out",P={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:A,msTransitionTimingFunction:A,MozTransitionTimingFunction:A,WebkitTransitionTimingFunction:A,OTransitionTimingFunction:A};return T.swiping||(P=o(o({},P),{},{WebkitTransitionDuration:b,MozTransitionDuration:b,OTransitionDuration:b,transitionDuration:b,msTransitionDuration:b})),{slideStyle:P,selectedStyle:o(o({},P),{},{opacity:1,position:"relative"}),prevStyle:o({},P)}};return ri.fadeAnimationHandler=g,ri}var X1;function Qj(){if(X1)return od;X1=1,Object.defineProperty(od,"__esModule",{value:!0}),od.default=void 0;var n=g(Ja()),e=f(DN()),t=f(NN()),r=f(MN()),i=f(Kj()),o=f(kN()),u=VN(),h=Wj();function f(O){return O&&O.__esModule?O:{default:O}}function d(){if(typeof WeakMap!="function")return null;var O=new WeakMap;return d=function(){return O},O}function g(O){if(O&&O.__esModule)return O;if(O===null||_(O)!=="object"&&typeof O!="function")return{default:O};var C=d();if(C&&C.has(O))return C.get(O);var D={},se=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var B in O)if(Object.prototype.hasOwnProperty.call(O,B)){var $=se?Object.getOwnPropertyDescriptor(O,B):null;$&&($.get||$.set)?Object.defineProperty(D,B,$):D[B]=O[B]}return D.default=O,C&&C.set(O,D),D}function _(O){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(D){return typeof D}:_=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},_(O)}function v(){return v=Object.assign||function(O){for(var C=1;C<arguments.length;C++){var D=arguments[C];for(var se in D)Object.prototype.hasOwnProperty.call(D,se)&&(O[se]=D[se])}return O},v.apply(this,arguments)}function T(O,C){var D=Object.keys(O);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(O);C&&(se=se.filter(function(B){return Object.getOwnPropertyDescriptor(O,B).enumerable})),D.push.apply(D,se)}return D}function b(O){for(var C=1;C<arguments.length;C++){var D=arguments[C]!=null?arguments[C]:{};C%2?T(Object(D),!0).forEach(function(se){x(O,se,D[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(D)):T(Object(D)).forEach(function(se){Object.defineProperty(O,se,Object.getOwnPropertyDescriptor(D,se))})}return O}function A(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function P(O,C){for(var D=0;D<C.length;D++){var se=C[D];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(O,se.key,se)}}function U(O,C,D){return C&&P(O.prototype,C),O}function V(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),C&&L(O,C)}function L(O,C){return L=Object.setPrototypeOf||function(se,B){return se.__proto__=B,se},L(O,C)}function H(O){var C=M();return function(){var se=R(O),B;if(C){var $=R(this).constructor;B=Reflect.construct(se,arguments,$)}else B=se.apply(this,arguments);return F(this,B)}}function F(O,C){return C&&(_(C)==="object"||typeof C=="function")?C:K(O)}function K(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function R(O){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},R(O)}function x(O,C,D){return C in O?Object.defineProperty(O,C,{value:D,enumerable:!0,configurable:!0,writable:!0}):O[C]=D,O}var w=function(O){V(D,O);var C=H(D);function D(se){var B;A(this,D),B=C.call(this,se),x(K(B),"thumbsRef",void 0),x(K(B),"carouselWrapperRef",void 0),x(K(B),"listRef",void 0),x(K(B),"itemsRef",void 0),x(K(B),"timer",void 0),x(K(B),"animationHandler",void 0),x(K(B),"setThumbsRef",function(J){B.thumbsRef=J}),x(K(B),"setCarouselWrapperRef",function(J){B.carouselWrapperRef=J}),x(K(B),"setListRef",function(J){B.listRef=J}),x(K(B),"setItemsRef",function(J,le){B.itemsRef||(B.itemsRef=[]),B.itemsRef[le]=J}),x(K(B),"autoPlay",function(){n.Children.count(B.props.children)<=1||(B.clearAutoPlay(),B.props.autoPlay&&(B.timer=setTimeout(function(){B.increment()},B.props.interval)))}),x(K(B),"clearAutoPlay",function(){B.timer&&clearTimeout(B.timer)}),x(K(B),"resetAutoPlay",function(){B.clearAutoPlay(),B.autoPlay()}),x(K(B),"stopOnHover",function(){B.setState({isMouseEntered:!0},B.clearAutoPlay)}),x(K(B),"startOnLeave",function(){B.setState({isMouseEntered:!1},B.autoPlay)}),x(K(B),"isFocusWithinTheCarousel",function(){return B.carouselWrapperRef?!!((0,i.default)().activeElement===B.carouselWrapperRef||B.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),x(K(B),"navigateWithKeyboard",function(J){if(B.isFocusWithinTheCarousel()){var le=B.props.axis,be=le==="horizontal",j={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},re=be?j.ArrowRight:j.ArrowDown,ge=be?j.ArrowLeft:j.ArrowUp;re===J.keyCode?B.increment():ge===J.keyCode&&B.decrement()}}),x(K(B),"updateSizes",function(){if(!(!B.state.initialized||!B.itemsRef||B.itemsRef.length===0)){var J=B.props.axis==="horizontal",le=B.itemsRef[0];if(le){var be=J?le.clientWidth:le.clientHeight;B.setState({itemSize:be}),B.thumbsRef&&B.thumbsRef.updateSizes()}}}),x(K(B),"setMountState",function(){B.setState({hasMount:!0}),B.updateSizes()}),x(K(B),"handleClickItem",function(J,le){if(n.Children.count(B.props.children)!==0){if(B.state.cancelClick){B.setState({cancelClick:!1});return}B.props.onClickItem(J,le),J!==B.state.selectedItem&&B.setState({selectedItem:J})}}),x(K(B),"handleOnChange",function(J,le){n.Children.count(B.props.children)<=1||B.props.onChange(J,le)}),x(K(B),"handleClickThumb",function(J,le){B.props.onClickThumb(J,le),B.moveTo(J)}),x(K(B),"onSwipeStart",function(J){B.setState({swiping:!0}),B.props.onSwipeStart(J)}),x(K(B),"onSwipeEnd",function(J){B.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),B.props.onSwipeEnd(J),B.clearAutoPlay(),B.state.autoPlay&&B.autoPlay()}),x(K(B),"onSwipeMove",function(J,le){B.props.onSwipeMove(le);var be=B.props.swipeAnimationHandler(J,B.props,B.state,B.setState.bind(K(B)));return B.setState(b({},be)),!!Object.keys(be).length}),x(K(B),"decrement",function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;B.moveTo(B.state.selectedItem-(typeof J=="number"?J:1))}),x(K(B),"increment",function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;B.moveTo(B.state.selectedItem+(typeof J=="number"?J:1))}),x(K(B),"moveTo",function(J){if(typeof J=="number"){var le=n.Children.count(B.props.children)-1;J<0&&(J=B.props.infiniteLoop?le:0),J>le&&(J=B.props.infiniteLoop?0:le),B.selectItem({selectedItem:J}),B.state.autoPlay&&B.state.isMouseEntered===!1&&B.resetAutoPlay()}}),x(K(B),"onClickNext",function(){B.increment(1)}),x(K(B),"onClickPrev",function(){B.decrement(1)}),x(K(B),"onSwipeForward",function(){B.increment(1),B.props.emulateTouch&&B.setState({cancelClick:!0})}),x(K(B),"onSwipeBackwards",function(){B.decrement(1),B.props.emulateTouch&&B.setState({cancelClick:!0})}),x(K(B),"changeItem",function(J){return function(le){(!(0,u.isKeyboardEvent)(le)||le.key==="Enter")&&B.moveTo(J)}}),x(K(B),"selectItem",function(J){B.setState(b({previousItem:B.state.selectedItem},J),function(){B.setState(B.animationHandler(B.props,B.state))}),B.handleOnChange(J.selectedItem,n.Children.toArray(B.props.children)[J.selectedItem])}),x(K(B),"getInitialImage",function(){var J=B.props.selectedItem,le=B.itemsRef&&B.itemsRef[J],be=le&&le.getElementsByTagName("img")||[];return be[0]}),x(K(B),"getVariableItemHeight",function(J){var le=B.itemsRef&&B.itemsRef[J];if(B.state.hasMount&&le&&le.children.length){var be=le.children[0].getElementsByTagName("img")||[];if(be.length>0){var j=be[0];if(!j.complete){var re=function Te(){B.forceUpdate(),j.removeEventListener("load",Te)};j.addEventListener("load",re)}}var ge=be[0]||le.children[0],me=ge.clientHeight;return me>0?me:null}return null});var $={initialized:!1,previousItem:se.selectedItem,selectedItem:se.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:se.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return B.animationHandler=typeof se.animationHandler=="function"&&se.animationHandler||se.animationHandler==="fade"&&h.fadeAnimationHandler||h.slideAnimationHandler,B.state=b(b({},$),B.animationHandler(se,$)),B}return U(D,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(B,$){!B.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!B.autoFocus&&this.props.autoFocus&&this.forceFocus(),$.swiping&&!this.state.swiping&&this.setState(b({},this.props.stopSwipingHandler(this.props,this.state))),(B.selectedItem!==this.props.selectedItem||B.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),B.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var B=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var $=B.getInitialImage();$&&!$.complete?$.addEventListener("load",B.setMountState):B.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var B=this.carouselWrapperRef;this.props.stopOnHover&&B&&(B.addEventListener("mouseenter",this.stopOnHover),B.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var B=this.carouselWrapperRef;this.props.stopOnHover&&B&&(B.removeEventListener("mouseenter",this.stopOnHover),B.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var B=this.getInitialImage();B&&B.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var B;(B=this.carouselWrapperRef)===null||B===void 0||B.focus()}},{key:"renderItems",value:function(B){var $=this;return this.props.children?n.Children.map(this.props.children,function(J,le){var be=le===$.state.selectedItem,j=le===$.state.previousItem,re=be&&$.state.selectedStyle||j&&$.state.prevStyle||$.state.slideStyle||{};$.props.centerMode&&$.props.axis==="horizontal"&&(re=b(b({},re),{},{minWidth:$.props.centerSlidePercentage+"%"})),$.state.swiping&&$.state.swipeMovementStarted&&(re=b(b({},re),{},{pointerEvents:"none"}));var ge={ref:function(Te){return $.setItemsRef(Te,le)},key:"itemKey"+le+(B?"clone":""),className:t.default.ITEM(!0,le===$.state.selectedItem,le===$.state.previousItem),onClick:$.handleClickItem.bind($,le,J),style:re};return n.default.createElement("li",ge,$.props.renderItem(J,{isSelected:le===$.state.selectedItem,isPrevious:le===$.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var B=this,$=this.props,J=$.showIndicators,le=$.labels,be=$.renderIndicator,j=$.children;return J?n.default.createElement("ul",{className:"control-dots"},n.Children.map(j,function(re,ge){return be&&be(B.changeItem(ge),ge===B.state.selectedItem,ge,le.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var B=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var $=this.props.swipeable&&n.Children.count(this.props.children)>1,J=this.props.axis==="horizontal",le=this.props.showArrows&&n.Children.count(this.props.children)>1,be=le&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,j=le&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,re=this.renderItems(!0),ge=re.shift(),me=re.pop(),Te={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},ke={};if(J){if(Te.onSwipeLeft=this.onSwipeForward,Te.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var xe=this.getVariableItemHeight(this.state.selectedItem);ke.height=xe||"auto"}}else Te.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,Te.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,Te.style=b(b({},Te.style),{},{height:this.state.itemSize}),ke.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,be,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:ke},$?n.default.createElement(e.default,v({tagName:"ul",innerRef:this.setListRef},Te,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&me,this.renderItems(),this.props.infiniteLoop&&ge):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(rt){return B.setListRef(rt)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&me,this.renderItems(),this.props.infiniteLoop&&ge)),this.props.renderArrowNext(this.onClickNext,j,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),D}(n.default.Component);return od.default=w,x(w,"displayName","Carousel"),x(w,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:u.noop,onClickThumb:u.noop,onChange:u.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(C,D,se){return n.default.createElement("button",{type:"button","aria-label":se,className:t.default.ARROW_PREV(!D),onClick:C})},renderArrowNext:function(C,D,se){return n.default.createElement("button",{type:"button","aria-label":se,className:t.default.ARROW_NEXT(!D),onClick:C})},renderIndicator:function(C,D,se,B){return n.default.createElement("li",{className:t.default.DOT(D),onClick:C,onKeyDown:C,value:se,key:se,role:"button",tabIndex:0,"aria-label":"".concat(B," ").concat(se+1)})},renderItem:function(C){return C},renderThumbs:function(C){var D=n.Children.map(C,function(se){var B=se;if(se.type!=="img"&&(B=n.Children.toArray(se.props.children).find(function($){return $.type==="img"})),!!B)return B});return D.filter(function(se){return se}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):D},statusFormatter:u.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:h.slideSwipeAnimationHandler,stopSwipingHandler:h.slideStopSwipingHandler}),od}var J1={},Z1;function Yj(){return Z1||(Z1=1),J1}var eC;function Xj(){return eC||(eC=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(Qj()),t=Yj(),r=i(MN());function i(o){return o&&o.__esModule?o:{default:o}}}(b0)),b0}var Jj=Xj();const Zj="/assets/10001-CvxjkXaX.jpg",eq="/assets/10002-bl35EseN.jpg",tq="/assets/10003-BPr44Ttk.jpg",nq="/assets/10004-CO6XiwvK.jpg",rq="/assets/10005-Fp0oaH3y.jpg",iq=[Zj,eq,tq,nq,rq],sq="_hero_img_rwao8_9",aq={hero_img:sq};function oq(){return q.jsxs("div",{children:[q.jsx(Jj.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:iq.map((n,e)=>q.jsx("img",{src:n,alt:""},e))}),q.jsx("div",{className:aq.hero_img})]})}const I0=[{titile:"Electronics",name:"electronics",imaglink:"https://fakestoreapi.com/img/61mtL65D4cL._AC_SX679_.jpg"},{titile:"Jewelery",name:"jewelery",imaglink:"https://fakestoreapi.com/img/71YAIFU48IL._AC_UL640_QL65_ML3_.jpg"},{titile:"women's clothing",name:"women's clothing ",imaglink:"https://m.media-amazon.com/images/I/51PqhiS6IGL._MCnd_AC_UL320_.jpg"},{titile:"men's clothing",name:"men's clothing",imaglink:" https://m.media-amazon.com/images/I/415zQ4ANwAL._AC_UF226,226_FMjpg_.jpg"}],lq="_catagory_i2q54_9",uq="_catagory_container_i2q54_67",LN={catagory:lq,catagory_container:uq};function cq({data:n}){return q.jsx("div",{className:LN.catagory,children:q.jsxs(si,{to:`/category/${n.name}`,children:[q.jsx("span",{children:q.jsx("h2",{children:n==null?void 0:n.titile})}),q.jsx("img",{src:n==null?void 0:n.imaglink,alt:""}),q.jsx("p",{children:"Shop Now"})]})})}function hq(){return q.jsx("section",{className:LN.catagory_container,children:I0==null?void 0:I0.map((n,e)=>q.jsx(cq,{data:n},e))})}function UN(n,e){return function(){return n.apply(e,arguments)}}const{toString:dq}=Object.prototype,{getPrototypeOf:Vw}=Object,{iterator:Py,toStringTag:BN}=Symbol,Oy=(n=>e=>{const t=dq.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ui=n=>(n=n.toLowerCase(),e=>Oy(e)===n),Dy=n=>e=>typeof e===n,{isArray:Uc}=Array,df=Dy("undefined");function fq(n){return n!==null&&!df(n)&&n.constructor!==null&&!df(n.constructor)&&ur(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const FN=ui("ArrayBuffer");function pq(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&FN(n.buffer),e}const mq=Dy("string"),ur=Dy("function"),zN=Dy("number"),Ny=n=>n!==null&&typeof n=="object",gq=n=>n===!0||n===!1,Wm=n=>{if(Oy(n)!=="object")return!1;const e=Vw(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(BN in n)&&!(Py in n)},yq=ui("Date"),_q=ui("File"),vq=ui("Blob"),Eq=ui("FileList"),bq=n=>Ny(n)&&ur(n.pipe),wq=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||ur(n.append)&&((e=Oy(n))==="formdata"||e==="object"&&ur(n.toString)&&n.toString()==="[object FormData]"))},Tq=ui("URLSearchParams"),[Sq,Aq,Iq,Rq]=["ReadableStream","Request","Response","Headers"].map(ui),Cq=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zf(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Uc(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),u=o.length;let h;for(r=0;r<u;r++)h=o[r],e.call(null,n[h],h,n)}}function jN(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const il=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qN=n=>!df(n)&&n!==il;function CE(){const{caseless:n}=qN(this)&&this||{},e={},t=(r,i)=>{const o=n&&jN(e,i)||i;Wm(e[o])&&Wm(r)?e[o]=CE(e[o],r):Wm(r)?e[o]=CE({},r):Uc(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&zf(arguments[r],t);return e}const xq=(n,e,t,{allOwnKeys:r}={})=>(zf(e,(i,o)=>{t&&ur(i)?n[o]=UN(i,t):n[o]=i},{allOwnKeys:r}),n),Pq=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Oq=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Dq=(n,e,t,r)=>{let i,o,u;const h={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)u=i[o],(!r||r(u,n,e))&&!h[u]&&(e[u]=n[u],h[u]=!0);n=t!==!1&&Vw(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Nq=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},kq=n=>{if(!n)return null;if(Uc(n))return n;let e=n.length;if(!zN(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},Mq=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Vw(Uint8Array)),Vq=(n,e)=>{const r=(n&&n[Py]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},Lq=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},Uq=ui("HTMLFormElement"),Bq=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),tC=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),Fq=ui("RegExp"),HN=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};zf(t,(i,o)=>{let u;(u=e(i,o,n))!==!1&&(r[o]=u||i)}),Object.defineProperties(n,r)},zq=n=>{HN(n,(e,t)=>{if(ur(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(ur(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},jq=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return Uc(n)?r(n):r(String(n).split(e)),t},qq=()=>{},Hq=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function $q(n){return!!(n&&ur(n.append)&&n[BN]==="FormData"&&n[Py])}const Gq=n=>{const e=new Array(10),t=(r,i)=>{if(Ny(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Uc(r)?[]:{};return zf(r,(u,h)=>{const f=t(u,i+1);!df(f)&&(o[h]=f)}),e[i]=void 0,o}}return r};return t(n,0)},Kq=ui("AsyncFunction"),Wq=n=>n&&(Ny(n)||ur(n))&&ur(n.then)&&ur(n.catch),$N=((n,e)=>n?setImmediate:e?((t,r)=>(il.addEventListener("message",({source:i,data:o})=>{i===il&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),il.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ur(il.postMessage)),Qq=typeof queueMicrotask<"u"?queueMicrotask.bind(il):typeof process<"u"&&process.nextTick||$N,Yq=n=>n!=null&&ur(n[Py]),oe={isArray:Uc,isArrayBuffer:FN,isBuffer:fq,isFormData:wq,isArrayBufferView:pq,isString:mq,isNumber:zN,isBoolean:gq,isObject:Ny,isPlainObject:Wm,isReadableStream:Sq,isRequest:Aq,isResponse:Iq,isHeaders:Rq,isUndefined:df,isDate:yq,isFile:_q,isBlob:vq,isRegExp:Fq,isFunction:ur,isStream:bq,isURLSearchParams:Tq,isTypedArray:Mq,isFileList:Eq,forEach:zf,merge:CE,extend:xq,trim:Cq,stripBOM:Pq,inherits:Oq,toFlatObject:Dq,kindOf:Oy,kindOfTest:ui,endsWith:Nq,toArray:kq,forEachEntry:Vq,matchAll:Lq,isHTMLForm:Uq,hasOwnProperty:tC,hasOwnProp:tC,reduceDescriptors:HN,freezeMethods:zq,toObjectSet:jq,toCamelCase:Bq,noop:qq,toFiniteNumber:Hq,findKey:jN,global:il,isContextDefined:qN,isSpecCompliantForm:$q,toJSONObject:Gq,isAsyncFn:Kq,isThenable:Wq,setImmediate:$N,asap:Qq,isIterable:Yq};function Me(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}oe.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const GN=Me.prototype,KN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{KN[n]={value:n}});Object.defineProperties(Me,KN);Object.defineProperty(GN,"isAxiosError",{value:!0});Me.from=(n,e,t,r,i,o)=>{const u=Object.create(GN);return oe.toFlatObject(n,u,function(f){return f!==Error.prototype},h=>h!=="isAxiosError"),Me.call(u,n.message,e,t,r,i),u.cause=n,u.name=n.name,o&&Object.assign(u,o),u};const Xq=null;function xE(n){return oe.isPlainObject(n)||oe.isArray(n)}function WN(n){return oe.endsWith(n,"[]")?n.slice(0,-2):n}function nC(n,e,t){return n?n.concat(e).map(function(i,o){return i=WN(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function Jq(n){return oe.isArray(n)&&!n.some(xE)}const Zq=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function ky(n,e,t){if(!oe.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=oe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,P){return!oe.isUndefined(P[A])});const r=t.metaTokens,i=t.visitor||g,o=t.dots,u=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(i))throw new TypeError("visitor must be a function");function d(b){if(b===null)return"";if(oe.isDate(b))return b.toISOString();if(!f&&oe.isBlob(b))throw new Me("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(b)||oe.isTypedArray(b)?f&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function g(b,A,P){let U=b;if(b&&!P&&typeof b=="object"){if(oe.endsWith(A,"{}"))A=r?A:A.slice(0,-2),b=JSON.stringify(b);else if(oe.isArray(b)&&Jq(b)||(oe.isFileList(b)||oe.endsWith(A,"[]"))&&(U=oe.toArray(b)))return A=WN(A),U.forEach(function(L,H){!(oe.isUndefined(L)||L===null)&&e.append(u===!0?nC([A],H,o):u===null?A:A+"[]",d(L))}),!1}return xE(b)?!0:(e.append(nC(P,A,o),d(b)),!1)}const _=[],v=Object.assign(Zq,{defaultVisitor:g,convertValue:d,isVisitable:xE});function T(b,A){if(!oe.isUndefined(b)){if(_.indexOf(b)!==-1)throw Error("Circular reference detected in "+A.join("."));_.push(b),oe.forEach(b,function(U,V){(!(oe.isUndefined(U)||U===null)&&i.call(e,U,oe.isString(V)?V.trim():V,A,v))===!0&&T(U,A?A.concat(V):[V])}),_.pop()}}if(!oe.isObject(n))throw new TypeError("data must be an object");return T(n),e}function rC(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Lw(n,e){this._pairs=[],n&&ky(n,this,e)}const QN=Lw.prototype;QN.append=function(e,t){this._pairs.push([e,t])};QN.toString=function(e){const t=e?function(r){return e.call(this,r,rC)}:rC;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function e8(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function YN(n,e,t){if(!e)return n;const r=t&&t.encode||e8;oe.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=oe.isURLSearchParams(e)?e.toString():new Lw(e,t).toString(r),o){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class iC{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const XN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},t8=typeof URLSearchParams<"u"?URLSearchParams:Lw,n8=typeof FormData<"u"?FormData:null,r8=typeof Blob<"u"?Blob:null,i8={isBrowser:!0,classes:{URLSearchParams:t8,FormData:n8,Blob:r8},protocols:["http","https","file","blob","url","data"]},Uw=typeof window<"u"&&typeof document<"u",PE=typeof navigator=="object"&&navigator||void 0,s8=Uw&&(!PE||["ReactNative","NativeScript","NS"].indexOf(PE.product)<0),a8=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",o8=Uw&&window.location.href||"http://localhost",l8=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Uw,hasStandardBrowserEnv:s8,hasStandardBrowserWebWorkerEnv:a8,navigator:PE,origin:o8},Symbol.toStringTag,{value:"Module"})),qn={...l8,...i8};function u8(n,e){return ky(n,new qn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return qn.isNode&&oe.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function c8(n){return oe.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function h8(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function JN(n){function e(t,r,i,o){let u=t[o++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),f=o>=t.length;return u=!u&&oe.isArray(i)?i.length:u,f?(oe.hasOwnProp(i,u)?i[u]=[i[u],r]:i[u]=r,!h):((!i[u]||!oe.isObject(i[u]))&&(i[u]=[]),e(t,r,i[u],o)&&oe.isArray(i[u])&&(i[u]=h8(i[u])),!h)}if(oe.isFormData(n)&&oe.isFunction(n.entries)){const t={};return oe.forEachEntry(n,(r,i)=>{e(c8(r),i,t,0)}),t}return null}function d8(n,e,t){if(oe.isString(n))try{return(e||JSON.parse)(n),oe.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const jf={transitional:XN,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=oe.isObject(e);if(o&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return i?JSON.stringify(JN(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return u8(e,this.formSerializer).toString();if((h=oe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return ky(h?{"files[]":e}:e,f&&new f,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),d8(e)):e}],transformResponse:[function(e){const t=this.transitional||jf.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(r&&!this.responseType||i)){const u=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(h){if(u)throw h.name==="SyntaxError"?Me.from(h,Me.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qn.classes.FormData,Blob:qn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],n=>{jf.headers[n]={}});const f8=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),p8=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(u){i=u.indexOf(":"),t=u.substring(0,i).trim().toLowerCase(),r=u.substring(i+1).trim(),!(!t||e[t]&&f8[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},sC=Symbol("internals");function pd(n){return n&&String(n).trim().toLowerCase()}function Qm(n){return n===!1||n==null?n:oe.isArray(n)?n.map(Qm):String(n)}function m8(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const g8=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function R0(n,e,t,r,i){if(oe.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!oe.isString(e)){if(oe.isString(r))return e.indexOf(r)!==-1;if(oe.isRegExp(r))return r.test(e)}}function y8(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function _8(n,e){const t=oe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,u){return this[r].call(this,e,i,o,u)},configurable:!0})})}let cr=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(h,f,d){const g=pd(f);if(!g)throw new Error("header name must be a non-empty string");const _=oe.findKey(i,g);(!_||i[_]===void 0||d===!0||d===void 0&&i[_]!==!1)&&(i[_||f]=Qm(h))}const u=(h,f)=>oe.forEach(h,(d,g)=>o(d,g,f));if(oe.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(oe.isString(e)&&(e=e.trim())&&!g8(e))u(p8(e),t);else if(oe.isObject(e)&&oe.isIterable(e)){let h={},f,d;for(const g of e){if(!oe.isArray(g))throw TypeError("Object iterator must return a key-value pair");h[d=g[0]]=(f=h[d])?oe.isArray(f)?[...f,g[1]]:[f,g[1]]:g[1]}u(h,t)}else e!=null&&o(t,e,r);return this}get(e,t){if(e=pd(e),e){const r=oe.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return m8(i);if(oe.isFunction(t))return t.call(this,i,r);if(oe.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=pd(e),e){const r=oe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||R0(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(u){if(u=pd(u),u){const h=oe.findKey(r,u);h&&(!t||R0(r,r[h],h,t))&&(delete r[h],i=!0)}}return oe.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||R0(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return oe.forEach(this,(i,o)=>{const u=oe.findKey(r,o);if(u){t[u]=Qm(i),delete t[o];return}const h=e?y8(o):String(o).trim();h!==o&&delete t[o],t[h]=Qm(i),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return oe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&oe.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[sC]=this[sC]={accessors:{}}).accessors,i=this.prototype;function o(u){const h=pd(u);r[h]||(_8(i,u),r[h]=!0)}return oe.isArray(e)?e.forEach(o):o(e),this}};cr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(cr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});oe.freezeMethods(cr);function C0(n,e){const t=this||jf,r=e||t,i=cr.from(r.headers);let o=r.data;return oe.forEach(n,function(h){o=h.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function ZN(n){return!!(n&&n.__CANCEL__)}function Bc(n,e,t){Me.call(this,n??"canceled",Me.ERR_CANCELED,e,t),this.name="CanceledError"}oe.inherits(Bc,Me,{__CANCEL__:!0});function ek(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Me("Request failed with status code "+t.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function v8(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function E8(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,u;return e=e!==void 0?e:1e3,function(f){const d=Date.now(),g=r[o];u||(u=d),t[i]=f,r[i]=d;let _=o,v=0;for(;_!==i;)v+=t[_++],_=_%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),d-u<e)return;const T=g&&d-g;return T?Math.round(v*1e3/T):void 0}}function b8(n,e){let t=0,r=1e3/e,i,o;const u=(d,g=Date.now())=>{t=g,i=null,o&&(clearTimeout(o),o=null),n.apply(null,d)};return[(...d)=>{const g=Date.now(),_=g-t;_>=r?u(d,g):(i=d,o||(o=setTimeout(()=>{o=null,u(i)},r-_)))},()=>i&&u(i)]}const kg=(n,e,t=3)=>{let r=0;const i=E8(50,250);return b8(o=>{const u=o.loaded,h=o.lengthComputable?o.total:void 0,f=u-r,d=i(f),g=u<=h;r=u;const _={loaded:u,total:h,progress:h?u/h:void 0,bytes:f,rate:d||void 0,estimated:d&&h&&g?(h-u)/d:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(_)},t)},aC=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},oC=n=>(...e)=>oe.asap(()=>n(...e)),w8=qn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,qn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(qn.origin),qn.navigator&&/(msie|trident)/i.test(qn.navigator.userAgent)):()=>!0,T8=qn.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const u=[n+"="+encodeURIComponent(e)];oe.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),oe.isString(r)&&u.push("path="+r),oe.isString(i)&&u.push("domain="+i),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function S8(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function A8(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function tk(n,e,t){let r=!S8(e);return n&&(r||t==!1)?A8(n,e):e}const lC=n=>n instanceof cr?{...n}:n;function bl(n,e){e=e||{};const t={};function r(d,g,_,v){return oe.isPlainObject(d)&&oe.isPlainObject(g)?oe.merge.call({caseless:v},d,g):oe.isPlainObject(g)?oe.merge({},g):oe.isArray(g)?g.slice():g}function i(d,g,_,v){if(oe.isUndefined(g)){if(!oe.isUndefined(d))return r(void 0,d,_,v)}else return r(d,g,_,v)}function o(d,g){if(!oe.isUndefined(g))return r(void 0,g)}function u(d,g){if(oe.isUndefined(g)){if(!oe.isUndefined(d))return r(void 0,d)}else return r(void 0,g)}function h(d,g,_){if(_ in e)return r(d,g);if(_ in n)return r(void 0,d)}const f={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(d,g,_)=>i(lC(d),lC(g),_,!0)};return oe.forEach(Object.keys(Object.assign({},n,e)),function(g){const _=f[g]||i,v=_(n[g],e[g],g);oe.isUndefined(v)&&_!==h||(t[g]=v)}),t}const nk=n=>{const e=bl({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:u,auth:h}=e;e.headers=u=cr.from(u),e.url=YN(tk(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let f;if(oe.isFormData(t)){if(qn.hasStandardBrowserEnv||qn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((f=u.getContentType())!==!1){const[d,...g]=f?f.split(";").map(_=>_.trim()).filter(Boolean):[];u.setContentType([d||"multipart/form-data",...g].join("; "))}}if(qn.hasStandardBrowserEnv&&(r&&oe.isFunction(r)&&(r=r(e)),r||r!==!1&&w8(e.url))){const d=i&&o&&T8.read(o);d&&u.set(i,d)}return e},I8=typeof XMLHttpRequest<"u",R8=I8&&function(n){return new Promise(function(t,r){const i=nk(n);let o=i.data;const u=cr.from(i.headers).normalize();let{responseType:h,onUploadProgress:f,onDownloadProgress:d}=i,g,_,v,T,b;function A(){T&&T(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let P=new XMLHttpRequest;P.open(i.method.toUpperCase(),i.url,!0),P.timeout=i.timeout;function U(){if(!P)return;const L=cr.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),F={data:!h||h==="text"||h==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:L,config:n,request:P};ek(function(M){t(M),A()},function(M){r(M),A()},F),P=null}"onloadend"in P?P.onloadend=U:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(U)},P.onabort=function(){P&&(r(new Me("Request aborted",Me.ECONNABORTED,n,P)),P=null)},P.onerror=function(){r(new Me("Network Error",Me.ERR_NETWORK,n,P)),P=null},P.ontimeout=function(){let H=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const F=i.transitional||XN;i.timeoutErrorMessage&&(H=i.timeoutErrorMessage),r(new Me(H,F.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,n,P)),P=null},o===void 0&&u.setContentType(null),"setRequestHeader"in P&&oe.forEach(u.toJSON(),function(H,F){P.setRequestHeader(F,H)}),oe.isUndefined(i.withCredentials)||(P.withCredentials=!!i.withCredentials),h&&h!=="json"&&(P.responseType=i.responseType),d&&([v,b]=kg(d,!0),P.addEventListener("progress",v)),f&&P.upload&&([_,T]=kg(f),P.upload.addEventListener("progress",_),P.upload.addEventListener("loadend",T)),(i.cancelToken||i.signal)&&(g=L=>{P&&(r(!L||L.type?new Bc(null,n,P):L),P.abort(),P=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const V=v8(i.url);if(V&&qn.protocols.indexOf(V)===-1){r(new Me("Unsupported protocol "+V+":",Me.ERR_BAD_REQUEST,n));return}P.send(o||null)})},C8=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(d){if(!i){i=!0,h();const g=d instanceof Error?d:this.reason;r.abort(g instanceof Me?g:new Bc(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,o(new Me(`timeout ${e} of ms exceeded`,Me.ETIMEDOUT))},e);const h=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),n=null)};n.forEach(d=>d.addEventListener("abort",o));const{signal:f}=r;return f.unsubscribe=()=>oe.asap(h),f}},x8=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},P8=async function*(n,e){for await(const t of O8(n))yield*x8(t,e)},O8=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},uC=(n,e,t,r)=>{const i=P8(n,e);let o=0,u,h=f=>{u||(u=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:d,value:g}=await i.next();if(d){h(),f.close();return}let _=g.byteLength;if(t){let v=o+=_;t(v)}f.enqueue(new Uint8Array(g))}catch(d){throw h(d),d}},cancel(f){return h(f),i.return()}},{highWaterMark:2})},My=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",rk=My&&typeof ReadableStream=="function",D8=My&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),ik=(n,...e)=>{try{return!!n(...e)}catch{return!1}},N8=rk&&ik(()=>{let n=!1;const e=new Request(qn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),cC=64*1024,OE=rk&&ik(()=>oe.isReadableStream(new Response("").body)),Mg={stream:OE&&(n=>n.body)};My&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Mg[e]&&(Mg[e]=oe.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Me(`Response type '${e}' is not supported`,Me.ERR_NOT_SUPPORT,r)})})})(new Response);const k8=async n=>{if(n==null)return 0;if(oe.isBlob(n))return n.size;if(oe.isSpecCompliantForm(n))return(await new Request(qn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(n)||oe.isArrayBuffer(n))return n.byteLength;if(oe.isURLSearchParams(n)&&(n=n+""),oe.isString(n))return(await D8(n)).byteLength},M8=async(n,e)=>{const t=oe.toFiniteNumber(n.getContentLength());return t??k8(e)},V8=My&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:o,timeout:u,onDownloadProgress:h,onUploadProgress:f,responseType:d,headers:g,withCredentials:_="same-origin",fetchOptions:v}=nk(n);d=d?(d+"").toLowerCase():"text";let T=C8([i,o&&o.toAbortSignal()],u),b;const A=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let P;try{if(f&&N8&&t!=="get"&&t!=="head"&&(P=await M8(g,r))!==0){let F=new Request(e,{method:"POST",body:r,duplex:"half"}),K;if(oe.isFormData(r)&&(K=F.headers.get("content-type"))&&g.setContentType(K),F.body){const[M,R]=aC(P,kg(oC(f)));r=uC(F.body,cC,M,R)}}oe.isString(_)||(_=_?"include":"omit");const U="credentials"in Request.prototype;b=new Request(e,{...v,signal:T,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:U?_:void 0});let V=await fetch(b);const L=OE&&(d==="stream"||d==="response");if(OE&&(h||L&&A)){const F={};["status","statusText","headers"].forEach(x=>{F[x]=V[x]});const K=oe.toFiniteNumber(V.headers.get("content-length")),[M,R]=h&&aC(K,kg(oC(h),!0))||[];V=new Response(uC(V.body,cC,M,()=>{R&&R(),A&&A()}),F)}d=d||"text";let H=await Mg[oe.findKey(Mg,d)||"text"](V,n);return!L&&A&&A(),await new Promise((F,K)=>{ek(F,K,{data:H,headers:cr.from(V.headers),status:V.status,statusText:V.statusText,config:n,request:b})})}catch(U){throw A&&A(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,n,b),{cause:U.cause||U}):Me.from(U,U&&U.code,n,b)}}),DE={http:Xq,xhr:R8,fetch:V8};oe.forEach(DE,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const hC=n=>`- ${n}`,L8=n=>oe.isFunction(n)||n===null||n===!1,sk={getAdapter:n=>{n=oe.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let o=0;o<e;o++){t=n[o];let u;if(r=t,!L8(t)&&(r=DE[(u=String(t)).toLowerCase()],r===void 0))throw new Me(`Unknown adapter '${u}'`);if(r)break;i[u||"#"+o]=r}if(!r){const o=Object.entries(i).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=e?o.length>1?`since :
`+o.map(hC).join(`
`):" "+hC(o[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:DE};function x0(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Bc(null,n)}function dC(n){return x0(n),n.headers=cr.from(n.headers),n.data=C0.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),sk.getAdapter(n.adapter||jf.adapter)(n).then(function(r){return x0(n),r.data=C0.call(n,n.transformResponse,r),r.headers=cr.from(r.headers),r},function(r){return ZN(r)||(x0(n),r&&r.response&&(r.response.data=C0.call(n,n.transformResponse,r.response),r.response.headers=cr.from(r.response.headers))),Promise.reject(r)})}const ak="1.9.0",Vy={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Vy[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const fC={};Vy.transitional=function(e,t,r){function i(o,u){return"[Axios v"+ak+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,h)=>{if(e===!1)throw new Me(i(u," has been removed"+(t?" in "+t:"")),Me.ERR_DEPRECATED);return t&&!fC[u]&&(fC[u]=!0,console.warn(i(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,u,h):!0}};Vy.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function U8(n,e,t){if(typeof n!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],u=e[o];if(u){const h=n[o],f=h===void 0||u(h,o,n);if(f!==!0)throw new Me("option "+o+" must be "+f,Me.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Me("Unknown option "+o,Me.ERR_BAD_OPTION)}}const Ym={assertOptions:U8,validators:Vy},Ci=Ym.validators;let ll=class{constructor(e){this.defaults=e||{},this.interceptors={request:new iC,response:new iC}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=bl(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&Ym.assertOptions(r,{silentJSONParsing:Ci.transitional(Ci.boolean),forcedJSONParsing:Ci.transitional(Ci.boolean),clarifyTimeoutError:Ci.transitional(Ci.boolean)},!1),i!=null&&(oe.isFunction(i)?t.paramsSerializer={serialize:i}:Ym.assertOptions(i,{encode:Ci.function,serialize:Ci.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Ym.assertOptions(t,{baseUrl:Ci.spelling("baseURL"),withXsrfToken:Ci.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=o&&oe.merge(o.common,o[t.method]);o&&oe.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),t.headers=cr.concat(u,o);const h=[];let f=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(t)===!1||(f=f&&A.synchronous,h.unshift(A.fulfilled,A.rejected))});const d=[];this.interceptors.response.forEach(function(A){d.push(A.fulfilled,A.rejected)});let g,_=0,v;if(!f){const b=[dC.bind(this),void 0];for(b.unshift.apply(b,h),b.push.apply(b,d),v=b.length,g=Promise.resolve(t);_<v;)g=g.then(b[_++],b[_++]);return g}v=h.length;let T=t;for(_=0;_<v;){const b=h[_++],A=h[_++];try{T=b(T)}catch(P){A.call(this,P);break}}try{g=dC.call(this,T)}catch(b){return Promise.reject(b)}for(_=0,v=d.length;_<v;)g=g.then(d[_++],d[_++]);return g}getUri(e){e=bl(this.defaults,e);const t=tk(e.baseURL,e.url,e.allowAbsoluteUrls);return YN(t,e.params,e.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(e){ll.prototype[e]=function(t,r){return this.request(bl(r||{},{method:e,url:t,data:(r||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function t(r){return function(o,u,h){return this.request(bl(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}ll.prototype[e]=t(),ll.prototype[e+"Form"]=t(!0)});let B8=class ok{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const u=new Promise(h=>{r.subscribe(h),o=h}).then(i);return u.cancel=function(){r.unsubscribe(o)},u},e(function(o,u,h){r.reason||(r.reason=new Bc(o,u,h),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ok(function(i){e=i}),cancel:e}}};function F8(n){return function(t){return n.apply(null,t)}}function z8(n){return oe.isObject(n)&&n.isAxiosError===!0}const NE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(NE).forEach(([n,e])=>{NE[e]=n});function lk(n){const e=new ll(n),t=UN(ll.prototype.request,e);return oe.extend(t,ll.prototype,e,{allOwnKeys:!0}),oe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return lk(bl(n,i))},t}const Ot=lk(jf);Ot.Axios=ll;Ot.CanceledError=Bc;Ot.CancelToken=B8;Ot.isCancel=ZN;Ot.VERSION=ak;Ot.toFormData=ky;Ot.AxiosError=Me;Ot.Cancel=Ot.CanceledError;Ot.all=function(e){return Promise.all(e)};Ot.spread=F8;Ot.isAxiosError=z8;Ot.mergeConfig=bl;Ot.AxiosHeaders=cr;Ot.formToJSON=n=>JN(oe.isHTMLForm(n)?new FormData(n):n);Ot.getAdapter=sk.getAdapter;Ot.HttpStatusCode=NE;Ot.default=Ot;const{Axios:lW,AxiosError:uW,CanceledError:cW,isCancel:hW,CancelToken:dW,VERSION:fW,all:pW,Cancel:mW,isAxiosError:gW,spread:yW,toFormData:_W,AxiosHeaders:vW,HttpStatusCode:EW,formToJSON:bW,getAdapter:wW,mergeConfig:TW}=Ot;var j8=ON();const Nt=$E(j8);function uk(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=uk(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function ul(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=uk(n))&&(r&&(r+=" "),r+=e);return r}function ck(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const q8={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function hk(n,e,t=void 0){const r={};for(const i in n){const o=n[i];let u="",h=!0;for(let f=0;f<o.length;f+=1){const d=o[f];d&&(u+=(h===!0?"":" ")+e(d),h=!1,t&&t[d]&&(u+=" "+t[d]))}r[i]=u}return r}const H8=W.createContext(),$8=()=>W.useContext(H8)??!1;function pC(n){try{return n.matches(":focus-visible")}catch{}return!1}var P0={exports:{}},pt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mC;function G8(){if(mC)return pt;mC=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),T=Symbol.for("react.client.reference");function b(A){if(typeof A=="object"&&A!==null){var P=A.$$typeof;switch(P){case n:switch(A=A.type,A){case t:case i:case r:case f:case d:case v:return A;default:switch(A=A&&A.$$typeof,A){case u:case h:case _:case g:return A;case o:return A;default:return P}}case e:return P}}}return pt.ContextConsumer=o,pt.ContextProvider=u,pt.Element=n,pt.ForwardRef=h,pt.Fragment=t,pt.Lazy=_,pt.Memo=g,pt.Portal=e,pt.Profiler=i,pt.StrictMode=r,pt.Suspense=f,pt.SuspenseList=d,pt.isContextConsumer=function(A){return b(A)===o},pt.isContextProvider=function(A){return b(A)===u},pt.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===n},pt.isForwardRef=function(A){return b(A)===h},pt.isFragment=function(A){return b(A)===t},pt.isLazy=function(A){return b(A)===_},pt.isMemo=function(A){return b(A)===g},pt.isPortal=function(A){return b(A)===e},pt.isProfiler=function(A){return b(A)===i},pt.isStrictMode=function(A){return b(A)===r},pt.isSuspense=function(A){return b(A)===f},pt.isSuspenseList=function(A){return b(A)===d},pt.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===t||A===i||A===r||A===f||A===d||typeof A=="object"&&A!==null&&(A.$$typeof===_||A.$$typeof===g||A.$$typeof===u||A.$$typeof===o||A.$$typeof===h||A.$$typeof===T||A.getModuleId!==void 0)},pt.typeOf=b,pt}var gC;function K8(){return gC||(gC=1,P0.exports=G8()),P0.exports}var dk=K8();function Rs(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function fk(n){if(W.isValidElement(n)||dk.isValidElementType(n)||!Rs(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=fk(n[t])}),e}function Rr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return Rs(n)&&Rs(e)&&Object.keys(e).forEach(i=>{W.isValidElement(e[i])||dk.isValidElementType(e[i])?r[i]=e[i]:Rs(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&Rs(n[i])?r[i]=Rr(n[i],e[i],t):t.clone?r[i]=Rs(e[i])?fk(e[i]):e[i]:r[i]=e[i]}),r}function wl(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function Ya(n){if(typeof n!="string")throw new Error(wl(7));return n.charAt(0).toUpperCase()+n.slice(1)}function W8(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let yC=0;function Q8(n){const[e,t]=W.useState(n),r=n||e;return W.useEffect(()=>{e==null&&(yC+=1,t(`mui-${yC}`))},[e]),r}const Y8={...V0},_C=Y8.useId;function pk(n){if(_C!==void 0){const e=_C();return n??e}return Q8(n)}function X8({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=W.useRef(n!==void 0),[o,u]=W.useState(e),h=i?n:o,f=W.useCallback(d=>{i||u(d)},[]);return[h,f]}function mk(...n){return W.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{W8(t,e)})},n)}function kE(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const o=n[i],u=e[i];if(!u)t[i]=o||{};else if(!o)t[i]=u;else{t[i]={...u};for(const h in o)if(Object.prototype.hasOwnProperty.call(o,h)){const f=h;t[i][f]=kE(o[f],u[f])}}}else t[i]===void 0&&(t[i]=n[i])}return t}const vC=n=>n,J8=()=>{let n=vC;return{configure(e){n=e},generate(e){return n(e)},reset(){n=vC}}},Z8=J8(),e7={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Bw(n,e,t="Mui"){const r=e7[e];return r?`${t}-${r}`:`${Z8.generate(n)}-${e}`}function gk(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=Bw(n,i,t)}),r}function t7(n){return typeof n=="string"}function n7(n,e,t){return n===void 0||t7(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function r7(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function EC(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function i7(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:i,className:o}=n;if(!e){const T=ul(t==null?void 0:t.className,o,i==null?void 0:i.className,r==null?void 0:r.className),b={...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},A={...t,...i,...r};return T.length>0&&(A.className=T),Object.keys(b).length>0&&(A.style=b),{props:A,internalRef:void 0}}const u=r7({...i,...r}),h=EC(r),f=EC(i),d=e(u),g=ul(d==null?void 0:d.className,t==null?void 0:t.className,o,i==null?void 0:i.className,r==null?void 0:r.className),_={...d==null?void 0:d.style,...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},v={...d,...t,...f,...h};return g.length>0&&(v.className=g),Object.keys(_).length>0&&(v.style=_),{props:v,internalRef:d.ref}}function s7(n,e,t){return typeof n=="function"?n(e,t):n}function Fd(n,e){return e?Rr(n,e,{clone:!1}):n}function a7(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var u,h;const o=/min-width:\s*([0-9.]+)/;return+(((u=r.match(o))==null?void 0:u[1])||0)-+(((h=i.match(o))==null?void 0:h[1])||0)});return t.length?t.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function o7(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function l7(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(o)}function u7(n){const e=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function t(o,u){o.up=(...h)=>e(n.breakpoints.up(...h),u),o.down=(...h)=>e(n.breakpoints.down(...h),u),o.between=(...h)=>e(n.breakpoints.between(...h),u),o.only=(...h)=>e(n.breakpoints.only(...h),u),o.not=(...h)=>{const f=e(n.breakpoints.not(...h),u);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const r={},i=o=>(t(r,o),r);return t(i),{...n,containerQueries:i}}const Ly={xs:0,sm:600,md:900,lg:1200,xl:1536},bC={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Ly[n]}px)`},c7={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:Ly[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Fs(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||bC;return e.reduce((u,h,f)=>(u[o.up(o.keys[f])]=t(e[f]),u),{})}if(typeof e=="object"){const o=r.breakpoints||bC;return Object.keys(e).reduce((u,h)=>{if(o7(o.keys,h)){const f=l7(r.containerQueries?r:c7,h);f&&(u[f]=t(e[h],h))}else if(Object.keys(o.values||Ly).includes(h)){const f=o.up(h);u[f]=t(e[h],h)}else{const f=h;u[f]=e[f]}return u},{})}return t(e)}function h7(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function d7(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function Uy(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function Vg(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=Uy(n,t)||r,e&&(i=e(i,r,n)),i}function Zt(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,o=u=>{if(u[e]==null)return null;const h=u[e],f=u.theme,d=Uy(f,r)||{};return Fs(u,h,_=>{let v=Vg(d,i,_);return _===v&&typeof _=="string"&&(v=Vg(d,i,`${e}${_==="default"?"":Ya(_)}`,_)),t===!1?v:{[t]:v}})};return o.propTypes={},o.filterProps=[e],o}function f7(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const p7={m:"margin",p:"padding"},m7={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},wC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},g7=f7(n=>{if(n.length>2)if(wC[n])n=wC[n];else return[n];const[e,t]=n.split(""),r=p7[e],i=m7[t]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),Fw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],zw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Fw,...zw];function qf(n,e,t,r){const i=Uy(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),h=i[u];return o>=0?h:typeof h=="number"?-h:typeof h=="string"&&h.startsWith("var(")?`calc(-1 * ${h})`:`-${h}`}:typeof i=="function"?i:()=>{}}function jw(n){return qf(n,"spacing",8)}function Hf(n,e){return typeof e=="string"||e==null?e:n(e)}function y7(n,e){return t=>n.reduce((r,i)=>(r[i]=Hf(e,t),r),{})}function _7(n,e,t,r){if(!e.includes(t))return null;const i=g7(t),o=y7(i,r),u=n[t];return Fs(n,u,o)}function yk(n,e){const t=jw(n.theme);return Object.keys(n).map(r=>_7(n,e,r,t)).reduce(Fd,{})}function Ft(n){return yk(n,Fw)}Ft.propTypes={};Ft.filterProps=Fw;function zt(n){return yk(n,zw)}zt.propTypes={};zt.filterProps=zw;function By(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),t=r=>Object.keys(r).reduce((i,o)=>e[o]?Fd(i,e[o](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Hr(n){return typeof n!="number"?n:`${n}px solid`}function Wr(n,e){return Zt({prop:n,themeKey:"borders",transform:e})}const v7=Wr("border",Hr),E7=Wr("borderTop",Hr),b7=Wr("borderRight",Hr),w7=Wr("borderBottom",Hr),T7=Wr("borderLeft",Hr),S7=Wr("borderColor"),A7=Wr("borderTopColor"),I7=Wr("borderRightColor"),R7=Wr("borderBottomColor"),C7=Wr("borderLeftColor"),x7=Wr("outline",Hr),P7=Wr("outlineColor"),Fy=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=qf(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Hf(e,r)});return Fs(n,n.borderRadius,t)}return null};Fy.propTypes={};Fy.filterProps=["borderRadius"];By(v7,E7,b7,w7,T7,S7,A7,I7,R7,C7,Fy,x7,P7);const zy=n=>{if(n.gap!==void 0&&n.gap!==null){const e=qf(n.theme,"spacing",8),t=r=>({gap:Hf(e,r)});return Fs(n,n.gap,t)}return null};zy.propTypes={};zy.filterProps=["gap"];const jy=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=qf(n.theme,"spacing",8),t=r=>({columnGap:Hf(e,r)});return Fs(n,n.columnGap,t)}return null};jy.propTypes={};jy.filterProps=["columnGap"];const qy=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=qf(n.theme,"spacing",8),t=r=>({rowGap:Hf(e,r)});return Fs(n,n.rowGap,t)}return null};qy.propTypes={};qy.filterProps=["rowGap"];const O7=Zt({prop:"gridColumn"}),D7=Zt({prop:"gridRow"}),N7=Zt({prop:"gridAutoFlow"}),k7=Zt({prop:"gridAutoColumns"}),M7=Zt({prop:"gridAutoRows"}),V7=Zt({prop:"gridTemplateColumns"}),L7=Zt({prop:"gridTemplateRows"}),U7=Zt({prop:"gridTemplateAreas"}),B7=Zt({prop:"gridArea"});By(zy,jy,qy,O7,D7,N7,k7,M7,V7,L7,U7,B7);function Gu(n,e){return e==="grey"?e:n}const F7=Zt({prop:"color",themeKey:"palette",transform:Gu}),z7=Zt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Gu}),j7=Zt({prop:"backgroundColor",themeKey:"palette",transform:Gu});By(F7,z7,j7);function Ar(n){return n<=1&&n!==0?`${n*100}%`:n}const q7=Zt({prop:"width",transform:Ar}),qw=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,o,u,h,f;const r=((u=(o=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:u[t])||Ly[t];return r?((f=(h=n.theme)==null?void 0:h.breakpoints)==null?void 0:f.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Ar(t)}};return Fs(n,n.maxWidth,e)}return null};qw.filterProps=["maxWidth"];const H7=Zt({prop:"minWidth",transform:Ar}),$7=Zt({prop:"height",transform:Ar}),G7=Zt({prop:"maxHeight",transform:Ar}),K7=Zt({prop:"minHeight",transform:Ar});Zt({prop:"size",cssProperty:"width",transform:Ar});Zt({prop:"size",cssProperty:"height",transform:Ar});const W7=Zt({prop:"boxSizing"});By(q7,qw,H7,$7,G7,K7,W7);const Hy={border:{themeKey:"borders",transform:Hr},borderTop:{themeKey:"borders",transform:Hr},borderRight:{themeKey:"borders",transform:Hr},borderBottom:{themeKey:"borders",transform:Hr},borderLeft:{themeKey:"borders",transform:Hr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Hr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Fy},color:{themeKey:"palette",transform:Gu},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Gu},backgroundColor:{themeKey:"palette",transform:Gu},p:{style:zt},pt:{style:zt},pr:{style:zt},pb:{style:zt},pl:{style:zt},px:{style:zt},py:{style:zt},padding:{style:zt},paddingTop:{style:zt},paddingRight:{style:zt},paddingBottom:{style:zt},paddingLeft:{style:zt},paddingX:{style:zt},paddingY:{style:zt},paddingInline:{style:zt},paddingInlineStart:{style:zt},paddingInlineEnd:{style:zt},paddingBlock:{style:zt},paddingBlockStart:{style:zt},paddingBlockEnd:{style:zt},m:{style:Ft},mt:{style:Ft},mr:{style:Ft},mb:{style:Ft},ml:{style:Ft},mx:{style:Ft},my:{style:Ft},margin:{style:Ft},marginTop:{style:Ft},marginRight:{style:Ft},marginBottom:{style:Ft},marginLeft:{style:Ft},marginX:{style:Ft},marginY:{style:Ft},marginInline:{style:Ft},marginInlineStart:{style:Ft},marginInlineEnd:{style:Ft},marginBlock:{style:Ft},marginBlockStart:{style:Ft},marginBlockEnd:{style:Ft},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:zy},rowGap:{style:qy},columnGap:{style:jy},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ar},maxWidth:{style:qw},minWidth:{transform:Ar},height:{transform:Ar},maxHeight:{transform:Ar},minHeight:{transform:Ar},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Q7(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function Y7(n,e){return typeof n=="function"?n(e):n}function X7(){function n(t,r,i,o){const u={[t]:r,theme:i},h=o[t];if(!h)return{[t]:r};const{cssProperty:f=t,themeKey:d,transform:g,style:_}=h;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[t]:r};const v=Uy(i,d)||{};return _?_(u):Fs(u,r,b=>{let A=Vg(v,g,b);return b===A&&typeof b=="string"&&(A=Vg(v,g,`${t}${b==="default"?"":Ya(b)}`,b)),f===!1?A:{[f]:A}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const o=i.unstable_sxConfig??Hy;function u(h){let f=h;if(typeof h=="function")f=h(i);else if(typeof h!="object")return h;if(!f)return null;const d=h7(i.breakpoints),g=Object.keys(d);let _=d;return Object.keys(f).forEach(v=>{const T=Y7(f[v],i);if(T!=null)if(typeof T=="object")if(o[v])_=Fd(_,n(v,T,i,o));else{const b=Fs({theme:i},T,A=>({[v]:A}));Q7(b,T)?_[v]=e({sx:T,theme:i}):_=Fd(_,b)}else _=Fd(_,n(v,T,i,o))}),a7(i,d7(g,_))}return Array.isArray(r)?r.map(u):u(r)}return e}const _c=X7();_c.filterProps=["sx"];function ME(){return ME=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ME.apply(null,arguments)}function J7(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function Z7(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var eH=function(){function n(t){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Z7(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=J7(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),zn="-ms-",Lg="-moz-",tt="-webkit-",_k="comm",Hw="rule",$w="decl",tH="@import",vk="@keyframes",nH="@layer",rH=Math.abs,$y=String.fromCharCode,iH=Object.assign;function sH(n,e){return kn(n,0)^45?(((e<<2^kn(n,0))<<2^kn(n,1))<<2^kn(n,2))<<2^kn(n,3):0}function Ek(n){return n.trim()}function aH(n,e){return(n=e.exec(n))?n[0]:n}function nt(n,e,t){return n.replace(e,t)}function VE(n,e){return n.indexOf(e)}function kn(n,e){return n.charCodeAt(e)|0}function ff(n,e,t){return n.slice(e,t)}function Di(n){return n.length}function Gw(n){return n.length}function Im(n,e){return e.push(n),n}function oH(n,e){return n.map(e).join("")}var Gy=1,vc=1,bk=0,hr=0,un=0,Fc="";function Ky(n,e,t,r,i,o,u){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:Gy,column:vc,length:u,return:""}}function md(n,e){return iH(Ky("",null,null,"",null,null,0),n,{length:-n.length},e)}function lH(){return un}function uH(){return un=hr>0?kn(Fc,--hr):0,vc--,un===10&&(vc=1,Gy--),un}function Cr(){return un=hr<bk?kn(Fc,hr++):0,vc++,un===10&&(vc=1,Gy++),un}function qi(){return kn(Fc,hr)}function Xm(){return hr}function $f(n,e){return ff(Fc,n,e)}function pf(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function wk(n){return Gy=vc=1,bk=Di(Fc=n),hr=0,[]}function Tk(n){return Fc="",n}function Jm(n){return Ek($f(hr-1,LE(n===91?n+2:n===40?n+1:n)))}function cH(n){for(;(un=qi())&&un<33;)Cr();return pf(n)>2||pf(un)>3?"":" "}function hH(n,e){for(;--e&&Cr()&&!(un<48||un>102||un>57&&un<65||un>70&&un<97););return $f(n,Xm()+(e<6&&qi()==32&&Cr()==32))}function LE(n){for(;Cr();)switch(un){case n:return hr;case 34:case 39:n!==34&&n!==39&&LE(un);break;case 40:n===41&&LE(n);break;case 92:Cr();break}return hr}function dH(n,e){for(;Cr()&&n+un!==57;)if(n+un===84&&qi()===47)break;return"/*"+$f(e,hr-1)+"*"+$y(n===47?n:Cr())}function fH(n){for(;!pf(qi());)Cr();return $f(n,hr)}function pH(n){return Tk(Zm("",null,null,null,[""],n=wk(n),0,[0],n))}function Zm(n,e,t,r,i,o,u,h,f){for(var d=0,g=0,_=u,v=0,T=0,b=0,A=1,P=1,U=1,V=0,L="",H=i,F=o,K=r,M=L;P;)switch(b=V,V=Cr()){case 40:if(b!=108&&kn(M,_-1)==58){VE(M+=nt(Jm(V),"&","&\f"),"&\f")!=-1&&(U=-1);break}case 34:case 39:case 91:M+=Jm(V);break;case 9:case 10:case 13:case 32:M+=cH(b);break;case 92:M+=hH(Xm()-1,7);continue;case 47:switch(qi()){case 42:case 47:Im(mH(dH(Cr(),Xm()),e,t),f);break;default:M+="/"}break;case 123*A:h[d++]=Di(M)*U;case 125*A:case 59:case 0:switch(V){case 0:case 125:P=0;case 59+g:U==-1&&(M=nt(M,/\f/g,"")),T>0&&Di(M)-_&&Im(T>32?SC(M+";",r,t,_-1):SC(nt(M," ","")+";",r,t,_-2),f);break;case 59:M+=";";default:if(Im(K=TC(M,e,t,d,g,i,h,L,H=[],F=[],_),o),V===123)if(g===0)Zm(M,e,K,K,H,o,_,h,F);else switch(v===99&&kn(M,3)===110?100:v){case 100:case 108:case 109:case 115:Zm(n,K,K,r&&Im(TC(n,K,K,0,0,i,h,L,i,H=[],_),F),i,F,_,h,r?H:F);break;default:Zm(M,K,K,K,[""],F,0,h,F)}}d=g=T=0,A=U=1,L=M="",_=u;break;case 58:_=1+Di(M),T=b;default:if(A<1){if(V==123)--A;else if(V==125&&A++==0&&uH()==125)continue}switch(M+=$y(V),V*A){case 38:U=g>0?1:(M+="\f",-1);break;case 44:h[d++]=(Di(M)-1)*U,U=1;break;case 64:qi()===45&&(M+=Jm(Cr())),v=qi(),g=_=Di(L=M+=fH(Xm())),V++;break;case 45:b===45&&Di(M)==2&&(A=0)}}return o}function TC(n,e,t,r,i,o,u,h,f,d,g){for(var _=i-1,v=i===0?o:[""],T=Gw(v),b=0,A=0,P=0;b<r;++b)for(var U=0,V=ff(n,_+1,_=rH(A=u[b])),L=n;U<T;++U)(L=Ek(A>0?v[U]+" "+V:nt(V,/&\f/g,v[U])))&&(f[P++]=L);return Ky(n,e,t,i===0?Hw:h,f,d,g)}function mH(n,e,t){return Ky(n,e,t,_k,$y(lH()),ff(n,2,-2),0)}function SC(n,e,t,r){return Ky(n,e,t,$w,ff(n,0,r),ff(n,r+1,-1),r)}function Ku(n,e){for(var t="",r=Gw(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function gH(n,e,t,r){switch(n.type){case nH:if(n.children.length)break;case tH:case $w:return n.return=n.return||n.value;case _k:return"";case vk:return n.return=n.value+"{"+Ku(n.children,r)+"}";case Hw:n.value=n.props.join(",")}return Di(t=Ku(n.children,r))?n.return=n.value+"{"+t+"}":""}function yH(n){var e=Gw(n);return function(t,r,i,o){for(var u="",h=0;h<e;h++)u+=n[h](t,r,i,o)||"";return u}}function _H(n){return function(e){e.root||(e=e.return)&&n(e)}}function Sk(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var vH=function(e,t,r){for(var i=0,o=0;i=o,o=qi(),i===38&&o===12&&(t[r]=1),!pf(o);)Cr();return $f(e,hr)},EH=function(e,t){var r=-1,i=44;do switch(pf(i)){case 0:i===38&&qi()===12&&(t[r]=1),e[r]+=vH(hr-1,t,r);break;case 2:e[r]+=Jm(i);break;case 4:if(i===44){e[++r]=qi()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=$y(i)}while(i=Cr());return e},bH=function(e,t){return Tk(EH(wk(e),t))},AC=new WeakMap,wH=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!AC.get(r))&&!i){AC.set(e,!0);for(var o=[],u=bH(t,o),h=r.props,f=0,d=0;f<u.length;f++)for(var g=0;g<h.length;g++,d++)e.props[d]=o[f]?u[f].replace(/&\f/g,h[g]):h[g]+" "+u[f]}}},TH=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function Ak(n,e){switch(sH(n,e)){case 5103:return tt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return tt+n+Lg+n+zn+n+n;case 6828:case 4268:return tt+n+zn+n+n;case 6165:return tt+n+zn+"flex-"+n+n;case 5187:return tt+n+nt(n,/(\w+).+(:[^]+)/,tt+"box-$1$2"+zn+"flex-$1$2")+n;case 5443:return tt+n+zn+"flex-item-"+nt(n,/flex-|-self/,"")+n;case 4675:return tt+n+zn+"flex-line-pack"+nt(n,/align-content|flex-|-self/,"")+n;case 5548:return tt+n+zn+nt(n,"shrink","negative")+n;case 5292:return tt+n+zn+nt(n,"basis","preferred-size")+n;case 6060:return tt+"box-"+nt(n,"-grow","")+tt+n+zn+nt(n,"grow","positive")+n;case 4554:return tt+nt(n,/([^-])(transform)/g,"$1"+tt+"$2")+n;case 6187:return nt(nt(nt(n,/(zoom-|grab)/,tt+"$1"),/(image-set)/,tt+"$1"),n,"")+n;case 5495:case 3959:return nt(n,/(image-set\([^]*)/,tt+"$1$`$1");case 4968:return nt(nt(n,/(.+:)(flex-)?(.*)/,tt+"box-pack:$3"+zn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tt+n+n;case 4095:case 3583:case 4068:case 2532:return nt(n,/(.+)-inline(.+)/,tt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Di(n)-1-e>6)switch(kn(n,e+1)){case 109:if(kn(n,e+4)!==45)break;case 102:return nt(n,/(.+:)(.+)-([^]+)/,"$1"+tt+"$2-$3$1"+Lg+(kn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~VE(n,"stretch")?Ak(nt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(kn(n,e+1)!==115)break;case 6444:switch(kn(n,Di(n)-3-(~VE(n,"!important")&&10))){case 107:return nt(n,":",":"+tt)+n;case 101:return nt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+tt+(kn(n,14)===45?"inline-":"")+"box$3$1"+tt+"$2$3$1"+zn+"$2box$3")+n}break;case 5936:switch(kn(n,e+11)){case 114:return tt+n+zn+nt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return tt+n+zn+nt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return tt+n+zn+nt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return tt+n+zn+n+n}return n}var SH=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case $w:e.return=Ak(e.value,e.length);break;case vk:return Ku([md(e,{value:nt(e.value,"@","@"+tt)})],i);case Hw:if(e.length)return oH(e.props,function(o){switch(aH(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ku([md(e,{props:[nt(o,/:(read-\w+)/,":"+Lg+"$1")]})],i);case"::placeholder":return Ku([md(e,{props:[nt(o,/:(plac\w+)/,":"+tt+"input-$1")]}),md(e,{props:[nt(o,/:(plac\w+)/,":"+Lg+"$1")]}),md(e,{props:[nt(o,/:(plac\w+)/,zn+"input-$1")]})],i)}return""})}},AH=[SH],IH=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(A){var P=A.getAttribute("data-emotion");P.indexOf(" ")!==-1&&(document.head.appendChild(A),A.setAttribute("data-s",""))})}var i=e.stylisPlugins||AH,o={},u,h=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(A){for(var P=A.getAttribute("data-emotion").split(" "),U=1;U<P.length;U++)o[P[U]]=!0;h.push(A)});var f,d=[wH,TH];{var g,_=[gH,_H(function(A){g.insert(A)})],v=yH(d.concat(i,_)),T=function(P){return Ku(pH(P),v)};f=function(P,U,V,L){g=V,T(P?P+"{"+U.styles+"}":U.styles),L&&(b.inserted[U.name]=!0)}}var b={key:t,sheet:new eH({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:f};return b.sheet.hydrate(h),b},RH=!0;function CH(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var Ik=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||RH===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},xH=function(e,t,r){Ik(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function PH(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var OH={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},DH=/[A-Z]|^ms/g,NH=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Rk=function(e){return e.charCodeAt(1)===45},IC=function(e){return e!=null&&typeof e!="boolean"},O0=Sk(function(n){return Rk(n)?n:n.replace(DH,"-$&").toLowerCase()}),RC=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(NH,function(r,i,o){return Ni={name:i,styles:o,next:Ni},i})}return OH[e]!==1&&!Rk(e)&&typeof t=="number"&&t!==0?t+"px":t};function mf(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Ni={name:i.name,styles:i.styles,next:Ni},i.name;var o=t;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)Ni={name:u.name,styles:u.styles,next:Ni},u=u.next;var h=o.styles+";";return h}return kH(n,e,t)}case"function":{if(n!==void 0){var f=Ni,d=t(n);return Ni=f,mf(n,e,d)}break}}var g=t;if(e==null)return g;var _=e[g];return _!==void 0?_:g}function kH(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=mf(n,e,t[i])+";";else for(var o in t){var u=t[o];if(typeof u!="object"){var h=u;e!=null&&e[h]!==void 0?r+=o+"{"+e[h]+"}":IC(h)&&(r+=O0(o)+":"+RC(o,h)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var f=0;f<u.length;f++)IC(u[f])&&(r+=O0(o)+":"+RC(o,u[f])+";");else{var d=mf(n,e,u);switch(o){case"animation":case"animationName":{r+=O0(o)+":"+d+";";break}default:r+=o+"{"+d+"}"}}}return r}var CC=/label:\s*([^\s;{]+)\s*(;|$)/g,Ni;function Ck(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Ni=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,i+=mf(t,e,o);else{var u=o;i+=u[0]}for(var h=1;h<n.length;h++)if(i+=mf(t,e,n[h]),r){var f=o;i+=f[h]}CC.lastIndex=0;for(var d="",g;(g=CC.exec(i))!==null;)d+="-"+g[1];var _=PH(i)+d;return{name:_,styles:i,next:Ni}}var MH=function(e){return e()},VH=V0.useInsertionEffect?V0.useInsertionEffect:!1,LH=VH||MH,xk=W.createContext(typeof HTMLElement<"u"?IH({key:"css"}):null);xk.Provider;var UH=function(e){return W.forwardRef(function(t,r){var i=W.useContext(xk);return e(t,i,r)})},BH=W.createContext({}),FH=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,zH=Sk(function(n){return FH.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),jH=zH,qH=function(e){return e!=="theme"},xC=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?jH:qH},PC=function(e,t,r){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(u){return e.__emotion_forwardProp(u)&&o(u)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},HH=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return Ik(t,r,i),LH(function(){return xH(t,r,i)}),null},$H=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,u;t!==void 0&&(o=t.label,u=t.target);var h=PC(e,t,r),f=h||xC(i),d=!f("as");return function(){var g=arguments,_=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&_.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)_.push.apply(_,g);else{var v=g[0];_.push(v[0]);for(var T=g.length,b=1;b<T;b++)_.push(g[b],v[b])}var A=UH(function(P,U,V){var L=d&&P.as||i,H="",F=[],K=P;if(P.theme==null){K={};for(var M in P)K[M]=P[M];K.theme=W.useContext(BH)}typeof P.className=="string"?H=CH(U.registered,F,P.className):P.className!=null&&(H=P.className+" ");var R=Ck(_.concat(F),U.registered,K);H+=U.key+"-"+R.name,u!==void 0&&(H+=" "+u);var x=d&&h===void 0?xC(L):f,w={};for(var O in P)d&&O==="as"||x(O)&&(w[O]=P[O]);return w.className=H,V&&(w.ref=V),W.createElement(W.Fragment,null,W.createElement(HH,{cache:U,serialized:R,isStringTag:typeof L=="string"}),W.createElement(L,w))});return A.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",A.defaultProps=e.defaultProps,A.__emotion_real=A,A.__emotion_base=i,A.__emotion_styles=_,A.__emotion_forwardProp=h,Object.defineProperty(A,"toString",{value:function(){return"."+u}}),A.withComponent=function(P,U){var V=n(P,ME({},t,U,{shouldForwardProp:PC(A,U,!0)}));return V.apply(void 0,_)},A}},GH=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],UE=$H.bind(null);GH.forEach(function(n){UE[n]=UE(n)});function KH(n,e){return UE(n,e)}function WH(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const OC=[];function DC(n){return OC[0]=n,Ck(OC)}const QH=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function YH(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,o=QH(e),u=Object.keys(o);function h(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function f(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${t})`}function d(v,T){const b=u.indexOf(T);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(b!==-1&&typeof e[u[b]]=="number"?e[u[b]]:T)-r/100}${t})`}function g(v){return u.indexOf(v)+1<u.length?d(v,u[u.indexOf(v)+1]):h(v)}function _(v){const T=u.indexOf(v);return T===0?h(u[1]):T===u.length-1?f(u[T]):d(v,u[u.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:h,down:f,between:d,only:g,not:_,unit:t,...i}}const XH={borderRadius:4};function Pk(n=8,e=jw({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const u=e(o);return typeof u=="number"?`${u}px`:u}).join(" ");return t.mui=!0,t}function JH(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function Ok(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:o={},...u}=n,h=YH(t),f=Pk(i);let d=Rr({breakpoints:h,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:f,shape:{...XH,...o}},u);return d=u7(d),d.applyStyles=JH,d=e.reduce((g,_)=>Rr(g,_),d),d.unstable_sxConfig={...Hy,...u==null?void 0:u.unstable_sxConfig},d.unstable_sx=function(_){return _c({sx:_,theme:this})},d}function Dk(n){const{variants:e,...t}=n,r={variants:e,style:DC(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=DC(i.style))}),r}const ZH=Ok();function D0(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function e$(n){return n?(e,t)=>t[n]:null}function t$(n,e,t){n.theme=i$(n.theme)?t:n.theme[e]||n.theme}function eg(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>eg(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...o}=t;r=o}return Nk(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function Nk(n,e,t=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const u=e[o];if(typeof u.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!u.props(r))continue}else for(const h in u.props)if(n[h]!==u.props[h]&&((i=n.ownerState)==null?void 0:i[h])!==u.props[h])continue e;typeof u.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(u.style(r))):t.push(u.style)}return t}function n$(n={}){const{themeId:e,defaultTheme:t=ZH,rootShouldForwardProp:r=D0,slotShouldForwardProp:i=D0}=n;function o(h){t$(h,e,t)}return(h,f={})=>{WH(h,F=>F.filter(K=>K!==_c));const{name:d,slot:g,skipVariantsResolver:_,skipSx:v,overridesResolver:T=e$(a$(g)),...b}=f,A=_!==void 0?_:g&&g!=="Root"&&g!=="root"||!1,P=v||!1;let U=D0;g==="Root"||g==="root"?U=r:g?U=i:s$(h)&&(U=void 0);const V=KH(h,{shouldForwardProp:U,label:r$(),...b}),L=F=>{if(typeof F=="function"&&F.__emotion_real!==F)return function(M){return eg(M,F)};if(Rs(F)){const K=Dk(F);return K.variants?function(R){return eg(R,K)}:K.style}return F},H=(...F)=>{const K=[],M=F.map(L),R=[];if(K.push(o),d&&T&&R.push(function(C){var $,J;const se=(J=($=C.theme.components)==null?void 0:$[d])==null?void 0:J.styleOverrides;if(!se)return null;const B={};for(const le in se)B[le]=eg(C,se[le]);return T(C,B)}),d&&!A&&R.push(function(C){var B,$;const D=C.theme,se=($=(B=D==null?void 0:D.components)==null?void 0:B[d])==null?void 0:$.variants;return se?Nk(C,se):null}),P||R.push(_c),Array.isArray(M[0])){const O=M.shift(),C=new Array(K.length).fill(""),D=new Array(R.length).fill("");let se;se=[...C,...O,...D],se.raw=[...C,...O.raw,...D],K.unshift(se)}const x=[...K,...M,...R],w=V(...x);return h.muiName&&(w.muiName=h.muiName),w};return V.withConfig&&(H.withConfig=V.withConfig),H}}function r$(n,e){return void 0}function i$(n){for(const e in n)return!1;return!0}function s$(n){return typeof n=="string"&&n.charCodeAt(0)>96}function a$(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function Kw(n,e=0,t=1){return ck(n,e,t)}function o$(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Xa(n){if(n.type)return n;if(n.charAt(0)==="#")return Xa(o$(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(wl(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(wl(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:i}}const l$=n=>{const e=Xa(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Id=(n,e)=>{try{return l$(n)}catch{return n}};function Wy(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function kk(n){n=Xa(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),u=(d,g=(d+t/30)%12)=>i-o*Math.max(Math.min(g-3,9-g,1),-1);let h="rgb";const f=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return n.type==="hsla"&&(h+="a",f.push(e[3])),Wy({type:h,values:f})}function BE(n){n=Xa(n);let e=n.type==="hsl"||n.type==="hsla"?Xa(kk(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function u$(n,e){const t=BE(n),r=BE(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function c$(n,e){return n=Xa(n),e=Kw(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Wy(n)}function Rm(n,e,t){try{return c$(n,e)}catch{return n}}function Ww(n,e){if(n=Xa(n),e=Kw(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Wy(n)}function gt(n,e,t){try{return Ww(n,e)}catch{return n}}function Qw(n,e){if(n=Xa(n),e=Kw(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Wy(n)}function yt(n,e,t){try{return Qw(n,e)}catch{return n}}function h$(n,e=.15){return BE(n)>.5?Ww(n,e):Qw(n,e)}function Cm(n,e,t){try{return h$(n,e)}catch{return n}}const d$=W.createContext(void 0);function f$(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?kE(i.defaultProps,r):!i.styleOverrides&&!i.variants?kE(i,r):r}function p$({props:n,name:e}){const t=W.useContext(d$);return f$({props:n,name:e,theme:{components:t}})}const NC={theme:void 0};function m$(n){let e,t;return function(i){let o=e;return(o===void 0||i.theme!==t)&&(NC.theme=i.theme,o=Dk(n(NC)),e=o,t=i.theme),o}}function g$(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const kC=(n,e,t,r=[])=>{let i=n;e.forEach((o,u)=>{u===e.length-1?Array.isArray(i)?i[Number(o)]=t:i&&typeof i=="object"&&(i[o]=t):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},y$=(n,e,t)=>{function r(i,o=[],u=[]){Object.entries(i).forEach(([h,f])=>{(!t||t&&!t([...o,h]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?r(f,[...o,h],Array.isArray(f)?[...u,h]:u):e([...o,h],f,u))})}r(n)},_$=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function N0(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},o={},u={};return y$(n,(h,f,d)=>{if((typeof f=="string"||typeof f=="number")&&(!r||!r(h,f))){const g=`--${t?`${t}-`:""}${h.join("-")}`,_=_$(h,f);Object.assign(i,{[g]:_}),kC(o,h,`var(${g})`,d),kC(u,h,`var(${g}, ${_})`,d)}},h=>h[0]==="vars"),{css:i,vars:o,varsWithDefaults:u}}function v$(n,e={}){const{getSelector:t=P,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:u,defaultColorScheme:h="light",...f}=n,{vars:d,css:g,varsWithDefaults:_}=N0(f,e);let v=_;const T={},{[h]:b,...A}=o;if(Object.entries(A||{}).forEach(([L,H])=>{const{vars:F,css:K,varsWithDefaults:M}=N0(H,e);v=Rr(v,M),T[L]={css:K,vars:F}}),b){const{css:L,vars:H,varsWithDefaults:F}=N0(b,e);v=Rr(v,F),T[h]={css:L,vars:H}}function P(L,H){var K,M;let F=i;if(i==="class"&&(F=".%s"),i==="data"&&(F="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(F=`[${i}="%s"]`),L){if(F==="media")return n.defaultColorScheme===L?":root":{[`@media (prefers-color-scheme: ${((M=(K=o[L])==null?void 0:K.palette)==null?void 0:M.mode)||L})`]:{":root":H}};if(F)return n.defaultColorScheme===L?`:root, ${F.replace("%s",String(L))}`:F.replace("%s",String(L))}return":root"}return{vars:v,generateThemeVars:()=>{let L={...d};return Object.entries(T).forEach(([,{vars:H}])=>{L=Rr(L,H)}),L},generateStyleSheets:()=>{var R,x;const L=[],H=n.defaultColorScheme||"light";function F(w,O){Object.keys(O).length&&L.push(typeof w=="string"?{[w]:{...O}}:w)}F(t(void 0,{...g}),g);const{[H]:K,...M}=T;if(K){const{css:w}=K,O=(x=(R=o[H])==null?void 0:R.palette)==null?void 0:x.mode,C=!r&&O?{colorScheme:O,...w}:{...w};F(t(H,{...C}),C)}return Object.entries(M).forEach(([w,{css:O}])=>{var se,B;const C=(B=(se=o[w])==null?void 0:se.palette)==null?void 0:B.mode,D=!r&&C?{colorScheme:C,...O}:{...O};F(t(w,{...D}),D)}),L}}}function E$(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const gf={black:"#000",white:"#fff"},Mk={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ru={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Cu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},gd={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},xu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Pu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ou={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function Vk(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:gf.white,default:gf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const b$=Vk();function Lk(){return{text:{primary:gf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:gf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const MC=Lk();function VC(n,e,t,r){const i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=Qw(n.main,i):e==="dark"&&(n.dark=Ww(n.main,o)))}function w$(n="light"){return n==="dark"?{main:xu[200],light:xu[50],dark:xu[400]}:{main:xu[700],light:xu[400],dark:xu[800]}}function T$(n="light"){return n==="dark"?{main:Ru[200],light:Ru[50],dark:Ru[400]}:{main:Ru[500],light:Ru[300],dark:Ru[700]}}function S$(n="light"){return n==="dark"?{main:Cu[500],light:Cu[300],dark:Cu[700]}:{main:Cu[700],light:Cu[400],dark:Cu[800]}}function A$(n="light"){return n==="dark"?{main:Pu[400],light:Pu[300],dark:Pu[700]}:{main:Pu[700],light:Pu[500],dark:Pu[900]}}function I$(n="light"){return n==="dark"?{main:Ou[400],light:Ou[300],dark:Ou[700]}:{main:Ou[800],light:Ou[500],dark:Ou[900]}}function R$(n="light"){return n==="dark"?{main:gd[400],light:gd[300],dark:gd[700]}:{main:"#ed6c02",light:gd[500],dark:gd[900]}}function Yw(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,o=n.primary||w$(e),u=n.secondary||T$(e),h=n.error||S$(e),f=n.info||A$(e),d=n.success||I$(e),g=n.warning||R$(e);function _(A){return u$(A,MC.text.primary)>=t?MC.text.primary:b$.text.primary}const v=({color:A,name:P,mainShade:U=500,lightShade:V=300,darkShade:L=700})=>{if(A={...A},!A.main&&A[U]&&(A.main=A[U]),!A.hasOwnProperty("main"))throw new Error(wl(11,P?` (${P})`:"",U));if(typeof A.main!="string")throw new Error(wl(12,P?` (${P})`:"",JSON.stringify(A.main)));return VC(A,"light",V,r),VC(A,"dark",L,r),A.contrastText||(A.contrastText=_(A.main)),A};let T;return e==="light"?T=Vk():e==="dark"&&(T=Lk()),Rr({common:{...gf},mode:e,primary:v({color:o,name:"primary"}),secondary:v({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:h,name:"error"}),warning:v({color:g,name:"warning"}),info:v({color:f,name:"info"}),success:v({color:d,name:"success"}),grey:Mk,contrastThreshold:t,getContrastText:_,augmentColor:v,tonalOffset:r,...T},i)}function C$(n){const e={};return Object.entries(n).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function x$(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function P$(n){return Math.round(n*1e5)/1e5}const LC={textTransform:"uppercase"},UC='"Roboto", "Helvetica", "Arial", sans-serif';function O$(n,e){const{fontFamily:t=UC,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:h=700,htmlFontSize:f=16,allVariants:d,pxToRem:g,..._}=typeof e=="function"?e(n):e,v=r/14,T=g||(P=>`${P/f*v}rem`),b=(P,U,V,L,H)=>({fontFamily:t,fontWeight:P,fontSize:T(U),lineHeight:V,...t===UC?{letterSpacing:`${P$(L/U)}em`}:{},...H,...d}),A={h1:b(i,96,1.167,-1.5),h2:b(i,60,1.2,-.5),h3:b(o,48,1.167,0),h4:b(o,34,1.235,.25),h5:b(o,24,1.334,0),h6:b(u,20,1.6,.15),subtitle1:b(o,16,1.75,.15),subtitle2:b(u,14,1.57,.1),body1:b(o,16,1.5,.15),body2:b(o,14,1.43,.15),button:b(u,14,1.75,.4,LC),caption:b(o,12,1.66,.4),overline:b(o,12,2.66,1,LC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Rr({htmlFontSize:f,pxToRem:T,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:h,...A},_,{clone:!1})}const D$=.2,N$=.14,k$=.12;function At(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${D$})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${N$})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${k$})`].join(",")}const M$=["none",At(0,2,1,-1,0,1,1,0,0,1,3,0),At(0,3,1,-2,0,2,2,0,0,1,5,0),At(0,3,3,-2,0,3,4,0,0,1,8,0),At(0,2,4,-1,0,4,5,0,0,1,10,0),At(0,3,5,-1,0,5,8,0,0,1,14,0),At(0,3,5,-1,0,6,10,0,0,1,18,0),At(0,4,5,-2,0,7,10,1,0,2,16,1),At(0,5,5,-3,0,8,10,1,0,3,14,2),At(0,5,6,-3,0,9,12,1,0,3,16,2),At(0,6,6,-3,0,10,14,1,0,4,18,3),At(0,6,7,-4,0,11,15,1,0,4,20,3),At(0,7,8,-4,0,12,17,2,0,5,22,4),At(0,7,8,-4,0,13,19,2,0,5,24,4),At(0,7,9,-4,0,14,21,2,0,5,26,4),At(0,8,9,-5,0,15,22,2,0,6,28,5),At(0,8,10,-5,0,16,24,2,0,6,30,5),At(0,8,11,-5,0,17,26,2,0,6,32,5),At(0,9,11,-5,0,18,28,2,0,7,34,6),At(0,9,12,-6,0,19,29,2,0,7,36,6),At(0,10,13,-6,0,20,31,3,0,8,38,7),At(0,10,13,-6,0,21,33,3,0,8,40,7),At(0,10,14,-6,0,22,35,3,0,8,42,7),At(0,11,14,-7,0,23,36,3,0,9,44,8),At(0,11,15,-7,0,24,38,3,0,9,46,8)],V$={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},L$={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function BC(n){return`${Math.round(n)}ms`}function U$(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function B$(n){const e={...V$,...n.easing},t={...L$,...n.duration};return{getAutoHeightDuration:U$,create:(i=["all"],o={})=>{const{duration:u=t.standard,easing:h=e.easeInOut,delay:f=0,...d}=o;return(Array.isArray(i)?i:[i]).map(g=>`${g} ${typeof u=="string"?u:BC(u)} ${h} ${typeof f=="string"?f:BC(f)}`).join(",")},...n,easing:e,duration:t}}const F$={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function z$(n){return Rs(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function Uk(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[u,h]=i[o];!z$(h)||u.startsWith("unstable_")?delete r[u]:Rs(h)&&(r[u]={...h},t(r[u]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function FE(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:o={},transitions:u={},typography:h={},shape:f,...d}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(wl(20));const g=Yw(o),_=Ok(n);let v=Rr(_,{mixins:x$(_.breakpoints,r),palette:g,shadows:M$.slice(),typography:O$(g,h),transitions:B$(u),zIndex:{...F$}});return v=Rr(v,d),v=e.reduce((T,b)=>Rr(T,b),v),v.unstable_sxConfig={...Hy,...d==null?void 0:d.unstable_sxConfig},v.unstable_sx=function(b){return _c({sx:b,theme:this})},v.toRuntimeSource=Uk,v}function j$(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const q$=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=j$(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function Bk(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function Fk(n){return n==="dark"?q$:[]}function H$(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,o=Yw(e);return{palette:o,opacity:{...Bk(o.mode),...t},overlays:r||Fk(o.mode),...i}}function $$(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const G$=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],K$=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const u={};return G$(n.cssVarPrefix).forEach(h=>{u[h]=t[h],delete t[h]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:u}}:o?{[o.replace("%s",e)]:u,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...u}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function W$(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function ue(n,e,t){!n[e]&&t&&(n[e]=t)}function Rd(n){return typeof n!="string"||!n.startsWith("hsl")?n:kk(n)}function Ss(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Id(Rd(n[e])))}function Q$(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const xi=n=>{try{return n()}catch{}},Y$=(n="mui")=>g$(n);function k0(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=H$({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...u}=FE({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:o,opacity:{...Bk(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||Fk(i)},u}function X$(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:u=$$,colorSchemeSelector:h=t.light&&t.dark?"media":void 0,rootSelector:f=":root",...d}=n,g=Object.keys(t)[0],_=r||(t.light&&g!=="light"?"light":g),v=Y$(o),{[_]:T,light:b,dark:A,...P}=t,U={...P};let V=T;if((_==="dark"&&!("dark"in t)||_==="light"&&!("light"in t))&&(V=!0),!V)throw new Error(wl(21,_));const L=k0(U,V,d,_);b&&!U.light&&k0(U,b,void 0,"light"),A&&!U.dark&&k0(U,A,void 0,"dark");let H={defaultColorScheme:_,...L,cssVarPrefix:o,colorSchemeSelector:h,rootSelector:f,getCssVar:v,colorSchemes:U,font:{...C$(L.typography),...L.font},spacing:Q$(d.spacing)};Object.keys(H.colorSchemes).forEach(x=>{const w=H.colorSchemes[x].palette,O=C=>{const D=C.split("-"),se=D[1],B=D[2];return v(C,w[se][B])};if(w.mode==="light"&&(ue(w.common,"background","#fff"),ue(w.common,"onBackground","#000")),w.mode==="dark"&&(ue(w.common,"background","#000"),ue(w.common,"onBackground","#fff")),W$(w,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),w.mode==="light"){ue(w.Alert,"errorColor",gt(w.error.light,.6)),ue(w.Alert,"infoColor",gt(w.info.light,.6)),ue(w.Alert,"successColor",gt(w.success.light,.6)),ue(w.Alert,"warningColor",gt(w.warning.light,.6)),ue(w.Alert,"errorFilledBg",O("palette-error-main")),ue(w.Alert,"infoFilledBg",O("palette-info-main")),ue(w.Alert,"successFilledBg",O("palette-success-main")),ue(w.Alert,"warningFilledBg",O("palette-warning-main")),ue(w.Alert,"errorFilledColor",xi(()=>w.getContrastText(w.error.main))),ue(w.Alert,"infoFilledColor",xi(()=>w.getContrastText(w.info.main))),ue(w.Alert,"successFilledColor",xi(()=>w.getContrastText(w.success.main))),ue(w.Alert,"warningFilledColor",xi(()=>w.getContrastText(w.warning.main))),ue(w.Alert,"errorStandardBg",yt(w.error.light,.9)),ue(w.Alert,"infoStandardBg",yt(w.info.light,.9)),ue(w.Alert,"successStandardBg",yt(w.success.light,.9)),ue(w.Alert,"warningStandardBg",yt(w.warning.light,.9)),ue(w.Alert,"errorIconColor",O("palette-error-main")),ue(w.Alert,"infoIconColor",O("palette-info-main")),ue(w.Alert,"successIconColor",O("palette-success-main")),ue(w.Alert,"warningIconColor",O("palette-warning-main")),ue(w.AppBar,"defaultBg",O("palette-grey-100")),ue(w.Avatar,"defaultBg",O("palette-grey-400")),ue(w.Button,"inheritContainedBg",O("palette-grey-300")),ue(w.Button,"inheritContainedHoverBg",O("palette-grey-A100")),ue(w.Chip,"defaultBorder",O("palette-grey-400")),ue(w.Chip,"defaultAvatarColor",O("palette-grey-700")),ue(w.Chip,"defaultIconColor",O("palette-grey-700")),ue(w.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ue(w.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ue(w.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ue(w.LinearProgress,"primaryBg",yt(w.primary.main,.62)),ue(w.LinearProgress,"secondaryBg",yt(w.secondary.main,.62)),ue(w.LinearProgress,"errorBg",yt(w.error.main,.62)),ue(w.LinearProgress,"infoBg",yt(w.info.main,.62)),ue(w.LinearProgress,"successBg",yt(w.success.main,.62)),ue(w.LinearProgress,"warningBg",yt(w.warning.main,.62)),ue(w.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.11)`),ue(w.Slider,"primaryTrack",yt(w.primary.main,.62)),ue(w.Slider,"secondaryTrack",yt(w.secondary.main,.62)),ue(w.Slider,"errorTrack",yt(w.error.main,.62)),ue(w.Slider,"infoTrack",yt(w.info.main,.62)),ue(w.Slider,"successTrack",yt(w.success.main,.62)),ue(w.Slider,"warningTrack",yt(w.warning.main,.62));const C=Cm(w.background.default,.8);ue(w.SnackbarContent,"bg",C),ue(w.SnackbarContent,"color",xi(()=>w.getContrastText(C))),ue(w.SpeedDialAction,"fabHoverBg",Cm(w.background.paper,.15)),ue(w.StepConnector,"border",O("palette-grey-400")),ue(w.StepContent,"border",O("palette-grey-400")),ue(w.Switch,"defaultColor",O("palette-common-white")),ue(w.Switch,"defaultDisabledColor",O("palette-grey-100")),ue(w.Switch,"primaryDisabledColor",yt(w.primary.main,.62)),ue(w.Switch,"secondaryDisabledColor",yt(w.secondary.main,.62)),ue(w.Switch,"errorDisabledColor",yt(w.error.main,.62)),ue(w.Switch,"infoDisabledColor",yt(w.info.main,.62)),ue(w.Switch,"successDisabledColor",yt(w.success.main,.62)),ue(w.Switch,"warningDisabledColor",yt(w.warning.main,.62)),ue(w.TableCell,"border",yt(Rm(w.divider,1),.88)),ue(w.Tooltip,"bg",Rm(w.grey[700],.92))}if(w.mode==="dark"){ue(w.Alert,"errorColor",yt(w.error.light,.6)),ue(w.Alert,"infoColor",yt(w.info.light,.6)),ue(w.Alert,"successColor",yt(w.success.light,.6)),ue(w.Alert,"warningColor",yt(w.warning.light,.6)),ue(w.Alert,"errorFilledBg",O("palette-error-dark")),ue(w.Alert,"infoFilledBg",O("palette-info-dark")),ue(w.Alert,"successFilledBg",O("palette-success-dark")),ue(w.Alert,"warningFilledBg",O("palette-warning-dark")),ue(w.Alert,"errorFilledColor",xi(()=>w.getContrastText(w.error.dark))),ue(w.Alert,"infoFilledColor",xi(()=>w.getContrastText(w.info.dark))),ue(w.Alert,"successFilledColor",xi(()=>w.getContrastText(w.success.dark))),ue(w.Alert,"warningFilledColor",xi(()=>w.getContrastText(w.warning.dark))),ue(w.Alert,"errorStandardBg",gt(w.error.light,.9)),ue(w.Alert,"infoStandardBg",gt(w.info.light,.9)),ue(w.Alert,"successStandardBg",gt(w.success.light,.9)),ue(w.Alert,"warningStandardBg",gt(w.warning.light,.9)),ue(w.Alert,"errorIconColor",O("palette-error-main")),ue(w.Alert,"infoIconColor",O("palette-info-main")),ue(w.Alert,"successIconColor",O("palette-success-main")),ue(w.Alert,"warningIconColor",O("palette-warning-main")),ue(w.AppBar,"defaultBg",O("palette-grey-900")),ue(w.AppBar,"darkBg",O("palette-background-paper")),ue(w.AppBar,"darkColor",O("palette-text-primary")),ue(w.Avatar,"defaultBg",O("palette-grey-600")),ue(w.Button,"inheritContainedBg",O("palette-grey-800")),ue(w.Button,"inheritContainedHoverBg",O("palette-grey-700")),ue(w.Chip,"defaultBorder",O("palette-grey-700")),ue(w.Chip,"defaultAvatarColor",O("palette-grey-300")),ue(w.Chip,"defaultIconColor",O("palette-grey-300")),ue(w.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ue(w.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ue(w.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ue(w.LinearProgress,"primaryBg",gt(w.primary.main,.5)),ue(w.LinearProgress,"secondaryBg",gt(w.secondary.main,.5)),ue(w.LinearProgress,"errorBg",gt(w.error.main,.5)),ue(w.LinearProgress,"infoBg",gt(w.info.main,.5)),ue(w.LinearProgress,"successBg",gt(w.success.main,.5)),ue(w.LinearProgress,"warningBg",gt(w.warning.main,.5)),ue(w.Skeleton,"bg",`rgba(${O("palette-text-primaryChannel")} / 0.13)`),ue(w.Slider,"primaryTrack",gt(w.primary.main,.5)),ue(w.Slider,"secondaryTrack",gt(w.secondary.main,.5)),ue(w.Slider,"errorTrack",gt(w.error.main,.5)),ue(w.Slider,"infoTrack",gt(w.info.main,.5)),ue(w.Slider,"successTrack",gt(w.success.main,.5)),ue(w.Slider,"warningTrack",gt(w.warning.main,.5));const C=Cm(w.background.default,.98);ue(w.SnackbarContent,"bg",C),ue(w.SnackbarContent,"color",xi(()=>w.getContrastText(C))),ue(w.SpeedDialAction,"fabHoverBg",Cm(w.background.paper,.15)),ue(w.StepConnector,"border",O("palette-grey-600")),ue(w.StepContent,"border",O("palette-grey-600")),ue(w.Switch,"defaultColor",O("palette-grey-300")),ue(w.Switch,"defaultDisabledColor",O("palette-grey-600")),ue(w.Switch,"primaryDisabledColor",gt(w.primary.main,.55)),ue(w.Switch,"secondaryDisabledColor",gt(w.secondary.main,.55)),ue(w.Switch,"errorDisabledColor",gt(w.error.main,.55)),ue(w.Switch,"infoDisabledColor",gt(w.info.main,.55)),ue(w.Switch,"successDisabledColor",gt(w.success.main,.55)),ue(w.Switch,"warningDisabledColor",gt(w.warning.main,.55)),ue(w.TableCell,"border",gt(Rm(w.divider,1),.68)),ue(w.Tooltip,"bg",Rm(w.grey[700],.92))}Ss(w.background,"default"),Ss(w.background,"paper"),Ss(w.common,"background"),Ss(w.common,"onBackground"),Ss(w,"divider"),Object.keys(w).forEach(C=>{const D=w[C];C!=="tonalOffset"&&D&&typeof D=="object"&&(D.main&&ue(w[C],"mainChannel",Id(Rd(D.main))),D.light&&ue(w[C],"lightChannel",Id(Rd(D.light))),D.dark&&ue(w[C],"darkChannel",Id(Rd(D.dark))),D.contrastText&&ue(w[C],"contrastTextChannel",Id(Rd(D.contrastText))),C==="text"&&(Ss(w[C],"primary"),Ss(w[C],"secondary")),C==="action"&&(D.active&&Ss(w[C],"active"),D.selected&&Ss(w[C],"selected")))})}),H=e.reduce((x,w)=>Rr(x,w),H);const F={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:u,getSelector:K$(H)},{vars:K,generateThemeVars:M,generateStyleSheets:R}=v$(H,F);return H.vars=K,Object.entries(H.colorSchemes[H.defaultColorScheme]).forEach(([x,w])=>{H[x]=w}),H.generateThemeVars=M,H.generateStyleSheets=R,H.generateSpacing=function(){return Pk(d.spacing,jw(this))},H.getColorSchemeSelector=E$(h),H.spacing=H.generateSpacing(),H.shouldSkipGeneratingVar=u,H.unstable_sxConfig={...Hy,...d==null?void 0:d.unstable_sxConfig},H.unstable_sx=function(w){return _c({sx:w,theme:this})},H.toRuntimeSource=Uk,H}function FC(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:Yw({...t===!0?{}:t.palette,mode:e})})}function J$(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...u}=n,h=o||"light",f=i==null?void 0:i[h],d={...i,...t?{[h]:{...typeof f!="boolean"&&f,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return FE(n,...e);let g=t;"palette"in n||d[h]&&(d[h]!==!0?g=d[h].palette:h==="dark"&&(g={mode:"dark"}));const _=FE({...n,palette:g},...e);return _.defaultColorScheme=h,_.colorSchemes=d,_.palette.mode==="light"&&(_.colorSchemes.light={...d.light!==!0&&d.light,palette:_.palette},FC(_,"dark",d.dark)),_.palette.mode==="dark"&&(_.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:_.palette},FC(_,"light",d.light)),_}return!t&&!("light"in d)&&h==="light"&&(d.light=!0),X$({...u,colorSchemes:d,defaultColorScheme:h,...typeof r!="boolean"&&r},...e)}const Z$=J$(),eG="$$material";function zk(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const tG=n=>zk(n)&&n!=="classes",Gf=n$({themeId:eG,defaultTheme:Z$,rootShouldForwardProp:tG}),Xw=m$;function jk(n){return p$(n)}function nG(n){return Bw("MuiSvgIcon",n)}gk("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const rG=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${Ya(e)}`,`fontSize${Ya(t)}`]};return hk(i,nG,r)},iG=Gf("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Ya(t.color)}`],e[`fontSize${Ya(t.fontSize)}`]]}})(Xw(({theme:n})=>{var e,t,r,i,o,u,h,f,d,g,_,v,T,b;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:A=>!A.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((u=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:u.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((f=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:f.call(h,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((g=(d=n.typography)==null?void 0:d.pxToRem)==null?void 0:g.call(d,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,A])=>A&&A.main).map(([A])=>{var P,U;return{props:{color:A},style:{color:(U=(P=(n.vars??n).palette)==null?void 0:P[A])==null?void 0:U.main}}}),{props:{color:"action"},style:{color:(v=(_=(n.vars??n).palette)==null?void 0:_.action)==null?void 0:v.active}},{props:{color:"disabled"},style:{color:(b=(T=(n.vars??n).palette)==null?void 0:T.action)==null?void 0:b.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),zE=W.forwardRef(function(e,t){const r=jk({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:u="inherit",component:h="svg",fontSize:f="medium",htmlColor:d,inheritViewBox:g=!1,titleAccess:_,viewBox:v="0 0 24 24",...T}=r,b=W.isValidElement(i)&&i.type==="svg",A={...r,color:u,component:h,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:v,hasSvgAsChild:b},P={};g||(P.viewBox=v);const U=rG(A);return q.jsxs(iG,{as:h,className:ul(U.root,o),focusable:"false",color:d,"aria-hidden":_?void 0:!0,role:_?"img":void 0,ref:t,...P,...T,...b&&i.props,ownerState:A,children:[b?i.props.children:i,_?q.jsx("title",{children:_}):null]})});zE.muiName="SvgIcon";function qk(n,e){function t(r,i){return q.jsx(zE,{"data-testid":void 0,ref:i,...r,children:n})}return t.muiName=zE.muiName,W.memo(W.forwardRef(t))}const sG=qk(q.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),aG=qk(q.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}));function oG(n){return Bw("MuiRating",n)}const yd=gk("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function zd(n,e){const{className:t,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:u,shouldForwardComponentProp:h=!1,...f}=e,{component:d,slots:g={[n]:void 0},slotProps:_={[n]:void 0},...v}=o,T=g[n]||r,b=s7(_[n],i),{props:{component:A,...P},internalRef:U}=i7({className:t,...f,externalForwardedProps:n==="root"?v:void 0,externalSlotProps:b}),V=mk(U,b==null?void 0:b.ref,e.ref),L=n==="root"?A||d:A,H=n7(T,{...n==="root"&&!d&&!g[n]&&u,...n!=="root"&&!g[n]&&u,...P,...L&&!h&&{as:L},...L&&h&&{component:L},ref:V},i);return[T,H]}function lG(n){const e=n.toString().split(".")[1];return e?e.length:0}function M0(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(lG(e)))}const uG=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:o,focusVisible:u}=n,h={root:["root",`size${Ya(t)}`,i&&"disabled",u&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return hk(h,oG,e)},cG=Gf("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${yd.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${Ya(t.size)}`],t.readOnly&&e.readOnly]}})(Xw(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${yd.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${yd.focusVisible} .${yd.iconActive}`]:{outline:"1px solid #999"},[`& .${yd.visuallyHidden}`]:q8,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),Hk=Gf("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),hG=Gf("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(Xw(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),dG=Gf("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>zk(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function fG(n){const{value:e,...t}=n;return q.jsx("span",{...t})}function zC(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:o,highlightSelectedOnly:u,hover:h,icon:f,IconContainerComponent:d,isActive:g,itemValue:_,labelProps:v,name:T,onBlur:b,onChange:A,onClick:P,onFocus:U,readOnly:V,ownerState:L,ratingValue:H,ratingValueRounded:F,slots:K={},slotProps:M={}}=n,R=u?_===H:_<=H,x=_<=h,w=_<=i,O=_===F,C=`${T}-${pk()}`,D={slots:K,slotProps:M},[se,B]=zd("icon",{elementType:hG,className:ul(e.icon,R?e.iconFilled:e.iconEmpty,x&&e.iconHover,w&&e.iconFocus,g&&e.iconActive),externalForwardedProps:D,ownerState:{...L,iconEmpty:!R,iconFilled:R,iconHover:x,iconFocus:w,iconActive:g},additionalProps:{value:_},internalForwardedProps:{as:d}}),[$,J]=zd("label",{elementType:Hk,externalForwardedProps:D,ownerState:{...L,emptyValueFocused:void 0},additionalProps:{style:v==null?void 0:v.style,htmlFor:C}}),le=q.jsx(se,{...B,children:r&&!R?r:f});return V?q.jsx("span",{...v,children:le}):q.jsxs(W.Fragment,{children:[q.jsxs($,{...J,children:[le,q.jsx("span",{className:e.visuallyHidden,children:o(_)})]}),q.jsx("input",{className:e.visuallyHidden,onFocus:U,onBlur:b,onChange:A,onClick:P,disabled:t,value:_,id:C,type:"radio",name:T,checked:O})]})}const pG=q.jsx(sG,{fontSize:"inherit"}),mG=q.jsx(aG,{fontSize:"inherit"});function gG(n){return`${n||"0"} Star${n!==1?"s":""}`}const yG=W.forwardRef(function(e,t){const r=jk({name:"MuiRating",props:e}),{component:i="span",className:o,defaultValue:u=null,disabled:h=!1,emptyIcon:f=mG,emptyLabelText:d="Empty",getLabelText:g=gG,highlightSelectedOnly:_=!1,icon:v=pG,IconContainerComponent:T=fG,max:b=5,name:A,onChange:P,onChangeActive:U,onMouseLeave:V,onMouseMove:L,precision:H=1,readOnly:F=!1,size:K="medium",value:M,slots:R={},slotProps:x={},...w}=r,O=pk(A),[C,D]=X8({controlled:M,default:u,name:"Rating"}),se=M0(C,H),B=$8(),[{hover:$,focus:J},le]=W.useState({hover:-1,focus:-1});let be=se;$!==-1&&(be=$),J!==-1&&(be=J);const[j,re]=W.useState(!1),ge=W.useRef(),me=mk(ge,t),Te=Fe=>{L&&L(Fe);const _t=ge.current,{right:wt,left:hi,width:Yr}=_t.getBoundingClientRect();let st;B?st=(wt-Fe.clientX)/Yr:st=(Fe.clientX-hi)/Yr;let Ue=M0(b*st+H/2,H);Ue=ck(Ue,H,b),le(Gt=>Gt.hover===Ue&&Gt.focus===Ue?Gt:{hover:Ue,focus:Ue}),re(!1),U&&$!==Ue&&U(Fe,Ue)},ke=Fe=>{V&&V(Fe);const _t=-1;le({hover:_t,focus:_t}),U&&$!==_t&&U(Fe,_t)},xe=Fe=>{let _t=Fe.target.value===""?null:parseFloat(Fe.target.value);$!==-1&&(_t=$),D(_t),P&&P(Fe,_t)},$t=Fe=>{Fe.clientX===0&&Fe.clientY===0||(le({hover:-1,focus:-1}),D(null),P&&parseFloat(Fe.target.value)===se&&P(Fe,null))},rt=Fe=>{pC(Fe.target)&&re(!0);const _t=parseFloat(Fe.target.value);le(wt=>({hover:wt.hover,focus:_t}))},Pr=Fe=>{if($!==-1)return;pC(Fe.target)||re(!1);const _t=-1;le(wt=>({hover:wt.hover,focus:_t}))},[ci,Or]=W.useState(!1),dr={...r,component:i,defaultValue:u,disabled:h,emptyIcon:f,emptyLabelText:d,emptyValueFocused:ci,focusVisible:j,getLabelText:g,icon:v,IconContainerComponent:T,max:b,precision:H,readOnly:F,size:K},Ln=uG(dr),Qr={slots:R,slotProps:x},[lo,xl]=zd("root",{ref:me,className:ul(Ln.root,o),elementType:cG,externalForwardedProps:{...Qr,...w,component:i},getSlotProps:Fe=>({...Fe,onMouseMove:_t=>{var wt;Te(_t),(wt=Fe.onMouseMove)==null||wt.call(Fe,_t)},onMouseLeave:_t=>{var wt;ke(_t),(wt=Fe.onMouseLeave)==null||wt.call(Fe,_t)}}),ownerState:dr,additionalProps:{role:F?"img":null,"aria-label":F?g(be):null}}),[tr,jc]=zd("label",{className:ul(Ln.label,Ln.labelEmptyValue),elementType:Hk,externalForwardedProps:Qr,ownerState:dr}),[uo,Ji]=zd("decimal",{className:Ln.decimal,elementType:dG,externalForwardedProps:Qr,ownerState:dr});return q.jsxs(lo,{...xl,children:[Array.from(new Array(b)).map((Fe,_t)=>{const wt=_t+1,hi={classes:Ln,disabled:h,emptyIcon:f,focus:J,getLabelText:g,highlightSelectedOnly:_,hover:$,icon:v,IconContainerComponent:T,name:O,onBlur:Pr,onChange:xe,onClick:$t,onFocus:rt,ratingValue:be,ratingValueRounded:se,readOnly:F,ownerState:dr,slots:R,slotProps:x},Yr=wt===Math.ceil(be)&&($!==-1||J!==-1);if(H<1){const st=Array.from(new Array(1/H));return W.createElement(uo,{...Ji,key:wt,className:ul(Ji.className,Yr&&Ln.iconActive),iconActive:Yr},st.map((Ue,Gt)=>{const en=M0(wt-1+(Gt+1)*H,H);return q.jsx(zC,{...hi,isActive:!1,itemValue:en,labelProps:{style:st.length-1===Gt?{}:{width:en===be?`${(Gt+1)*H*100}%`:"0%",overflow:"hidden",position:"absolute"}}},en)}))}return q.jsx(zC,{...hi,isActive:Yr,itemValue:wt},wt)}),!F&&!h&&q.jsxs(tr,{...jc,children:[q.jsx("input",{className:Ln.visuallyHidden,value:"",id:`${O}-empty`,type:"radio",name:O,checked:se==null,onFocus:()=>Or(!0),onBlur:()=>Or(!1),onChange:xe}),q.jsx("span",{className:Ln.visuallyHidden,children:d})]})]})});var tg={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var _G=tg.exports,jC;function vG(){return jC||(jC=1,function(n){(function(e,t){n.exports?n.exports=t():e.numeral=t()})(_G,function(){var e,t,r="2.0.6",i={},o={},u={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},h={currentLocale:u.currentLocale,zeroFormat:u.zeroFormat,nullFormat:u.nullFormat,defaultFormat:u.defaultFormat,scalePercentBy100:u.scalePercentBy100};function f(d,g){this._input=d,this._value=g}return e=function(d){var g,_,v,T;if(e.isNumeral(d))g=d.value();else if(d===0||typeof d>"u")g=0;else if(d===null||t.isNaN(d))g=null;else if(typeof d=="string")if(h.zeroFormat&&d===h.zeroFormat)g=0;else if(h.nullFormat&&d===h.nullFormat||!d.replace(/[^0-9]+/g,"").length)g=null;else{for(_ in i)if(T=typeof i[_].regexps.unformat=="function"?i[_].regexps.unformat():i[_].regexps.unformat,T&&d.match(T)){v=i[_].unformat;break}v=v||e._.stringToNumber,g=v(d)}else g=Number(d)||null;return new f(d,g)},e.version=r,e.isNumeral=function(d){return d instanceof f},e._=t={numberToFormat:function(d,g,_){var v=o[e.options.currentLocale],T=!1,b=!1,A=0,P="",U=1e12,V=1e9,L=1e6,H=1e3,F="",K=!1,M,R,x,w,O,C,D;if(d=d||0,R=Math.abs(d),e._.includes(g,"(")?(T=!0,g=g.replace(/[\(|\)]/g,"")):(e._.includes(g,"+")||e._.includes(g,"-"))&&(O=e._.includes(g,"+")?g.indexOf("+"):d<0?g.indexOf("-"):-1,g=g.replace(/[\+|\-]/g,"")),e._.includes(g,"a")&&(M=g.match(/a(k|m|b|t)?/),M=M?M[1]:!1,e._.includes(g," a")&&(P=" "),g=g.replace(new RegExp(P+"a[kmbt]?"),""),R>=U&&!M||M==="t"?(P+=v.abbreviations.trillion,d=d/U):R<U&&R>=V&&!M||M==="b"?(P+=v.abbreviations.billion,d=d/V):R<V&&R>=L&&!M||M==="m"?(P+=v.abbreviations.million,d=d/L):(R<L&&R>=H&&!M||M==="k")&&(P+=v.abbreviations.thousand,d=d/H)),e._.includes(g,"[.]")&&(b=!0,g=g.replace("[.]",".")),x=d.toString().split(".")[0],w=g.split(".")[1],C=g.indexOf(","),A=(g.split(".")[0].split(",")[0].match(/0/g)||[]).length,w?(e._.includes(w,"[")?(w=w.replace("]",""),w=w.split("["),F=e._.toFixed(d,w[0].length+w[1].length,_,w[1].length)):F=e._.toFixed(d,w.length,_),x=F.split(".")[0],e._.includes(F,".")?F=v.delimiters.decimal+F.split(".")[1]:F="",b&&Number(F.slice(1))===0&&(F="")):x=e._.toFixed(d,0,_),P&&!M&&Number(x)>=1e3&&P!==v.abbreviations.trillion)switch(x=String(Number(x)/1e3),P){case v.abbreviations.thousand:P=v.abbreviations.million;break;case v.abbreviations.million:P=v.abbreviations.billion;break;case v.abbreviations.billion:P=v.abbreviations.trillion;break}if(e._.includes(x,"-")&&(x=x.slice(1),K=!0),x.length<A)for(var se=A-x.length;se>0;se--)x="0"+x;return C>-1&&(x=x.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+v.delimiters.thousands)),g.indexOf(".")===0&&(x=""),D=x+F+(P||""),T?D=(T&&K?"(":"")+D+(T&&K?")":""):O>=0?D=O===0?(K?"-":"+")+D:D+(K?"-":"+"):K&&(D="-"+D),D},stringToNumber:function(d){var g=o[h.currentLocale],_=d,v={thousand:3,million:6,billion:9,trillion:12},T,b,A;if(h.zeroFormat&&d===h.zeroFormat)b=0;else if(h.nullFormat&&d===h.nullFormat||!d.replace(/[^0-9]+/g,"").length)b=null;else{b=1,g.delimiters.decimal!=="."&&(d=d.replace(/\./g,"").replace(g.delimiters.decimal,"."));for(T in v)if(A=new RegExp("[^a-zA-Z]"+g.abbreviations[T]+"(?:\\)|(\\"+g.currency.symbol+")?(?:\\))?)?$"),_.match(A)){b*=Math.pow(10,v[T]);break}b*=(d.split("-").length+Math.min(d.split("(").length-1,d.split(")").length-1))%2?1:-1,d=d.replace(/[^0-9\.]+/g,""),b*=Number(d)}return b},isNaN:function(d){return typeof d=="number"&&isNaN(d)},includes:function(d,g){return d.indexOf(g)!==-1},insert:function(d,g,_){return d.slice(0,_)+g+d.slice(_)},reduce:function(d,g){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof g!="function")throw new TypeError(g+" is not a function");var _=Object(d),v=_.length>>>0,T=0,b;if(arguments.length===3)b=arguments[2];else{for(;T<v&&!(T in _);)T++;if(T>=v)throw new TypeError("Reduce of empty array with no initial value");b=_[T++]}for(;T<v;T++)T in _&&(b=g(b,_[T],T,_));return b},multiplier:function(d){var g=d.toString().split(".");return g.length<2?1:Math.pow(10,g[1].length)},correctionFactor:function(){var d=Array.prototype.slice.call(arguments);return d.reduce(function(g,_){var v=t.multiplier(_);return g>v?g:v},1)},toFixed:function(d,g,_,v){var T=d.toString().split("."),b=g-(v||0),A,P,U,V;return T.length===2?A=Math.min(Math.max(T[1].length,b),g):A=b,U=Math.pow(10,A),V=(_(d+"e+"+A)/U).toFixed(A),v>g-A&&(P=new RegExp("\\.?0{1,"+(v-(g-A))+"}$"),V=V.replace(P,"")),V}},e.options=h,e.formats=i,e.locales=o,e.locale=function(d){return d&&(h.currentLocale=d.toLowerCase()),h.currentLocale},e.localeData=function(d){if(!d)return o[h.currentLocale];if(d=d.toLowerCase(),!o[d])throw new Error("Unknown locale : "+d);return o[d]},e.reset=function(){for(var d in u)h[d]=u[d]},e.zeroFormat=function(d){h.zeroFormat=typeof d=="string"?d:null},e.nullFormat=function(d){h.nullFormat=typeof d=="string"?d:null},e.defaultFormat=function(d){h.defaultFormat=typeof d=="string"?d:"0.0"},e.register=function(d,g,_){if(g=g.toLowerCase(),this[d+"s"][g])throw new TypeError(g+" "+d+" already registered.");return this[d+"s"][g]=_,_},e.validate=function(d,g){var _,v,T,b,A,P,U,V;if(typeof d!="string"&&(d+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",d)),d=d.trim(),d.match(/^\d+$/))return!0;if(d==="")return!1;try{U=e.localeData(g)}catch{U=e.localeData(e.locale())}return T=U.currency.symbol,A=U.abbreviations,_=U.delimiters.decimal,U.delimiters.thousands==="."?v="\\.":v=U.delimiters.thousands,V=d.match(/^[^\d]+/),V!==null&&(d=d.substr(1),V[0]!==T)||(V=d.match(/[^\d]+$/),V!==null&&(d=d.slice(0,-1),V[0]!==A.thousand&&V[0]!==A.million&&V[0]!==A.billion&&V[0]!==A.trillion))?!1:(P=new RegExp(v+"{2}"),d.match(/[^\d.,]/g)?!1:(b=d.split(_),b.length>2?!1:b.length<2?!!b[0].match(/^\d+.*\d$/)&&!b[0].match(P):b[0].length===1?!!b[0].match(/^\d+$/)&&!b[0].match(P)&&!!b[1].match(/^\d+$/):!!b[0].match(/^\d+.*\d$/)&&!b[0].match(P)&&!!b[1].match(/^\d+$/)))},e.fn=f.prototype={clone:function(){return e(this)},format:function(d,g){var _=this._value,v=d||h.defaultFormat,T,b,A;if(g=g||Math.round,_===0&&h.zeroFormat!==null)b=h.zeroFormat;else if(_===null&&h.nullFormat!==null)b=h.nullFormat;else{for(T in i)if(v.match(i[T].regexps.format)){A=i[T].format;break}A=A||e._.numberToFormat,b=A(_,v,g)}return b},value:function(){return this._value},input:function(){return this._input},set:function(d){return this._value=Number(d),this},add:function(d){var g=t.correctionFactor.call(null,this._value,d);function _(v,T,b,A){return v+Math.round(g*T)}return this._value=t.reduce([this._value,d],_,0)/g,this},subtract:function(d){var g=t.correctionFactor.call(null,this._value,d);function _(v,T,b,A){return v-Math.round(g*T)}return this._value=t.reduce([d],_,Math.round(this._value*g))/g,this},multiply:function(d){function g(_,v,T,b){var A=t.correctionFactor(_,v);return Math.round(_*A)*Math.round(v*A)/Math.round(A*A)}return this._value=t.reduce([this._value,d],g,1),this},divide:function(d){function g(_,v,T,b){var A=t.correctionFactor(_,v);return Math.round(_*A)/Math.round(v*A)}return this._value=t.reduce([this._value,d],g),this},difference:function(d){return Math.abs(e(this._value).subtract(d).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(d){var g=d%10;return~~(d%100/10)===1?"th":g===1?"st":g===2?"nd":g===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(d,g,_){var v=e._.includes(g," BPS")?" ":"",T;return d=d*1e4,g=g.replace(/\s?BPS/,""),T=e._.numberToFormat(d,g,_),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,v+"BPS"),T=T.join("")):T=T+v+"BPS",T},unformat:function(d){return+(e._.stringToNumber(d)*1e-4).toFixed(15)}})}(),function(){var d={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},g={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},_=d.suffixes.concat(g.suffixes.filter(function(T){return d.suffixes.indexOf(T)<0})),v=_.join("|");v="("+v.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(v)},format:function(T,b,A){var P,U=e._.includes(b,"ib")?g:d,V=e._.includes(b," b")||e._.includes(b," ib")?" ":"",L,H,F;for(b=b.replace(/\s?i?b/,""),L=0;L<=U.suffixes.length;L++)if(H=Math.pow(U.base,L),F=Math.pow(U.base,L+1),T===null||T===0||T>=H&&T<F){V+=U.suffixes[L],H>0&&(T=T/H);break}return P=e._.numberToFormat(T,b,A),P+V},unformat:function(T){var b=e._.stringToNumber(T),A,P;if(b){for(A=d.suffixes.length-1;A>=0;A--){if(e._.includes(T,d.suffixes[A])){P=Math.pow(d.base,A);break}if(e._.includes(T,g.suffixes[A])){P=Math.pow(g.base,A);break}}b*=P||1}return b}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(d,g,_){var v=e.locales[e.options.currentLocale],T={before:g.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:g.match(/([\+|\-|\)|\s|\$]*)$/)[0]},b,A,P;for(g=g.replace(/\s?\$\s?/,""),b=e._.numberToFormat(d,g,_),d>=0?(T.before=T.before.replace(/[\-\(]/,""),T.after=T.after.replace(/[\-\)]/,"")):d<0&&!e._.includes(T.before,"-")&&!e._.includes(T.before,"(")&&(T.before="-"+T.before),P=0;P<T.before.length;P++)switch(A=T.before[P],A){case"$":b=e._.insert(b,v.currency.symbol,P);break;case" ":b=e._.insert(b," ",P+v.currency.symbol.length-1);break}for(P=T.after.length-1;P>=0;P--)switch(A=T.after[P],A){case"$":b=P===T.after.length-1?b+v.currency.symbol:e._.insert(b,v.currency.symbol,-(T.after.length-(1+P)));break;case" ":b=P===T.after.length-1?b+" ":e._.insert(b," ",-(T.after.length-(1+P)+v.currency.symbol.length-1));break}return b}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(d,g,_){var v,T=typeof d=="number"&&!e._.isNaN(d)?d.toExponential():"0e+0",b=T.split("e");return g=g.replace(/e[\+|\-]{1}0/,""),v=e._.numberToFormat(Number(b[0]),g,_),v+"e"+b[1]},unformat:function(d){var g=e._.includes(d,"e+")?d.split("e+"):d.split("e-"),_=Number(g[0]),v=Number(g[1]);v=e._.includes(d,"e-")?v*=-1:v;function T(b,A,P,U){var V=e._.correctionFactor(b,A),L=b*V*(A*V)/(V*V);return L}return e._.reduce([_,Math.pow(10,v)],T,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(d,g,_){var v=e.locales[e.options.currentLocale],T,b=e._.includes(g," o")?" ":"";return g=g.replace(/\s?o/,""),b+=v.ordinal(d),T=e._.numberToFormat(d,g,_),T+b}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(d,g,_){var v=e._.includes(g," %")?" ":"",T;return e.options.scalePercentBy100&&(d=d*100),g=g.replace(/\s?\%/,""),T=e._.numberToFormat(d,g,_),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,v+"%"),T=T.join("")):T=T+v+"%",T},unformat:function(d){var g=e._.stringToNumber(d);return e.options.scalePercentBy100?g*.01:g}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(d,g,_){var v=Math.floor(d/60/60),T=Math.floor((d-v*60*60)/60),b=Math.round(d-v*60*60-T*60);return v+":"+(T<10?"0"+T:T)+":"+(b<10?"0"+b:b)},unformat:function(d){var g=d.split(":"),_=0;return g.length===3?(_=_+Number(g[0])*60*60,_=_+Number(g[1])*60,_=_+Number(g[2])):g.length===2&&(_=_+Number(g[0])*60,_=_+Number(g[1])),Number(_)}})}(),e})}(tg)),tg.exports}var EG=vG();const bG=$E(EG),Jw=({amount:n})=>{const e=bG(n).format("$0,0.00");return q.jsx("div",{children:e})},wG="_card_container_16749_3",TG="_button_16749_19",SG="_rating_16749_73",AG="_product_container_16749_83",IG="_product_flexed_16749_101",Lu={card_container:wG,button:TG,rating:SG,product_container:AG,product_flexed:IG},Oa={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPITY_BASKET:"EMPITY_BASKET"};function zc({product:n,flex:e,renderDesc:t,renderadd:r}){const{image:i,id:o,title:u,price:h,rating:f,description:d}=n,g=W.useContext(eo),_=()=>{g({type:Oa.ADD_TO_BASKET,item:{image:i,id:o,title:u,price:h,rating:f,description:d}})};return q.jsxs("div",{className:`${Lu.card_container} ${e?Lu.product_flexed:""}`,children:[q.jsx("div",{children:q.jsx(si,{to:`/products/${o}`,children:q.jsx("img",{src:i,alt:"",className:Lu.img_container})})}),q.jsxs("div",{children:[q.jsx("h3",{children:u}),t&&q.jsxs("div",{style:{maxWidth:"600px"},children:[" ",d]}),q.jsxs("div",{className:Lu.rating,children:[q.jsx(yG,{value:f==null?void 0:f.rate,precision:.1}),q.jsx("small",{children:f==null?void 0:f.count})]}),q.jsx("div",{children:q.jsx(Jw,{amount:h})}),r&&q.jsx("button",{className:Lu.button,onClick:_,children:"add to cart"})]})]})}var RG={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function $k(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return RG[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Bu(n){var e=$k(n);return"".concat(e.value).concat(e.unit)}var Gk=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,u=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return o&&o.insertRule(u,0),r},Ug=function(){return Ug=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ug.apply(this,arguments)},CG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},xG=Gk("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function jE(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,f=h===void 0?{}:h,d=n.size,g=d===void 0?35:d,_=CG(n,["loading","color","speedMultiplier","cssOverride","size"]),v=Ug({background:"transparent !important",width:Bu(g),height:Bu(g),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(xG," ").concat(.75/u,"s 0s infinite linear"),animationFillMode:"both"},f);return t?W.createElement("span",Ug({style:v},_)):null}var an=function(){return an=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},an.apply(this,arguments)},PG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},OG=Gk("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");function DG(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,f=h===void 0?{}:h,d=n.height,g=d===void 0?15:d,_=n.width,v=_===void 0?5:_,T=n.radius,b=T===void 0?2:T,A=n.margin,P=A===void 0?2:A,U=PG(n,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),V=$k(P).value,L=V+18,H=L/2+L/5.5,F=an({display:"inherit",position:"relative",fontSize:"0",top:L,left:L,width:"".concat(L*3,"px"),height:"".concat(L*3,"px")},f),K=function(B){return{position:"absolute",width:Bu(v),height:Bu(g),margin:Bu(P),backgroundColor:i,borderRadius:Bu(b),transition:"2s",animationFillMode:"both",animation:"".concat(OG," ").concat(1.2/u,"s ").concat(B*.12,"s infinite ease-in-out")}},M=an(an({},K(1)),{top:"".concat(L,"px"),left:"0"}),R=an(an({},K(2)),{top:"".concat(H,"px"),left:"".concat(H,"px"),transform:"rotate(-45deg)"}),x=an(an({},K(3)),{top:"0",left:"".concat(L,"px"),transform:"rotate(90deg)"}),w=an(an({},K(4)),{top:"".concat(-1*H,"px"),left:"".concat(H,"px"),transform:"rotate(45deg)"}),O=an(an({},K(5)),{top:"".concat(-1*L,"px"),left:"0"}),C=an(an({},K(6)),{top:"".concat(-1*H,"px"),left:"".concat(-1*H,"px"),transform:"rotate(-45deg)"}),D=an(an({},K(7)),{top:"0",left:"".concat(-1*L,"px"),transform:"rotate(90deg)"}),se=an(an({},K(8)),{top:"".concat(H,"px"),left:"".concat(-1*H,"px"),transform:"rotate(45deg)"});return t?W.createElement("span",an({style:F},U),W.createElement("span",{style:M}),W.createElement("span",{style:R}),W.createElement("span",{style:x}),W.createElement("span",{style:w}),W.createElement("span",{style:O}),W.createElement("span",{style:C}),W.createElement("span",{style:D}),W.createElement("span",{style:se})):null}function Zw(){return q.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:q.jsx(DG,{color:"#36d7b7"})})}function NG(){const[n,e]=W.useState(),[t,r]=W.useState(!1);return W.useEffect(()=>{Ot.get("https://fakestoreapi.com/products").then(i=>{e(i.data),r(!1)}).catch(i=>{console.log(i),r(!1)})},[]),q.jsx(q.Fragment,{children:t?q.jsx(Zw,{}):q.jsx("div",{className:Lu.product_container,children:n==null?void 0:n.map(i=>q.jsx(zc,{product:i,renderadd:!0},i.id))})})}function kG(){return q.jsxs(Lc,{children:[q.jsx(oq,{}),q.jsx(hq,{}),q.jsx(NG,{})]})}const MG="_payment_header_1jobs_1",VG="_payment_1jobs_1",LG="_flex_1jobs_19",UG="_payment_card_container_1jobs_47",BG="_payment_price_1jobs_61",FG="_payment_details_1jobs_55",zG="_loading_1jobs_101",As={payment_header:MG,payment:VG,flex:LG,payment_card_container:UG,payment_price:BG,payment_details:FG,loading:zG};function qC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function HC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(t),!0).forEach(function(r){Kk(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ng(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ng=function(e){return typeof e}:ng=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(n)}function Kk(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function jG(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function qG(n,e){if(n==null)return{};var t=jG(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Wk(n,e){return HG(n)||$G(n,e)||GG(n,e)||KG()}function HG(n){if(Array.isArray(n))return n}function $G(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,o=!1,u,h;try{for(t=t.call(n);!(i=(u=t.next()).done)&&(r.push(u.value),!(e&&r.length===e));i=!0);}catch(f){o=!0,h=f}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw h}}return r}}function GG(n,e){if(n){if(typeof n=="string")return $C(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $C(n,e)}}function $C(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function KG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var wr=function(e,t,r){var i=!!r,o=$e.useRef(r);$e.useEffect(function(){o.current=r},[r]),$e.useEffect(function(){if(!i||!e)return function(){};var u=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,u),function(){e.off(t,u)}},[i,t,e,o])},qE=function(e){var t=$e.useRef(e);return $e.useEffect(function(){t.current=e},[e]),t.current},Ec=function(e){return e!==null&&ng(e)==="object"},WG=function(e){return Ec(e)&&typeof e.then=="function"},QG=function(e){return Ec(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},GC="[object Object]",YG=function n(e,t){if(!Ec(e)||!Ec(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var o=Object.prototype.toString.call(e)===GC,u=Object.prototype.toString.call(t)===GC;if(o!==u)return!1;if(!o&&!r)return e===t;var h=Object.keys(e),f=Object.keys(t);if(h.length!==f.length)return!1;for(var d={},g=0;g<h.length;g+=1)d[h[g]]=!0;for(var _=0;_<f.length;_+=1)d[f[_]]=!0;var v=Object.keys(d);if(v.length!==h.length)return!1;var T=e,b=t,A=function(U){return n(T[U],b[U])};return v.every(A)},Qk=function(e,t,r){return Ec(e)?Object.keys(e).reduce(function(i,o){var u=!Ec(t)||!YG(e[o],t[o]);return r.includes(o)?(u&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):u?HC(HC({},i||{}),{},Kk({},o,e[o])):i},null):null},Yk="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",KC=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yk;if(e===null||QG(e))return e;throw new Error(t)},XG=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yk;if(WG(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return KC(i,t)})};var r=KC(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},JG=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},Qy=$e.createContext(null);Qy.displayName="ElementsContext";var Xk=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},Jk=function(e){var t=e.stripe,r=e.options,i=e.children,o=$e.useMemo(function(){return XG(t)},[t]),u=$e.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(r):null}}),h=Wk(u,2),f=h[0],d=h[1];$e.useEffect(function(){var v=!0,T=function(A){d(function(P){return P.stripe?P:{stripe:A,elements:A.elements(r)}})};return o.tag==="async"&&!f.stripe?o.stripePromise.then(function(b){b&&v&&T(b)}):o.tag==="sync"&&!f.stripe&&T(o.stripe),function(){v=!1}},[o,f,r]);var g=qE(t);$e.useEffect(function(){g!==null&&g!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,t]);var _=qE(r);return $e.useEffect(function(){if(f.elements){var v=Qk(r,_,["clientSecret","fonts"]);v&&f.elements.update(v)}},[r,_,f.elements]),$e.useEffect(function(){JG(f.stripe)},[f.stripe]),$e.createElement(Qy.Provider,{value:f},i)};Jk.propTypes={stripe:Nt.any,options:Nt.object};var ZG=function(e){var t=$e.useContext(Qy);return Xk(t,e)},eK=function(){var e=ZG("calls useElements()"),t=e.elements;return t};Nt.func.isRequired;var Zk=$e.createContext(null);Zk.displayName="CheckoutSdkContext";var tK=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},nK=$e.createContext(null);nK.displayName="CheckoutContext";Nt.any,Nt.shape({fetchClientSecret:Nt.func.isRequired,elementsOptions:Nt.object}).isRequired;var HE=function(e){var t=$e.useContext(Zk),r=$e.useContext(Qy);if(t&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?tK(t,e):Xk(r,e)},rK=["mode"],iK=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},cn=function(e,t){var r="".concat(iK(e),"Element"),i=function(f){var d=f.id,g=f.className,_=f.options,v=_===void 0?{}:_,T=f.onBlur,b=f.onFocus,A=f.onReady,P=f.onChange,U=f.onEscape,V=f.onClick,L=f.onLoadError,H=f.onLoaderStart,F=f.onNetworksChange,K=f.onConfirm,M=f.onCancel,R=f.onShippingAddressChange,x=f.onShippingRateChange,w=HE("mounts <".concat(r,">")),O="elements"in w?w.elements:null,C="checkoutSdk"in w?w.checkoutSdk:null,D=$e.useState(null),se=Wk(D,2),B=se[0],$=se[1],J=$e.useRef(null),le=$e.useRef(null);wr(B,"blur",T),wr(B,"focus",b),wr(B,"escape",U),wr(B,"click",V),wr(B,"loaderror",L),wr(B,"loaderstart",H),wr(B,"networkschange",F),wr(B,"confirm",K),wr(B,"cancel",M),wr(B,"shippingaddresschange",R),wr(B,"shippingratechange",x),wr(B,"change",P);var be;A&&(e==="expressCheckout"?be=A:be=function(){A(B)}),wr(B,"ready",be),$e.useLayoutEffect(function(){if(J.current===null&&le.current!==null&&(O||C)){var re=null;if(C)switch(e){case"payment":re=C.createPaymentElement(v);break;case"address":if("mode"in v){var ge=v.mode,me=qG(v,rK);if(ge==="shipping")re=C.createShippingAddressElement(me);else if(ge==="billing")re=C.createBillingAddressElement(me);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":re=C.createExpressCheckoutElement(v);break;case"currencySelector":re=C.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else O&&(re=O.create(e,v));J.current=re,$(re),re&&re.mount(le.current)}},[O,C,v]);var j=qE(v);return $e.useEffect(function(){if(J.current){var re=Qk(v,j,["paymentRequest"]);re&&"update"in J.current&&J.current.update(re)}},[v,j]),$e.useLayoutEffect(function(){return function(){if(J.current&&typeof J.current.destroy=="function")try{J.current.destroy(),J.current=null}catch{}}},[]),$e.createElement("div",{id:d,className:g,ref:le})},o=function(f){HE("mounts <".concat(r,">"));var d=f.id,g=f.className;return $e.createElement("div",{id:d,className:g})},u=t?o:i;return u.propTypes={id:Nt.string,className:Nt.string,onChange:Nt.func,onBlur:Nt.func,onFocus:Nt.func,onReady:Nt.func,onEscape:Nt.func,onClick:Nt.func,onLoadError:Nt.func,onLoaderStart:Nt.func,onNetworksChange:Nt.func,onConfirm:Nt.func,onCancel:Nt.func,onShippingAddressChange:Nt.func,onShippingRateChange:Nt.func,options:Nt.object},u.displayName=r,u.__elementType=e,u},hn=typeof window>"u",sK=$e.createContext(null);sK.displayName="EmbeddedCheckoutProviderContext";var aK=function(){var e=HE("calls useStripe()"),t=e.stripe;return t};cn("auBankAccount",hn);var WC=cn("card",hn);cn("cardNumber",hn);cn("cardExpiry",hn);cn("cardCvc",hn);cn("fpxBank",hn);cn("iban",hn);cn("idealBank",hn);cn("p24Bank",hn);cn("epsBank",hn);cn("payment",hn);cn("expressCheckout",hn);cn("currencySelector",hn);cn("paymentRequestButton",hn);cn("linkAuthentication",hn);cn("address",hn);cn("shippingAddress",hn);cn("paymentMethodMessaging",hn);cn("affirmMessage",hn);cn("afterpayClearpayMessage",hn);const oK=Ot.create({baseURL:"https://amazon-backend-api-deploy-ur8b.onrender.com"});function lK(){const[{user:n,basket:e},t]=W.useContext(eo),r=e==null?void 0:e.reduce((b,A)=>A.amount+b,0),i=e.reduce((b,A)=>A.price*A.amount+b,0),[o,u]=W.useState(null),[h,f]=W.useState(!1),d=aK(),g=eK(),_=Fg(),v=b=>{var A,P;(A=b==null?void 0:b.error)!=null&&A.message?u((P=b==null?void 0:b.error)==null?void 0:P.message):u("")},T=async b=>{var A;b.preventDefault();try{f(!0);const U=(A=(await oK({method:"post",url:`/payments/create?total=${i*100}`})).data)==null?void 0:A.clientSecret,{paymentIntent:V}=await d.confirmCardPayment(U,{payment_method:{card:g.getElement(WC)}});console.log(V),await PN.collection("users").doc(n.uid).collection("orders").doc(V==null?void 0:V.id).set({basket:e,amount:V==null?void 0:V.amount,created:V==null?void 0:V.created}),t({type:Oa.EMPITY_BASKET}),f(!1),_("/orders",{state:{msg:"you have successfully placed your order"}})}catch(P){console.log(P),f(!1)}};return q.jsxs(Lc,{children:[q.jsxs("div",{className:As.payment_header,children:["Checkout (",r,") items"]}),q.jsxs("section",{className:As.payment,children:[q.jsxs("div",{className:As.flex,children:[q.jsx("h3",{children:"Delivery Address"}),q.jsxs("div",{children:[q.jsx("div",{children:n==null?void 0:n.email}),q.jsx("div",{children:"123 React lane"}),q.jsx("div",{children:"Los Angeles, CA"})]})]}),q.jsx("hr",{}),q.jsxs("div",{className:As.flex,children:[q.jsx("h3",{children:"Review items and delivery"}),q.jsx("div",{children:e==null?void 0:e.map(b=>q.jsx(zc,{product:b,flex:!0}))})]}),q.jsx("hr",{}),q.jsxs("div",{className:As.flex,children:[q.jsx("h3",{children:"Payment methods"}),q.jsx("div",{className:As.payment_card_container,children:q.jsx("div",{className:As.payment_details,children:q.jsxs("form",{onSubmit:T,children:[o&&q.jsx("small",{style:{color:"red"},children:o}),q.jsx(WC,{onChange:v}),q.jsxs("div",{className:As.payment_price,children:[q.jsx("div",{children:q.jsxs("span",{style:{display:"flex",gap:"10px"},children:[q.jsx("p",{children:"Total Order | "})," ",q.jsx(Jw,{amount:i})]})}),q.jsx("button",{type:"submit",children:h?q.jsxs("div",{className:As.loading,children:[q.jsx(jE,{color:Mk,size:12})," ",q.jsx("p",{children:"Please Wait..."})]}):"Pay Now"})]})]})})})]})]})]})}const uK="_container_1nffn_1",cK="_orders_container_1nffn_9",QC={container:uK,orders_container:cK};function hK(){const[{user:n},e]=W.useContext(eo),[t,r]=W.useState([]);return W.useEffect(()=>{n?PN.collection("users").doc(n==null?void 0:n.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{console.log(i),r(i.docs.map(o=>({id:o.id,data:o.data()})))}):r([])},[]),q.jsx(Lc,{children:q.jsx("section",{className:QC.container,children:q.jsxs("div",{className:QC.orders_container,children:[q.jsx("h2",{children:"Your Orders"}),(t==null?void 0:t.length)===0&&q.jsx("div",{style:{padding:"20px"},children:" You don't have orders yet."}),q.jsx("div",{children:t==null?void 0:t.map((i,o)=>{var u,h;return q.jsxs("div",{children:[q.jsx("hr",{}),q.jsxs("p",{children:["Order ID: ",i==null?void 0:i.id]}),(h=(u=i==null?void 0:i.data)==null?void 0:u.basket)==null?void 0:h.map(f=>q.jsx(zc,{flex:!0,product:f},f.id))]},o)})})]})})})}const dK="_container_8wyf0_1",fK="_cart_product_8wyf0_19",pK="_btn_container_8wyf0_27",mK="_btn_8wyf0_27",gK="_subtotal_8wyf0_69",yK="_cart_container_8wyf0_75",$o={container:dK,cart_product:fK,btn_container:pK,btn:mK,subtotal:gK,cart_container:yK};function _K(n){return Tc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M128 192l128 128 128-128z"},child:[]}]})(n)}function vK(n){return Tc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M128 320l128-128 128 128z"},child:[]}]})(n)}function EK(){const[{basket:n,user:e},t]=W.useContext(eo),r=n.reduce((u,h)=>h.price*h.amount+u,0),i=u=>{t({type:Oa.ADD_TO_BASKET,item:u})},o=u=>{t({type:Oa.REMOVE_FROM_BASKET,id:u})};return q.jsx(Lc,{children:q.jsxs("section",{className:$o.container,children:[q.jsxs("div",{className:$o.cart_container,children:[q.jsx("h2",{children:"Hello"}),q.jsx("h3",{children:"Your shopping basket "}),q.jsx("hr",{}),(n==null?void 0:n.length)===0?q.jsx("p",{children:"Opps! Your basket is empty"}):n==null?void 0:n.map((u,h)=>q.jsxs("section",{className:$o.cart_product,children:[q.jsx(zc,{product:u,renderDesc:!0,renderadd:!1,flex:!0},h),q.jsxs("div",{className:$o.btn_container,children:[q.jsx("button",{className:$o.btn,onClick:()=>i(u),children:q.jsx(vK,{size:30})}),q.jsx("span",{children:u.amount}),q.jsx("button",{className:$o.btn,onClick:()=>o(u.id),children:q.jsx(_K,{size:30})})]})]}))]}),(n==null?void 0:n.length)!==0&&q.jsxs("div",{className:$o.subtotal,children:[q.jsxs("div",{children:[q.jsxs("p",{children:["Subtotal(",n==null?void 0:n.length," items)"]}),q.jsx(Jw,{amount:r})]}),q.jsxs("span",{children:[q.jsx("input",{type:"checkbox"}),q.jsx("small",{children:"This order contains a gift"})]}),q.jsx(si,{to:"/payments",children:" Continue to checkout"})]}),q.jsx("div",{})]})})}const bK="_products_container_g79ms_1",wK={products_container:bK},e2="https://fakestoreapi.com";function TK(){const{categoryName:n}=ox(),[e,t]=W.useState([]),[r,i]=W.useState(!1);return W.useEffect(()=>{Ot.get(`${e2}/products/category/${n}`).then(o=>{t(o.data),i(!1)}).catch(o=>{console.log(o),i(!1)})},[]),q.jsx(Lc,{children:q.jsxs("section",{children:[q.jsx("h1",{style:{padding:"30px"},children:"Results"}),q.jsxs("p",{style:{padding:"30px"},children:["Category / ",n]}),q.jsx("hr",{}),r?q.jsx(Zw,{}):q.jsx("div",{className:wK.products_container,children:e==null?void 0:e.map(o=>q.jsx(zc,{product:o,renderDesc:!1,renderadd:!0},o.id))})]})})}function SK(){const{productId:n}=ox(),[e,t]=W.useState({}),[r,i]=W.useState(!1);return W.useEffect(()=>{i(!0),Ot.get(`${e2}/products/${n}`).then(o=>{t(o.data),i(!1)}).catch(o=>{console.log(o),i(!1)})},[]),q.jsx(Lc,{children:r?q.jsx(Zw,{}):q.jsx(zc,{product:e,flex:!0,renderDesc:!0,renderadd:!0})})}const AK="_login_v920u_1",IK="_login_container_v920u_23",RK="_login_signInButton_v920u_91",CK="_login_registerButton_v920u_123",xm={login:AK,login_container:IK,login_signInButton:RK,login_registerButton:CK};function xK(){var T,b;const[n,e]=W.useState(""),[t,r]=W.useState(""),[i,o]=W.useState(""),[u,h]=W.useState({signIn:!1,signUp:!1}),[{user:f},d]=W.useContext(eo),g=Fg(),_=Za(),v=A=>{A.preventDefault(),console.log(A.target.name),A.target.name==="signIn"?(h({...u,signIn:!0}),yP(RE,n,t).then(P=>{var U;d({type:"SET_USER",user:P.user}),h({...u,signIn:!1}),g(((U=_==null?void 0:_.state)==null?void 0:U.redirect)||"/")}).catch(P=>{o(P.message),h({...u,signIn:!1})})):(h({...u,signUp:!0}),gP(RE,n,t).then(P=>{var U;d({type:"SET_USER",user:P.user}),h({...u,signUp:!1}),g(((U=_==null?void 0:_.state)==null?void 0:U.redirect)||"/")}).catch(P=>{o(P.message),h({...u,signUp:!1})}))};return q.jsxs("section",{className:xm.login,children:[q.jsx(si,{to:"/",children:q.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/905px-Amazon_logo.svg.png",alt:""})}),q.jsxs("div",{className:xm.login_container,children:[q.jsx("h1",{children:"Sign In"}),((T=_==null?void 0:_.state)==null?void 0:T.msg)&&q.jsx("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"},children:(b=_==null?void 0:_.state)==null?void 0:b.msg}),q.jsxs("form",{action:"",children:[q.jsxs("div",{children:[q.jsx("label",{htmlFor:"email",children:"Email"}),q.jsx("input",{value:n,onChange:A=>e(A.target.value),type:"email",id:"email",placeholder:"Enter your Email"})]}),q.jsxs("div",{children:[q.jsx("label",{htmlFor:"password",children:"Password"}),q.jsx("input",{value:t,onChange:A=>r(A.target.value),type:"password",id:"password",placeholder:"Enter your Password"})]}),q.jsx("button",{type:"submit",onClick:v,name:"signIn",className:xm.login_signInButton,children:u.signIn?q.jsx(jE,{color:"#000",size:15}):"Sign In"})]}),q.jsx("p",{children:"By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."}),q.jsx("button",{type:"submit",onClick:v,name:"SignUp",className:xm.login_registerButton,children:u.signUp?q.jsx(jE,{color:"#000",size:15}):"Create your Amazon Account"}),i&&q.jsx("small",{style:{padding:"5px",color:"red"},children:i})]})]})}var t2="basil",PK=function(e){return e===3?"v3":e},n2="https://js.stripe.com",OK="".concat(n2,"/").concat(t2,"/stripe.js"),DK=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,NK=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var kK=function(e){return DK.test(e)||NK.test(e)},MK=function(){for(var e=document.querySelectorAll('script[src^="'.concat(n2,'"]')),t=0;t<e.length;t++){var r=e[t];if(kK(r.src))return r}return null},YC=function(e){var t="",r=document.createElement("script");r.src="".concat(OK).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},VK=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.3.0",startTime:t})},_d=null,Pm=null,Om=null,LK=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},UK=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},BK=function(e){return _d!==null?_d:(_d=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var i=MK();if(!(i&&e)){if(!i)i=YC(e);else if(i&&Om!==null&&Pm!==null){var o;i.removeEventListener("load",Om),i.removeEventListener("error",Pm),(o=i.parentNode)===null||o===void 0||o.removeChild(i),i=YC(e)}}Om=UK(t,r),Pm=LK(r),i.addEventListener("load",Om),i.addEventListener("error",Pm)}catch(u){r(u);return}}),_d.catch(function(t){return _d=null,Promise.reject(t)}))},FK=function(e,t,r){if(e===null)return null;var i=t[0],o=i.match(/^pk_test/),u=PK(e.version),h=t2;o&&u!==h&&console.warn("Stripe.js@".concat(u," was loaded on the page, but @stripe/stripe-js@").concat("7.3.0"," expected Stripe.js@").concat(h,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var f=e.apply(void 0,t);return VK(f,r),f},vd,r2=!1,i2=function(){return vd||(vd=BK(null).catch(function(e){return vd=null,Promise.reject(e)}),vd)};Promise.resolve().then(function(){return i2()}).catch(function(n){r2||console.warn(n)});var zK=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];r2=!0;var i=Date.now();return i2().then(function(o){return FK(o,t,i)})};function XC({children:n,msg:e,redirect:t}){const r=Fg(),[{user:i},o]=W.useContext(eo);return W.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:t}})},[i]),n}const jK=zK("pk_test_51ROBv305dlJ2xtHQBZPdF0IStnCjk9mcYioAGhbp1tPmFXV229aHeZSxUnA7PyY7I85RCmzIiAQDVNvCW7wPmlep00VvhgNYDV");function qK(){return q.jsx(JV,{children:q.jsxs(xV,{children:[q.jsx(Ia,{path:"/",element:q.jsx(kG,{})}),q.jsx(Ia,{path:"/auth",element:q.jsx(xK,{})}),q.jsx(Ia,{path:"/payments",element:q.jsx(XC,{msg:"You must login to Pay",redirect:"/payments",children:q.jsx(Jk,{stripe:jK,children:q.jsx(lK,{})})})}),q.jsx(Ia,{path:"/orders",element:q.jsx(XC,{msg:"You must login to access your orders",redirect:"/orders",children:q.jsx(hK,{})})}),q.jsx(Ia,{path:"/category/:categoryName",element:q.jsx(TK,{})}),q.jsx(Ia,{path:"/products/:productId",element:q.jsx(SK,{})}),q.jsx(Ia,{path:"/cart",element:q.jsx(EK,{})})]})})}function HK(){return q.jsx(q.Fragment,{children:q.jsx(qK,{})})}const $K={basket:[],user:null},GK=(n,e)=>{switch(e.type){case Oa.ADD_TO_BASKET:if(n.basket.find(o=>o.id===e.item.id)){const o=n.basket.map(u=>u.id===e.item.id?{...u,amount:u.amount+1}:u);return{...n,basket:o}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case Oa.REMOVE_FROM_BASKET:const r=n.basket.findIndex(o=>o.id===e.id);let i=[...n.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...n,basket:i};case Oa.EMPITY_BASKET:return{...n,basket:[]};case Oa.SET_USER:return{...n,user:e.user};default:return n}};BM.createRoot(document.getElementById("root")).render(q.jsx($e.StrictMode,{children:q.jsx(xL,{reducer:GK,initialState:$K,children:q.jsx(HK,{})})}));
